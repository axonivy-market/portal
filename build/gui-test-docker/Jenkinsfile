pipeline {
  agent {
    docker {
      image 'maven:3.5.2-jdk-8'
    }
  }
  
  options {
    buildDiscarder(logRotator(numToKeepStr: '60', artifactNumToKeepStr: '5'))
  }
  
  triggers {
    pollSCM 'H 5 * * *'
    cron('H 17 * * *')
  }

  tools { 
      maven '3.6' 
      jdk '11' 
  }

  parameters {
      string(name: 'testPatternToRun', defaultValue: 'portal.guitest.userexample.test.*Test,portal.guitest.test.*Test', description: 'Test pattern to run')
      string(name: 'engineDownloadURL', defaultValue: '-Divy.engine.download.url=https://developer.axonivy.com/permalink/nightly/axonivy-engine-windows.zip', description: 'Where to download engine?')
  }

  environment {
    engineDir = "$env.WORKSPACE/AxonIvyPortal/PortalTest/engine"
  }

  stages {
    stage('build') {
      steps {
        script {
          echo "====================Turn off Elasticsearch port from 19200 to 19210===================="
        }
      }
    }
  }
}
