<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0"
	xml:id="axonivyportal.components.additionalcomponent">
	<title>Additional Components</title>
	<sect2 xml:id="axonivyportal.components.additionalcomponent.processhistory">
		<title>Process history</title>
		<sect3 xml:id="axonivyportal.components.additionalcomponent.processhistory.introduction">
			<title>Introduction</title>
			<para>
				This component is a lazy loading list which displays all business cases of a business entity in your
				application. You
				can
				include this
				component
				everywhere:
			</para>
			<para>
				In a page
			</para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/AdditionalComponent/processHistoryExample.png" />
				</imageobject>
			</mediaobject>
			<para>
				In a dialog
			</para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/AdditionalComponent/processHistoryDialogExample.png" />
				</imageobject>
			</mediaobject>
		</sect3>
		<sect3 xml:id="axonivyportal.components.additionalcomponent.processhistory.howtouse">
			<title>How to use</title>
			<para>
				First you need to link the cases to the business entity. Call the subprocess
				<code>SetBusinessEntityId</code>
				in the process which need to be linked
				and input an identifier unique to your business entity. The subprocess will
				set the id to the additional property "CASE_BUSINESS_ENTITY_PROPERTY" of the business case.
			</para>
			<mediaobject>
				<imageobject>
					<imagedata fileref="images/AdditionalComponent/setBusinessEntityIdSubProcess.png" />
				</imageobject>
			</mediaobject>
			<para>
				Include the process history component into your page:
			</para>
			<para>
				<code>&lt;ic:ch.ivy.addon.portal.component.ProcessHistory businessEntityId="resourceA247" &gt;</code>
			</para>
			<para>
				The value of the attribute
				<code>businessEntityId</code>
				must match the id input into the subprocess in the first step.
			</para>
			<para>
				By default the component will load 20 cases at a
				time. You can change this by setting the attribute
				<code>chunkSize</code>
				to the number you want
				. You should use this attribute alongside with the attribute
				<code>scrollHeight</code>
				to configure the scroll bar of the list.
			</para>
			<note>
				If you use this component in a dialog, you must run this script
				<code>processHistory.setup();</code>
				when the dialog is shown. For example:
				<para>
					<code>
						&lt;p:dialog widgetVar="process-history-dialog" id="process-history-dialog" width="800" height="500"
						header="Process history of Resource A247" onShow="processHistory.setup();"&gt;</code>
				</para>
				<para>
					<code>&lt;ic:ch.ivy.addon.portal.component.ProcessHistory businessEntityId="resourceA247"
						chunkSize="6"
						scrollHeight="400" /&gt;</code>
				</para>
				<para>
					<code>&lt;/p:dialog></code>
				</para>
			</note>
			<important>
				If your process has a Trigger component or sends a signal to start another process with the option "Attach to
				Business
				Case that triggered this process" selected, the current case of the process will become a
				technical case and
				will not be loaded into
				the process history list. In this case
				You
				need to call the
				<code>SetBusinessEntityId</code>
				subprocess
				after the first Trigger or signal sending step.
			</important>
		</sect3>
	</sect2>
</sect1>