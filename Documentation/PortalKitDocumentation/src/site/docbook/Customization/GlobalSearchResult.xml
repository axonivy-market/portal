<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="axonivyportal.customization.globalsearchresult">
	<title>Global Search Result</title>
	<sect2>
		<title>Global Search Result</title>
		<mediaobject>
			<imageobject>
				<imagedata fileref="images/GlobalSearchResult/GlobalSearchResult.png" />
			</imageobject>
		</mediaobject>
		<para>Follow these steps to customize the global search page:
		</para>
		<para>
			<orderedlist>
				<listitem>
					<para>
						Introduce an Axon.ivy project which has	<code>PortalTemplate</code>	as a required library.
					</para>
				</listitem>
				<listitem>
					<para>
						Copy the <code>PortalStart</code> process from <code>PortalTemplate</code> to your project. This process is new home page and administrator should register this link by global
					</para>
				</listitem>
				<listitem>
					<para>
						Refer to <link linkend="axonivyportal.customization.portalhome">Customize Portal home</link> to set new home page.
					</para>
				</listitem>
				<listitem>
					<para>
						Create the customized search data model extends <code>SearchResultsDataModel</code>, and override the <code>search</code> method to filter your objects.
					</para>
					<tip>
						<para>Note: it is recommended that lazy loading or pagination should be applied for custom tabs to have a good performance.</para>
					</tip>
				</listitem>
				<listitem>
					<para>
						Create the HTML dialog using <code>/layouts/SearchResultsTemplate.xhtml</code>, recommended to copy the <code>SearchResults</code> HTML dialog in PortalTemplate. In dataclass, change the <code>dataModel</code> to the above one, and in logic, also cast it.
					</para>
					<mediaobject>
						<imageobject>
							<imagedata fileref="images/GlobalSearchResult/CustomizedDataModelCast.png" />
						</imageobject>
					</mediaobject>
				</listitem>
				<listitem>
					<para>
						Define the <code>custom-search</code> section to add your customized tabs:
					</para>
					<mediaobject>
						<imageobject>
							<imagedata fileref="images/GlobalSearchResult/CustomizedSearchResults.png" />
						</imageobject>
					</mediaobject>
				</listitem>
				<listitem>
					<para>
						Override the <code>OpenPortalSearch</code> callable process and change the HTML dialog to your customized one.
					</para>
				</listitem>
			</orderedlist>
		</para>
		<tip>
			<para>Hint: refer to the example in the PortalExamples project: CustomizedSearchResultsDataModel.java, CustomizedSearchResults HTML dialog, OpenPortalSearchOverride callable process</para>
		</tip>
	</sect2>
</sect1>
