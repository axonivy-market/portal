<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="axonivyportal.customization.expressexternaldataprovider">
	<title>Express external data provider</title>
	<sect2 xml:id="axonivyportal.customization.expressexternaldataprovider.introduction">
		<title>Introduction</title>
		<para>
			In portal express we can provide the external data for checkbox values when creating form, like a product catalogue can be maintained in the background and the process calls this data provider.
		</para>
	</sect2>
	<sect2 xml:id="axonivyportal.customization.expressexternaldataprovider.customization">
		<title>Customization</title>
		
		<para>
			<orderedlist>
				<listitem>
					<para>Create a callable subprocess that has signature "portalExpressDataProvider"</para>
					<mediaobject>
						<imageobject>
							<imagedata fileref="images/expressexternaldataprovider/CallableSubProcess.png" />
						</imageobject>
					</mediaobject>
					<para>The subprocess return the list of String:</para>
					<mediaobject>
						<imageobject>
							<imagedata fileref="images/expressexternaldataprovider/CallableSubProcessResult.png" />
						</imageobject>
					</mediaobject>
					<para>Below is an example that use Database element to read the data from DB as a data provider.</para>
					<para>In the DB tab:</para>
					<itemizedlist>
						<listitem><para>Kind of Query: choose "Read query"</para></listitem>
						<listitem><para>Database: select the database name</para></listitem>
						<listitem><para>Table: select the table name</para></listitem>
						<listitem><para>Fields: choose "Specified Fields" and tick one column that use for data provider.</para></listitem>
					</itemizedlist>
					<mediaobject>
						<imageobject>
							<imagedata fileref="images/expressexternaldataprovider/Database.png" />
						</imageobject>
					</mediaobject>
					<para>In the Output tab, set the value for the output variable:</para>
					<para><code>out.items = recordset.getColumn("[name of the column]")</code></para>
					<mediaobject>
						<imageobject>
							<imagedata fileref="images/expressexternaldataprovider/DatabaseOutput.png" />
						</imageobject>
					</mediaobject>
				</listitem>
				<listitem>
					<para>Create new Express Workflow</para>
					<para>In the form creation, choose Checkbox and select the data provider in the dropdown list. Then fill the label of check box and press Create button. You can drag and drop the checkbox element to the Placement of form elements and preview the values of the checkbox.</para> 
					<para>Note: The first item in the dropdown list is "Special static data provider", it means that user will provide the values of the checkbox manually. </para> 
					<mediaobject>
						<imageobject>
							<imagedata fileref="images/expressexternaldataprovider/ExpressWorkflow.png" />
						</imageobject>
					</mediaobject>
				</listitem>
			</orderedlist>
		</para>
	</sect2>
</sect1>
