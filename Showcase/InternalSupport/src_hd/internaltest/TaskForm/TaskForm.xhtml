<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:ic="http://ivyteam.ch/jsf/component"
  xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
  xmlns:pm="http://primefaces.org/mobile">
<h:body>
  <ui:composition template="/layouts/TaskTemplate.xhtml">
    <ui:param name="businessMainContactFolderId" value="#{ivy.case.businessMainContactFolderId}" />
    <ui:param name="caseId" value="#{ivy.case.getBusinessCase().getId()}" />
    <ui:param name="actualStepIndex" value="#{data.actualStepIndex}" />
    <ui:param name="homeLink" value="#{ivy.html.startref('Start Processes/InternalSupportPortalHome/start.ivp')}" />
    <ui:param name="steps" value="#{data.steps}" />
    <ui:param name="task" value="#{ivy.task}" />
    <ui:define name="taskForm">
      <h:form id="leave-request">
        <p:focus></p:focus>
        <h:panelGrid columns="3" columnClasses="TexAlRight,">
          <p:outputLabel for="fullname" value="#{ivy.cms.co('/ProcessPages/ProcessLeaves/ProcessLeave/employee')}" />
          <p:inputText id="fullname" required="true" requiredMessage="#{ivy.cms.co('/ProcessPages/TestTask/isRequired')}">
          </p:inputText>
          <p:message id="fullname-msg" for="fullname" />

          <p:outputLabel for="from" value="#{ivy.cms.co('/ProcessPages/ProcessLeaves/ProcessLeave/from')}" />
          <p:calendar id="from" value="" pattern="dd.MM.yyyy" required="true" locale="en_US"
            requiredMessage="#{ivy.cms.co('/ProcessPages/TestTask/isRequired')}">
            <f:convertDateTime pattern="dd.MM.yyyy" />
          </p:calendar>
          <p:message id="from-msg" for="from" />

          <p:outputLabel for="to" value="#{ivy.cms.co('/ProcessPages/ProcessLeaves/ProcessLeave/to')}" />
          <p:calendar id="to" value="" locale="en_US" pattern="dd.MM.yyyy" required="true"
            requiredMessage="#{ivy.cms.co('/ProcessPages/TestTask/isRequired')}">
            <f:convertDateTime pattern="dd.MM.yyyy" />
          </p:calendar>
          <p:message id="to-msg" for="to" />

          <p:outputLabel for="substitute"
            value="#{ivy.cms.co('/ProcessPages/ProcessLeaves/ProcessLeave/representation')}" />
          <p:inputText id="substitute" required="true" requiredMessage="#{ivy.cms.co('/ProcessPages/TestTask/isRequired')}">
          </p:inputText>
          <p:message id="substitute-msg" for="substitute" />
        </h:panelGrid>

        <p:remoteCommand name="leaveRequest" actionListener="#{logic.close}" update="leave-request" />
        <p:remoteCommand name="closeDialog" actionListener="#{logic.close}" process="@this" />
      </h:form>
    </ui:define>

    <ui:define name="leftButtons">
      
    </ui:define>

    <ui:define name="rightButtons">
      <h:panelGroup styleClass="MarTop5 DispBlock">
    	  <p:commandButton type="button" value="Send" styleClass="portal-ok-button" icon="fa fa-send-o" onclick="leaveRequest()" />
    	  <p:spacer width="5px"/>
        <p:commandButton type="button" value="Cancel" styleClass="mod-cancel-button portal-cancel-button" icon="fa fa-ban" onclick="closeDialog()" />
      </h:panelGroup>
    </ui:define>

  </ui:composition>
</h:body>
</html>