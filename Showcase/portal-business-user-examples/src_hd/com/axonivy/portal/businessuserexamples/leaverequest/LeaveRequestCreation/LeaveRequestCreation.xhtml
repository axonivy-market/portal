<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions">
<h:body>
  <ui:composition template="/layouts/TaskTemplate-8.xhtml">
    <ui:define name="title">Create Leave Request</ui:define>
    <ui:define name="content">

      <h:form id="leave-request">

        <h:panelGroup styleClass="ui-g">
          <p:messages styleClass="ui-g-4 ui-lg-4 ui-md-12 ui-sm-12" />
          <h:panelGrid columns="2"
            columnClasses="TexAlLeft ui-g-4 ui-lg-4 ui-md-12 ui-sm-12, ui-g-8 ui-lg-8 ui-md-0 ui-sm-0"
            styleClass="ui-g-6 ui-md-12 ui-sm-12 ui-fluid">
            <h:panelGroup class="md-inputfield MarTop10">
              <p:inputText id="requester" disabled="true" value="#{data.requester.displayName}" />
              <p:outputLabel for="requester" value="#{ivy.cms.co('/Labels/LeaveRequest/Requester')}" />
            </h:panelGroup>
            <div></div>

            <h:panelGroup class="md-inputfield MarTop20">
              <p:selectOneMenu id="leaveType" value="#{data.leaveRequestData.leaveType}" converter="pojoConverter"
                required="true" requiredMessage="#{ivy.cms.co('/Labels/LeaveRequest/LeaveType')}: #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}">
                <f:selectItem itemLabel="" itemValue="#{null}" noSelectionOption="true" />
                <f:selectItems value="#{data.leaveTypes}" var="type" itemLabel="#{type.getLabel()}" itemValue="#{type}" />
              </p:selectOneMenu>
              <p:outputLabel for="leaveType" value="#{ivy.cms.co('/Labels/LeaveRequest/LeaveType')}" />
            </h:panelGroup>
            <div></div>

            <h:panelGroup class="md-inputfield MarTop20">
              <p:calendar id="from" value="#{data.leaveRequestData.from}" locale="#{localeBean.locale}"
                pattern="#{dateTimePatternBean.datePattern}" required="true"
                requiredMessage="#{ivy.cms.co('/Labels/LeaveRequest/From')}: #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}">
                <f:convertDateTime pattern="#{dateTimePatternBean.datePattern}" />
              </p:calendar>
              <p:outputLabel for="from" value="#{ivy.cms.co('/Labels/LeaveRequest/From')}" />
            </h:panelGroup>
            <div></div>

            <h:panelGroup class="md-inputfield MarTop20">
              <p:calendar id="to" value="#{data.leaveRequestData.to}" locale="#{localeBean.locale}"
                pattern="#{dateTimePatternBean.datePattern}" required="true"
                requiredMessage="#{ivy.cms.co('/Labels/LeaveRequest/To')} #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}">
                <f:convertDateTime pattern="#{dateTimePatternBean.datePattern}" />
              </p:calendar>
              <p:outputLabel for="to" value="#{ivy.cms.co('/Labels/LeaveRequest/To')} " />
            </h:panelGroup>
            <div></div>
            
            <h:panelGroup class="md-inputfield MarTop20">
              <p:selectOneMenu id="approver" value="#{data.approver}" converter="pojoConverter" required="true"
              requiredMessage="#{ivy.cms.co('/Labels/LeaveRequest/Approver')} #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}">
                <f:selectItem itemLabel="" itemValue="#{null}" noSelectionOption="true" />
                <f:selectItems value="#{data.approvers}" var="approver" itemLabel="#{approver.getDisplayName()}"
                  itemValue="#{approver}" />
              </p:selectOneMenu>
              <p:outputLabel for="approver" value="#{ivy.cms.co('/Labels/LeaveRequest/Approver')}" />
            </h:panelGroup>
            <div></div>
            
            <h:panelGroup>
              <p:outputLabel for="requesterComment" value="#{ivy.cms.co('/Labels/LeaveRequest/RequesterComment')}: " />
              <p:inputTextarea id="requesterComment" value="#{data.leaveRequestData.requesterComment}" required="true" rows="5"
                requiredMessage="#{ivy.cms.co('/Labels/LeaveRequest/RequesterComment')}: #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}" />
            </h:panelGroup>
            <div></div>

            <h:panelGroup layout="block" styleClass="MarTop5 Fright" id="command-group">
              <p:commandButton value="#{ivy.cms.co('/Labels/LeaveRequest/SubmitLeaveRequest')}" icon="fa fa-send-o" partialSubmit="true" id="button-submit"
                actionListener="#{logic.close}" process=":leave-request" update=":leave-request" />
            </h:panelGroup>
            <div></div>

          </h:panelGrid>

        </h:panelGroup>
      </h:form>

    </ui:define>
  </ui:composition>
</h:body>
</html>