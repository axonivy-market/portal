<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions">
<h:body>
  <ui:composition template="/layouts/basic.xhtml">
    <ui:define name="title">CollectPersonData</ui:define>
    <ui:define name="content">
      <h3>Credit Request</h3>
      <br />
      <br />

      <h:form id="form">

        <p:messages></p:messages>
        <h4>Person</h4>
        <h:panelGrid columns="2">
          <p:outputLabel for="name" value="Name" />
          <p:inputText required="true" id="name" value="#{data.dossier.customer.name}" />

          <p:outputLabel for="firstName" value="First name" />
          <p:inputText id="firstName" value="#{data.dossier.customer.firstName}" />

          <p:outputLabel for="birthdate" value="Birthdate" />
          <p:calendar id="birthdate" value="#{data.dossier.customer.birthDate}" navigator="true" yearRange="c-50:c+10" pattern="dd.MM.yyyy">
            <f:convertDateTime pattern="dd.MM.yyyy" />
          </p:calendar>

          <p:outputLabel for="gender" value="Gender" />
          <p:selectOneRadio id="gender" value="#{data.dossier.customer.isMale}">
            <f:selectItem itemLabel="Male" itemValue="true" />
            <f:selectItem itemLabel="Female" itemValue="false" />
          </p:selectOneRadio>
        </h:panelGrid>

        <h4>Address</h4>

        <h:panelGrid columns="2">
          <p:outputLabel for="country" value="Country" />
          <p:inputText required="true" id="country" value="#{data.dossier.customer.address.country}" />
        </h:panelGrid>

        <h4>Credit</h4>

        <h:panelGrid columns="2">

          <p:outputLabel for="amount" value="Amount (SFr.)" />
          <p:inputText required="true" id="amount" value="#{data.dossier.request.amount}" />

          <p:outputLabel for="reason" value="Why do you need this credit?" />
          <p:inputText id="reason" value="#{data.dossier.request.reason}" />

          <p:outputLabel for="salary" value="Yearly salary" />
          <p:inputText required="true" id="salary" value="#{data.dossier.request.salary}" />

          <p:outputLabel for="amountOfOtherCredits" value="Amount of other open credits (SFr.)" />
          <p:inputText required="true" id="amountOfOtherCredits" value="#{data.dossier.request.amountOfOtherCredits}" />
        </h:panelGrid>

        <p:commandButton actionListener="#{logic.close}" value="Submit Request" update="form" icon="ui-icon-check" />
      </h:form>

    </ui:define>
  </ui:composition>
</h:body>
</html>