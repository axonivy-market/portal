<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions" xmlns:jsf="http://xmlns.jcp.org/jsf">
<h:body>
  <ui:composition template="/layouts/restricted/CaseMapDetailTemplate.xhtml">
    <ui:param name="caseMapDetail" value="#{data.caseMapDetail}" />
    <ui:param name="stageIndex" value="#{data.stageIndex}" />
    
    <ui:define name="navigation">
      <div class="ui-g-5">
        <i class="fa fa-chevron-left ui-md-hidden ui-sm-hidden" style="color:var(--primary-color);"/>
        <p:spacer width="5rem" styleClass="ui-md-hidden ui-sm-hidden"/>
        <p:commandLink value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/backToCaseMap')}"
        actionListener="#{logic.navigateToOverviewPage}" />
      </div>
      <div class="ui-g-7 TexAlRight">
        <i class="fa fa-chevron-left ui-md-hidden ui-sm-hidden" style="color:var(--primary-color);" jsf:rendered="#{stageIndex > 0}" />
        <p:spacer width="5rem" styleClass=" ui-md-hidden ui-sm-hidden"/>
        <p:commandLink value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/previousStage')}" 
          actionListener="#{logic.navigate(data.caseMapDetail, data.stageIndex - 1)}" 
          rendered="#{stageIndex > 0}"/>
        <p:spacer width="10rem" rendered="#{caseMapDetailBean.renderNextLink(caseMapDetail,stageIndex)}"/>
        <p:commandLink value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/nextStage')}" 
          actionListener="#{logic.navigate(data.caseMapDetail, data.stageIndex + 1)}" 
          rendered="#{caseMapDetailBean.renderNextLink(caseMapDetail,stageIndex)}"/>
        <p:spacer width="5rem" rendered="#{caseMapDetailBean.renderNextLink(caseMapDetail,stageIndex)}"/>
        <i class="fa fa-chevron-right ui-md-hidden ui-sm-hidden" style="color:var(--primary-color);" jsf:rendered="#{caseMapDetailBean.renderNextLink(caseMapDetail,stageIndex)}"/>
      </div>
    </ui:define>
    
    <ui:define name="actionButtons">
      <p:commandLink value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/cancel')}"
        actionListener="#{userMenuBean.navigateToHomePageOrDisplayWorkingTaskWarning(false, ivy.task)}" />
      <p:spacer width="20rem" />
      <p:commandButton value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/start')} #{caseMapDetail.name}"
        actionListener="#{caseMapDetailBean.startCaseMap(caseMapDetail.startLink)}" />
    </ui:define>
  </ui:composition>
</h:body>
</html>