<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions">
<h:body>
  <ui:composition template="/layouts/frame-10.xhtml">
    <ui:define name="title">Leave Request Approval</ui:define>
    <ui:define name="content">
      <h:panelGrid columns="1">
        <h2>Leave Request Approval Form</h2>
        <p:dataTable id="leave-request-details" value="#{data.task.customFields().all()}" var="item"
          reflow="true" lazy="false">
          <f:facet name="header">
            <h:outputText value="Leave Request Details" />
          </f:facet>
          <p:column headerText="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/name')}">
            <h:outputText id="name" value="#{item.name()}" />
          </p:column>
          <p:column headerText="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/adminSettings/value')}">
            <h:outputText id="value" value="#{item.getOrNull()}" />
          </p:column>
        </p:dataTable>

        <p:panel header="Approval Decision" styleClass="approval-form">
          <h:panelGrid columns="2" cellpadding="5">
            <p:outputLabel for="notes" value="Notes:" />
            <p:inputTextarea id="notes" value="#{data.notes}" rows="4" required="true" />
            
            <p:outputLabel for="approved" value="Decision:" />
            <p:selectOneRadio id="approved" value="#{data.approved}" required="true">
              <f:selectItem itemLabel="Approve" itemValue="true" />
              <f:selectItem itemLabel="Reject" itemValue="false" />
            </p:selectOneRadio>
          </h:panelGrid>
          
          <f:facet name="footer">
            <div class="button-container">
              <p:commandButton value="Submit" action="#{logic.submit}" update="@form"
                             styleClass="ui-button-primary" />
              <p:commandButton value="Cancel" action="#{logic.cancel}" immediate="true"
                             styleClass="ui-button-secondary" />
            </div>
          </f:facet>
        </p:panel>
      </h:panelGrid>
      
      <ic:com.axonivy.portal.components.IFrameTaskConfig isHideCaseInfo="true" isHideTaskAction="true"
        isHideTaskName="true" isWorkingOnATask="false" viewName="" />
    </ui:define>
  </ui:composition>
</h:body>
</html> 