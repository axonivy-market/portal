<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component"
  xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions">
<h:body>
  <ui:composition template="/layouts/frame-10.xhtml">
    <ui:define name="title">Side Step Example</ui:define>
    <ui:define name="content">
      <h:outputStylesheet library="css" name="leave-request-examples.css" />
      
      <div class="card">
        <h:form id="side-step-example">
          <div class="grid">
            <div class="col-12">
              <div class="text-xl font-semibold mb-3">#{ivy.cms.co('/Labels/LeaveRequest/approvalTaskIntro')}</div>
              <p:messages id="messages" showDetail="true" closable="true" styleClass="mb-3"/>
            </div>
            
            <div class="col-12 lg:col-6">
              <div class="p-inputgroup mb-3">
                <span class="p-float-label">
                  <p:outputLabel for="requester" value="#{ivy.cms.co('/Labels/LeaveRequest/requester')}" />
                  <p:inputText id="requester" disabled="true" value="#{data.requester.displayName}" styleClass="w-full"/>
                </span>
              </div>
            </div>
            
            <div class="col-12 lg:col-6">
              <div class="p-inputgroup mb-3">
                <span class="p-float-label">
                  <p:outputLabel for="leave-type" value="#{ivy.cms.co('/Labels/LeaveRequest/leaveType')}" />
                  <p:inputText id="leave-type" value="#{data.leaveRequestData.leaveType.getLabel()}" disabled="true" styleClass="w-full"/>
                </span>
              </div>
            </div>
            
            <div class="col-12 lg:col-6">
              <div class="p-inputgroup mb-3">
                <span class="p-float-label">
                  <p:outputLabel for="from" value="#{ivy.cms.co('/Labels/LeaveRequest/from')}" />
                  <p:datePicker id="from" value="#{data.leaveRequestData.from}" styleClass="w-full"
                    pattern="dd/MM/yyyy" disabled="true" />
                </span>
              </div>
            </div>
            
            <div class="col-12 lg:col-6">
              <div class="p-inputgroup mb-3">
                <span class="p-float-label">
                  <p:outputLabel for="to" value="#{ivy.cms.co('/Labels/LeaveRequest/to')}" />
                  <p:datePicker id="to" value="#{data.leaveRequestData.to}" styleClass="w-full"
                    pattern="dd/MM/yyyy" disabled="true" />
                </span>
              </div>
            </div>
            
            <div class="col-12">
              <div class="p-inputgroup mb-3">
                <span class="p-float-label">
                  <p:outputLabel for="approver" value="#{ivy.cms.co('/Labels/LeaveRequest/approver')}" />
                  <p:inputText id="approver" value="#{data.approver.displayName}" disabled="true" styleClass="w-full"/>
                </span>
              </div>
            </div>
            
            <div class="col-12">
              <div class="field mb-3">
                <span class="p-float-label">
                  <p:outputLabel for="requester-comment" value="#{ivy.cms.co('/Labels/LeaveRequest/requesterComment')}" />
                  <p:inputTextarea id="requester-comment" value="#{data.leaveRequestData.sideStepComment3.comment3}"
                    disabled="true" rows="4" styleClass="w-full" autoResize="false"/>
                </span>
              </div>
            </div>
            
            <div class="col-12">
              <div class="field mb-3">
                <span class="p-float-label">
                  <p:outputLabel for="requester-step-comment" value="#{ivy.cms.co('/Labels/LeaveRequest/LeaveSteps/requesterSideStepComment')}" />
                  <p:inputTextarea id="requester-step-comment" value="#{data.leaveRequestData.sideStepComment3.question}"
                    required="true" rows="5" styleClass="w-full" autoResize="false"
                    requiredMessage="#{ivy.cms.co('/Labels/LeaveRequest/LeaveSteps/requesterSideStepComment')}: #{ivy.cms.co('/Dialogs/com/axonivy/portal/component/Common/RequiredFieldMessage')}" />
                </span>
              </div>
            </div>
            
            <div class="col-12">
              <div class="field mb-4">
                <span class="p-float-label">
                  <p:outputLabel for="approver-comment" value="#{ivy.cms.co('/Labels/LeaveRequest/LeaveSteps/sideStepComment')}" />
                  <p:inputTextarea id="approver-comment" value="#{data.leaveRequestData.sideStepComment3.answer}"
                    required="true" rows="5" styleClass="w-full" autoResize="false"
                    requiredMessage="#{ivy.cms.co('/Labels/LeaveRequest/approverComment')}: #{ivy.cms.co('/Dialogs/com/axonivy/portal/component/Common/RequiredFieldMessage')}" />
                </span>
              </div>
            </div>
            
            <div class="col-12 flex justify-content-end gap-2">
              <p:commandButton value="Close" 
                icon="pi pi-times" 
                styleClass="p-button-secondary"
                id="rejected-btn" 
                actionListener="#{logic.close}"
                process="@form" 
                update="@form" />
                
              <p:commandButton value="OK" 
                icon="pi pi-check" 
                id="approved-btn" 
                actionListener="#{logic.submit}"
                process="@form" 
                update="@form" />
            </div>
          </div>
        </h:form>
      </div>
    </ui:define>
  </ui:composition>
</h:body>

</html>
