<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:cc="http://xmlns.jcp.org/jsf/composite" xmlns:ic="http://ivyteam.ch/jsf/component"
  xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions">
<cc:interface componentType="IvyComponent">
  <cc:attribute name="tasks" type="java.util.List"/>
</cc:interface>

<cc:implementation>

  <p:dialog id="side-step-result-dialog" resizable="false" closeOnEscape="true" visible="#{sideStepExampleBean.isVisible(cc.attrs.tasks)}"
    header="#{ivy.cms.co('/Dialogs/com/axonivy/portal/developerexamples/customization/sidestep/SideStepResultExample/SideStepResult')}" 
    width="650" widgetVar="side-step-result-dialog" appendTo="@(body)" modal="true" height="60vh"
    dynamic="true" responsive="true">
    <h:panelGroup layout="block" rendered="#{not empty cc.attrs.tasks}">
      <ui:repeat var="task" value="#{sideStepExampleBean.filterSideStepTaskList(cc.attrs.tasks)}" varStatus="count">
          
          <p:outputLabel value="Task #{count.index + 1}"/> 
          
          <div class="field col-12">
            <p:outputLabel for="assignee" value="#{ivy.cms.co('/Dialogs/com/axonivy/portal/developerexamples/customization/sidestep/SideStepResultExample/SideStepTaskIs')}" /> 
            <p:inputText id="assignee"
                  value="#{task.assignee}" disabled="true" styleClass="w-full" />
          </div>
    
          <h:panelGroup layout="block" styleClass="field col-12" rendered="#{not empty task.askMoreDetails}">
            <p:outputLabel value="#{ivy.cms.co('/Dialogs/com/axonivy/portal/developerexamples/customization/sidestep/SideStepAskMoreDetails/MoreDetails')}" /> 
            <p:inputTextarea disabled="true"
                  value="#{task.askMoreDetails}"  rows="5" styleClass="w-full" autoResize="false" />
          </h:panelGroup>
    
          <h:panelGroup layout="block" styleClass="field col-12" rendered="#{not empty task.ceoApprovalComment}">
            <p:outputLabel value="#{ivy.cms.co('/Dialogs/com/axonivy/portal/developerexamples/customization/sidestep/SideStepCEOApproval/CEOApproval')}" /> 
            <p:inputTextarea disabled="true"
                value="#{task.ceoApprovalComment}" rows="5" styleClass="w-full" autoResize="false" />
          </h:panelGroup>
    
          <h:panelGroup layout="block" styleClass="field col-12" rendered="#{not empty task.customerToInform}">
            <p:outputLabel value="#{ivy.cms.co('/Dialogs/com/axonivy/portal/developerexamples/customization/sidestep/LeaveRequestBusinessDetailsPage/InformCustomer')}" /> 
            <p:inputTextarea
                disabled="true" value="#{task.customerToInform}" rows="5" styleClass="w-full" autoResize="false" />
          </h:panelGroup>
      
      </ui:repeat>
    </h:panelGroup>
    <f:facet name="footer">
      <div class="flex justify-content-end gap-2">
        <p:commandButton id="side-step-result-ok-button" type="button" value="OK" icon="pi pi-check" styleClass="p-button-primary"
          onclick="PF('side-step-result-dialog').hide()" />
      </div>
    </f:facet>
  </p:dialog>


</cc:implementation>

</html>
