<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions">
<h:body>
  <ui:composition template="/layouts/DefaultHomePageTemplate.xhtml">
    <ui:param name="dataModel" value="#{logic.getDataModel()}" />
    <ui:param name="displayStatisticWidget" value="false" />
    <ui:define name="title">Customized Guide in Home</ui:define>
    
    <ui:define name="welcomeGuide">
      <ic:ch.ivy.addon.portalkit.component.WelcomePortalDialog id="welcome-portal-guide-component"
        title="Welcome to Customized Guide"
        onNext="PF('left-menu-guide').show()" updatedComponentAfterGuide="#{updatedComponentAfterGuide}" 
        rendered="#{guideBean.isGuideShown}" />
    </ui:define>
    
    <ui:define name="mainMenuGuide">
      <ic:ch.ivy.addon.portalkit.component.GuideOverlayPanel id="left-menu-guide-component" targetComponent="left-menu"
        title="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/components/guide/mainMenu/title')}"
        content="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/components/guide/mainMenu/content')}"
        targetCssSelector="#left-menu" iconClass="icon ivyicon-navigation-menu" onNext="PF('setting-container-guide').show()" my="left+30 top+70"
        at="right top" targetPosition="fixed" arrowPosition="left top"
        updatedComponentAfterGuide="#{updatedComponentAfterGuide}" rendered="#{guideBean.isGuideShown}" />
    </ui:define>
    
    <ui:define name="userSettingsGuide">
      <ic:ch.ivy.addon.portalkit.component.GuideOverlayPanel id="setting-container-guide-component" targetComponent="setting-container"
        title="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/components/guide/username/title')}" 
        content="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/components/guide/username/content')}"
        targetCssSelector=".setting-container" iconClass="icon ivyicon-single-neutral-actions" onNext="PF('process-widget-guide').show()"
        my="right bottom-30" at="right top" arrowPosition="top right" onShow="showUsernameGuide()" onHide="hideUsernameGuide()"
        updatedComponentAfterGuide="#{updatedComponentAfterGuide}" rendered="#{guideBean.isGuideShown}" />
        
      <script>
        // Can't highlight username on topbar, so highlight topbar. 
        function showUsernameGuide() {
          var zIndex = $('#guide-modal').css('z-index');
          $('.layout-topbar').css({'z-index':zIndex})
        }
        
        function hideUsernameGuide() {
          $('.layout-topbar').removeAttr("style");
        }
      </script>
    </ui:define>
    
    <ui:define name="taskWidgetGuide">
      <ic:ch.ivy.addon.portalkit.component.GuideOverlayPanel id="task-widget-guide-component" targetComponent="task-widget"
        title="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/components/guide/task/title')}" 
        content="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/components/guide/task/content')}"
        targetCssSelector="#task-widget" iconClass="icon ivyicon-task-list-edit"
        updatedComponentAfterGuide="#{updatedComponentAfterGuide}" rendered="#{guideBean.isGuideShown}" />
    </ui:define>
  </ui:composition>
</h:body>
</html>