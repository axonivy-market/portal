<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions"
  xmlns:pc="http://xmlns.jcp.org/jsf/composite/components">
<h:body>
  <ui:composition template="/layouts/BasicTemplate.xhtml">
    <ui:define name="title"> User Selection Component</ui:define>
    <ui:define name="pageContent">
      <h1 class="user-selection-component-header">User Selection Component</h1>
      <h:form id="form">
        <div class="ui-g" >
          <div class="ui-g-8 ui-xl-4 ui-md-6 ui-sm-12">
            <ic:ch.ivy.addon.portalkit.component.UserSelection 
              componentId="read-only-user-autocomplete"
              selectedUser="#{data.selectedUserForReadOnlyField}" 
              isRenderedMessage="false"
              label="Read only user selection" 
              labelPanelStyleClass="ui-g-5 ui-md-6 ui-sm-12" 
              autoCompleteStyleClass="width-100" 
              autoCompletePanelStyleClass="ui-g-5 ui-sm-12" 
              isReadOnly="true" hightlight="false"/>
          </div>
          <div id="floating-label-component" class="ui-g-4 ui-xl-3 ui-md-6 ui-sm-12">
            <ic:ch.ivy.addon.portalkit.component.UserSelection
              componentId="all-user-autocomplete"
              hightlight="false" selectedUser="#{data.selectedUser}"
              label="Loading with all users (exclude gm1, gm2, admin)"
              autoCompleteStyleClass="width-100"
              autoCompletePanelStyleClass="ui-g-12 floating-label-margin-top"
              excludedUsernames="#{data.excludedUsernames}"
              isRequired="true" floatingLabel="true" />
          </div>
        </div>
        <div class="ui-g" >
          <div id="user-by-role-component" class="ui-g-8 ui-xl-4 ui-md-6 ui-sm-12">
              <ic:ch.ivy.addon.portalkit.component.UserSelection 
              componentId="user-by-role-autocomplete"
              fromRoleNames="#{data.definedRoleNames}"
              selectedUser="#{data.selectedUserForDefinedRoles}"
              isRequired="true"
              autoCompleteStyleClass="width-100"
              label="Users from defined rolenames"
              labelPanelStyleClass="ui-g-5 ui-md-6 ui-sm-12" 
              autoCompletePanelStyleClass="ui-g-5 ui-sm-12" />
          </div>
          <div id="item-select-with-ajax-event-component" class="ui-g-4 ui-xl-3 ui-md-6 ui-sm-12">
            <ic:ch.ivy.addon.portalkit.component.UserSelection 
              id="item-select-event-component"
              componentId="item-select-event-for-user-selection"
              fromRoleNames="#{data.definedRoleNamesForEverybody}"
              selectedUser="#{data.selectedUserForInsertChildren}"
              label="Demonstrate facet and children"
              autoCompleteStyleClass="width-100"
              autoCompletePanelStyleClass="ui-g-12 floating-label-margin-top"
              isRequired="true" floatingLabel="true" >
                <p:column>
                  <pc:securityMemberNameAndAvatar securityMember="#{user}"
                    displayName="#{securityMemberDisplayNameFormatBean.generateFullDisplayNameForUserDTO(user)}" />
                </p:column>
                <f:facet name="event">
                  <p:ajax event="itemSelect" listener="#{logic.showSelectedUser}" 
                    update="#{p:resolveFirstComponentWithId('item-select-event-for-user-selection-message', view).clientId}"/>
                </f:facet>
              </ic:ch.ivy.addon.portalkit.component.UserSelection>
          </div>
        </div>
        <div class="ui-g assign-task-to-selected-user-panel display-block">
          <div class="ui-g-8 ui-xl-4 ui-md-6 ui-sm-12" />
          <div class="ui-g-4 ui-xl-3 ui-md-6 ui-sm-12">
            <p:commandButton id="assign-selected-user-btn" update="@form" value="Assign selected user from defined roles to next task"
              actionListener="#{logic.finish}" styleClass=" assign-task-to-selected-user" />
          </div>
        </div>
      </h:form>

    </ui:define>
    <ui:define name="css">
      <h:outputStylesheet library="css" name="examples.css" />
    </ui:define>
  </ui:composition>
</h:body>
</html>
