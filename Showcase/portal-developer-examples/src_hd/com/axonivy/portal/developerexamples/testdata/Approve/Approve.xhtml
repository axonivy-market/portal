<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions">
<h:body>
  <ui:composition template="/layouts/frame-10.xhtml">
    <ui:define name="title">Approve</ui:define>
    <ui:define name="content">
      <h:form id="content-form" style="padding-bottom: 100px;">
        <p:messages redisplay="false" showIcon="false">
            <p:autoUpdate/>
        </p:messages>
        <p:tabView id="content-tab-view">
          <p:tab title="Investment">
            <div class="ui-g">
              <div class="ui-g-2">
                <h:outputLabel id="id-label" for="id" value="Investment ID" />
              </div>
              <div class="ui-g-4">
                <h:outputText id="id" value="#{data.investmentRequest.investment.id}" />
              </div>
            </div>
            <div class="ui-g">
              <div class="ui-g-2">
                <h:outputLabel id="invested-amount-label" for="invested-amount" value="Invested amount" />
              </div>
              <div class="ui-g-4">
                <h:outputText id="invested-amount" value="#{data.investmentRequest.investment.investedMoney}" />
              </div>
              <div class="ui-g-2">
                <h:outputLabel id="start-date-label" for="start-date" value="Start date" />
              </div>
              <div class="ui-g-4">
                <h:outputText id="start-date" value="#{data.investmentRequest.investment.startDate}" />
              </div>
            </div>
            <div class="ui-g">
              <div class="ui-g-2">
                <h:outputLabel id="profit-label" for="profit" value="Profit" />
              </div>
              <div class="ui-g-4">
                <h:outputText id="profit" value="#{data.investmentRequest.investment.profit}" />
              </div>
              <div class="ui-g-2">
                <h:outputLabel id="profit-percent-label" for="profit-percent" value="Profit (%)" />
              </div>
              <div class="ui-g-4">
                <h:outputText id="profit-percent" value="#{data.investmentRequest.investment.profitPercentage}" />
              </div>
            </div>
            <p:fieldset legend="Company Information" toggleable="true" style="margin-top: 20px;">
              <div class="ui-g flex-align-center">
                <div class="ui-g-2">
                  <h:outputLabel id="company-id-label" for="company-id" value="Company ID" />
                </div>
                <div class="ui-g-4">
                  <h:outputText id="company-id" value="#{data.investmentRequest.investment.company.id}" />
                </div>
                <div class="ui-g-2">
                  <h:outputLabel id="company-name-label" for="company-name" value="Company Name" />
                </div>
                <div class="ui-g-4 ui-fluid">
                  <p:inputText id="company-name" value="#{data.investmentRequest.investment.company.name}" readonly="true"/>
                </div>
              </div>
              <div class="ui-g flex-align-center">
                <div class="ui-g-2">
                  <h:outputLabel id="company-desc-label" for="company-desc" value="Description" />
                </div>
                <div class="ui-g-10 ui-fluid">
                  <p:inputText id="company-desc" value="#{data.investmentRequest.investment.company.description}"
                     readonly="true"/>
                </div>
              </div>
            </p:fieldset>
            <div class="ui-g flex-align-center">
              <div class="ui-g-2">
                <h:outputLabel id="is-approved-label" for="is-approved" value="Decision" />
              </div>
              <div class="ui-g-4">
                <p:selectOneRadio id="is-approved" value="#{data.investmentRequest.decision.isApproved}">
                  <f:selectItem itemValue="true" itemLabel="Approve" />
                  <f:selectItem itemValue="false" itemLabel="Reject" />
                </p:selectOneRadio>
              </div>
            </div>
            <div class="ui-g">
              <div class="ui-g-2">
                <h:outputLabel id="approval-note-label" for="approval-note" value="Note for approver" />
              </div>
              <div class="ui-g-10 ui-fluid">
                <p:inputTextarea id="approval-note" value="#{data.investmentRequest.decision.note}" rows="3"
                  required="true" requiredMessage="Note is required"/>
              </div>
            </div>
          </p:tab>
          <p:tab title="Additional">
               Additional information
          </p:tab>
        </p:tabView>
        <div class="ui-g-12 text-align-right m-top-20">
          <p:commandButton id="approve-btn" value="Approve" actionListener="#{logic.close}" update="content-form" process="content-form"/>
          <p:spacer width="15px"/>
          <p:commandButton id="home-btn" value="Back to Home" actionListener="#{logic.home}" immediate="true" />
        </div>
      </h:form>
      <ic:com.axonivy.portal.components.IFrameTaskConfig processSteps='["Create Investment Request", "Approve Investment Request", "Review Request" ]'
        currentProcessStep="1" isShowAllSteps="true" isWorkingOnATask="false" announcementInvisible="false" viewName="TASK_DETAIL" taskIcon="fa fa-anchor"/>
    </ui:define>
  </ui:composition>
</h:body>
</html>