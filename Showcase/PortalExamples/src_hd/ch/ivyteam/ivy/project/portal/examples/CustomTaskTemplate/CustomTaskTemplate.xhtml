<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions">
<h:body>
  <ui:composition template="/layouts/TaskTemplate-8.xhtml">

    <ui:define name="title">Customized TaskTemplate</ui:define>

    <ui:param name="actualStepIndex" value="#{data.actualStepIndex - 1}" />
    <ui:param name="steps" value="#{data.steps}" />
    <ui:param name="processChainShape" value="#{data.processChainShape}" />
    <ui:param name="processChainDirection" value="#{data.processChainDirection}" />

    <ui:remove>
      <ui:define name="taskName">...</ui:define>
    </ui:remove>

    <ui:define name="breadCrumb"></ui:define>

    <ui:define name="content">

      <h:form id="form">
        <p:tabView>
          <p:tab title="My first tab">
            <h:panelGroup styleClass="md-inputfield MarTop20">
              <p:inputText id="first-name" value="#{data.firstname}" />
              <p:outputLabel value="first name" for="first-name" />
            </h:panelGroup>
          </p:tab>

          <p:tab title="My second tab">
            <h:panelGroup styleClass="md-inputfield MarTop20">
              <p:inputText id="last-name" value="#{data.lastname}" />
              <p:outputLabel value="last name" />
            </h:panelGroup>
          </p:tab>

          <p:tab title="My third tab">
            <h:panelGroup styleClass="md-inputfield MarTop20">
              <p:inputText id="last-name2" value="#{data.lastname}" />
              <p:outputLabel value="last name" />
            </h:panelGroup>
          </p:tab>

          <p:tab title="Customization tab">
            <h:panelGroup id="process-group" styleClass="ui-g-12 ui-fluid">
              <h:panelGrid styleClass="ui-g-6 ui-sm-12" columns="1">
                <p:outputLabel value="Actual step" />
                <h:panelGroup>
                  <p:spinner id="actual-step" value="#{data.actualStepIndex}" min="1" max="#{data.steps.size()}" />
                </h:panelGroup>

                <p:outputLabel value="Process Chain Direction" for="processChainDirection" styleClass="ui-g-12" />
                <p:selectOneMenu id="processChainDirection" value="#{data.processChainDirection}">
                  <f:selectItem itemLabel="VERTICAL" itemValue="VERTICAL" />
                  <f:selectItem itemLabel="HORIZONTAL" itemValue="HORIZONTAL" />
                </p:selectOneMenu>

                <p:outputLabel value="Process Chain Shape" for="processChainShape" styleClass="ui-g-12" />
                <p:selectOneMenu id="processChainShape" value="#{data.processChainShape}">
                  <f:selectItem itemLabel="LINE" itemValue="LINE" />
                  <f:selectItem itemLabel="CIRCLE" itemValue="CIRCLE" />
                </p:selectOneMenu>
              </h:panelGrid>

            </h:panelGroup>

            <h:panelGroup styleClass="ui-g-12">
              <h:panelGroup styleClass="ui-g-6 ui-sm-12 TexAlRight">
                <p:commandButton value="Save and reload" icon="fa fa-play" actionListener="#{logic.saveToSession()}"
                  process="process-group" oncomplete="reloadPage();" partialSubmit="true" />
                <p:remoteCommand name="reloadPage" actionListener="#{logic.reload()}" />
              </h:panelGroup>
            </h:panelGroup>
          </p:tab>
        </p:tabView>
        <p:commandButton value="Test left Button" actionListener="#{logic.close}" partialSubmit="true" />
        <p:commandButton value="Test Right button" actionListener="#{logic.close}" immediate="true" style="float:right" />
      </h:form>

    </ui:define>

  </ui:composition>
</h:body>
</html>