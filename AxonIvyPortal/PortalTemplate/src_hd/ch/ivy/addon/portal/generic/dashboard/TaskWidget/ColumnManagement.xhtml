<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions" xmlns:jsf="http://xmlns.jcp.org/jsf">

<p:dialog id="column-management-dialog" widgetVar="column-management-dialog"
  header="Column management" appendTo="@(body)" fitViewport="true" width="700"
  closeOnEscape="true" draggable="false" dynamic="true" responsive="true" modal="true">
  <h:form id="column-management-form">
    <ui:include src="FieldAdd.xhtml" />
    
    <p:dataTable id="column-management-datatable" value="#{cc.attrs.taskWidget.columns}" var="column" draggableRows="true" rowDragSelector="i.fa-arrows-v">
      <p:column headerText="Visible" width="70" style="text-align: center">
        <p:selectBooleanCheckbox id="column-visibility-checkbox" value="#{column.visible}" />
      </p:column>
      <p:column headerText="Field">
        #{column.field}
      </p:column>
      <p:column headerText="Display Name">
        #{column.header}
      </p:column>
      <p:column headerText="Reorder" width="70" style="text-align: center">
        <i class="fa fa-arrows-v" />
      </p:column>
      <p:column headerText="Remove" width="70" style="text-align: center">
        <p:commandLink id="remove-link">
          <i class="icon ivyicon-bin-1" />
        </p:commandLink>
      </p:column>
    </p:dataTable>
  </h:form>
  <f:facet name="footer">
    <p:commandLink id="column-management-cancel-link" styleClass="u-mar-right-10"
      value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/cancel')}"
      onclick="PF('column-management-dialog').hide()" />
      
    <p:commandButton id="column-management-save-btn"
      value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/save')}"
      partialSubmit="true"
      oncomplete="if (args &amp;&amp; !args.validationFailed) PF('column-management-dialog').hide();" />
  </f:facet>
</p:dialog>
</html>