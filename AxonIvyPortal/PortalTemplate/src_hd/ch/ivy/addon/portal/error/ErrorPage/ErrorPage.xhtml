<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:ic="http://ivyteam.ch/jsf/component"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:pm="http://primefaces.org/mobile"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf">
<h:body>
	<ui:composition template="/layouts/BasicTemplate.xhtml">
		<ui:param name="errorMessage" value="#{flash.keep.errorMessage}"/> 
		<ui:param name="errorStackTrace" value="#{flash.keep.errorStackTrace}"/>
		
		<ui:define name="pageTitle">Error Page</ui:define>
		<ui:define name="pageContent">
		
			<div class="error-container">
				<div class="message">
					<ui:fragment rendered="#{data.errorCode eq '404'}">
						<div class="message-header">#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/errorPage/404')}</div>
						<div class="message-container">#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/errorPage/404Message')}</div>
					</ui:fragment>
					
					<ui:fragment rendered="#{data.errorCode eq '500'}">
						<div class="message-header">#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/errorPage/500')}</div>
						<div class="message-container">
							#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/errorPage/500Message')}<span jsf:rendered="#{not empty errorMessage}">, </span> <p:link styleClass="message-detail u-hover-effect" rendered="#{not empty errorMessage}" href="#" onclick="PF('error-detail').show();" value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/errorPage/moreDetails')}"/>
						</div>
					</ui:fragment>
					
					<hr class="message-separator"/>
					<div class="message-footer">
						<p:button href="#" onclick="window.open('#{userMenuBean.getHomePageURL()}', '_self')" value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/errorPage/backToHomePage')}" />
					</div>
				</div>
			</div>
			<ic:ch.ivy.addon.portalkit.component.ExceptionDialog id="error-detail" widgetVar="error-detail" message="#{errorMessage}" stackTrace="#{errorStackTrace}"/>
		</ui:define>
	</ui:composition>
</h:body>
</html>