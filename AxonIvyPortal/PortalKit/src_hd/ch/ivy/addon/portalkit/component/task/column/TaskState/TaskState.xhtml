<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:cc="http://xmlns.jcp.org/jsf/composite" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
  xmlns:p="http://primefaces.org/ui">

<cc:interface componentType="IvyComponent">
  <cc:attribute name="componentId" default="task-state" />
  <cc:attribute name="state" required="true" type="ch.ivyteam.ivy.workflow.TaskState" />
  <cc:attribute name="stateStyleClass" />
  <cc:attribute name="stateIconStyleClass" />
  <cc:attribute name="stateTooltipStyleClass" />
  <cc:attribute name="dataModel" />
  <cc:attribute name="responsiveStyleClass" default="u-hidden-sm-down" />
</cc:interface>

<cc:implementation>
  <c:set var="state" value="#{cc.attrs.state}" />
  <h:panelGroup rendered="#{cc.attrs.dataModel.isSelectedColumn('STATE')}" >
    <h:panelGroup id="#{cc.attrs.componentId}" styleClass="state-cell default-task-cell #{cc.attrs.stateStyleClass} #{cc.attrs.responsiveStyleClass}">
      <span class="#{taskBean.getStateIcon(state)} #{cc.attrs.stateIconStyleClass}" />
    </h:panelGroup>
  </h:panelGroup>
  <p:tooltip id="state-tooltip" for="#{cc.attrs.componentId}"
    value="#{taskBean.getUserFriendlyTaskState(state)} (#{taskBean.getTranslatedState(state)})" styleClass="#{cc.attrs.stateTooltipStyleClass}" trackMouse="true" hideEvent="mouseleave click"/>
</cc:implementation>
</html>