<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:cc="http://xmlns.jcp.org/jsf/composite" xmlns:ic="http://ivyteam.ch/jsf/component"
  xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions">

<cc:interface componentType="IvyComponent">
  <cc:attribute name="message" required="true" shortDescription="Message Of Exception" />
  <cc:attribute name="stackTrace" required="true" shortDescription="Stack trace Of Exception" />
  <cc:attribute name="widgetVar" required="false" shortDescription="Primefaces widget variable" />
</cc:interface>

<cc:implementation>
  <p:dialog closeOnEscape="true" id="#{cc.id}" widgetVar="#{cc.attrs.widgetVar}" modal="true" resizable="false"
    header=" #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/detail')}" styleClass="exception-handler-dialog" responsive="true">
    <h:outputText value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/exceptionDialog/message')}: #{cc.attrs.message}" />
    <h:panelGroup layout="block" rendered="#{userMenuBean.errorDetailToEndUser}">
    <p>#{ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/exceptionDialog/stackTrace")}:</p>
    <div class="exception-handler-stacktrace">
      <h:outputText styleClass="exception-handler-stacktrace-text" value="#{cc.attrs.stackTrace}" readonly="true" escape="false"/>
    </div>
    </h:panelGroup>
    <f:facet name="footer">
      <div class="exception-handler-command">
          <p:commandButton onclick="PF('#{cc.attrs.widgetVar}').hide()" icon="#{visibilityBean.generateButtonIcon('icon ivyicon-remove')}" value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/close')}" type="button"/>
      </div>
    </f:facet>
    
  </p:dialog>
</cc:implementation>
</html>