<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:cc="http://xmlns.jcp.org/jsf/composite" xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
  xmlns:pm="http://primefaces.org/mobile" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

<cc:interface componentType="IvyComponent">
  <cc:attribute name="case" type="ch.ivyteam.ivy.workflow.ICase" required="true" />
  <cc:attribute name="isShowItemDetailsHeader" default="true" />
  <cc:attribute name="isShowItemDetailRelated" default="true" />
  <cc:attribute name="isShowItemDetailsNotes" default="true" />
  <cc:attribute name="isShowItemDetailDocuments" default="true" />
</cc:interface>

<cc:implementation>
  <c:set var="case" value="#{cc.attrs.case}" />
  <div class="ui-g">
    <ui:insert name="caseItemDetailHeader">
      <h:panelGroup styleClass="ui-g-12 ui-sm-12" rendered="#{cc.attrs.isShowItemDetailsHeader}">
        <h:outputText value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/searchResult/case')}: #{case.name}" styleClass="case-detail-header" />
        <div class="Separator" />
      </h:panelGroup>
    </ui:insert>

    <ui:insert name="caseItemDetailBody">
      <div class="case-detail-body">
        <ui:insert name="caseItemDetailBodyLeft">
          <div class="ui-g-6 ui-xl-6 ui-lg-6 ui-md-12 ui-sm-12">
            <div class="ui-g">
              <ui:insert name="caseItemDetailGeneral">
                <div class="ui-g-12 ui-sm-12">
                  <div class="card card-w-title  case-detail-card">
                    <div class="case-detail-section-title">
                      <i class="fa fa-user-circle" /> #{ivy.cms.co('/Dialogs/ch/ivy/addon/portalkit/component/CaseWidget/CaseDetail/DataDescription')}
                    </div>
                    <div class="Separator" />
                    <div class="ui-g">
                      <div class="ui-g-12 ui-sm-12">
                        <ic:ch.ivy.addon.portalkit.component.CaseItemGeneralInformation id="general-information" case="#{case}" />
                      </div>
                      <div class="ui-g-12 ui-sm-12">
                        <ic:ch.ivy.addon.portalkit.component.CaseItemDescription id="description" case="#{case}" descriptionComponentToUpdate=":#{p:component('description-cell')}" />
                      </div>
                    </div>
                  </div>
                </div>
              </ui:insert>

              <ui:insert name="caseItemDetailRelated">
                <h:panelGroup styleClass="ui-g-12 ui-sm-12" rendered="#{cc.attrs.isShowItemDetailRelated}">
                  <div class="card card-w-title case-related-container case-detail-card">
                    <ic:ch.ivy.addon.portalkit.component.CaseItemRelatedTask id="related-tasks" case="#{case}" />
                  </div>
                </h:panelGroup>
              </ui:insert>
            </div>
          </div>
        </ui:insert>

        <ui:insert name="caseItemDetailBodyRight">
          <div class="ui-g-6 ui-xl-6 ui-lg-6 ui-md-12 ui-sm-12">
            <div class="ui-g">
              <ui:insert name="caseItemDetailNotes">
                <h:panelGroup styleClass="ui-g-12 ui-sm-12" rendered="#{cc.attrs.isShowItemDetailsNotes}">
                  <div class="card card-w-title case-detail-card">
                    <div class="case-detail-section-title">
                      <i class="fa fa-history" /> #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/taskInformation/taskNotes')}
                    </div>
                    <div class="Separator case-note-separator" />
                    <ic:ch.ivy.addon.portalkit.component.CaseItemHistory id="history" case="#{case}" />
                  </div>
                </h:panelGroup>
              </ui:insert>

              <ui:insert name="caseItemDetailDocuments">
                <h:panelGroup styleClass="ui-g-12 ui-sm-12" rendered="#{cc.attrs.isShowItemDetailDocuments}">
                  <div class="card card-w-title case-detail-card">
                    <div class="case-detail-section-title">
                      <i class="fa fa-file" /> #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/caseDetails/documents')}
                    </div>
                    <div class="Separator case-note-separator" />
                    <ic:ch.ivy.addon.portalkit.component.CaseItemDocument id="document" case="#{case}" componentToUpdate=":#{p:component('history')}" />
                  </div>
                </h:panelGroup>
              </ui:insert>
            </div>
          </div>
        </ui:insert>
      </div>
    </ui:insert>

  </div>
</cc:implementation>
</html>