[Ivy]
[>Created: Fri Apr 15 14:19:50 ICT 2016]
15035F535EFB1618 3.18 #module
>Proto >Proto Collection #zClass
Ts0 TaskWidgetProcess Big #zClass
Ts0 RD #cInfo
Ts0 #process
Ts0 @TextInP .ui2RdDataAction .ui2RdDataAction #zField
Ts0 @TextInP .rdData2UIAction .rdData2UIAction #zField
Ts0 @TextInP .resExport .resExport #zField
Ts0 @TextInP .type .type #zField
Ts0 @TextInP .processKind .processKind #zField
Ts0 @AnnotationInP-0n ai ai #zField
Ts0 @MessageFlowInP-0n messageIn messageIn #zField
Ts0 @MessageFlowOutP-0n messageOut messageOut #zField
Ts0 @TextInP .xml .xml #zField
Ts0 @TextInP .responsibility .responsibility #zField
Ts0 @RichDialogInitStart f0 '' #zField
Ts0 @RichDialogProcessEnd f1 '' #zField
Ts0 @PushWFArc f3 '' #zField
Ts0 @RichDialogProcessStart f21 '' #zField
Ts0 @GridStep f6 '' #zField
Ts0 @RichDialogProcessEnd f17 '' #zField
Ts0 @RichDialogProcessStart f16 '' #zField
Ts0 @RichDialogProcessEnd f22 '' #zField
Ts0 @GridStep f2 '' #zField
Ts0 @PushWFArc f4 '' #zField
Ts0 @PushWFArc f5 '' #zField
Ts0 @PushWFArc f9 '' #zField
Ts0 @PushWFArc f18 '' #zField
Ts0 @GridStep f8 '' #zField
Ts0 @RichDialogMethodStart f14 '' #zField
Ts0 @RichDialogProcessEnd f15 '' #zField
Ts0 @CallSub f23 '' #zField
Ts0 @PushWFArc f10 '' #zField
Ts0 @PushWFArc f11 '' #zField
Ts0 @RichDialogMethodStart f12 '' #zField
Ts0 @RichDialogProcessEnd f13 '' #zField
Ts0 @GridStep f20 '' #zField
Ts0 @PushWFArc f24 '' #zField
Ts0 @RichDialogMethodStart f27 '' #zField
Ts0 @RichDialogProcessEnd f28 '' #zField
Ts0 @CallSub f29 '' #zField
Ts0 @PushWFArc f34 '' #zField
Ts0 @CallSub f7 '' #zField
Ts0 @PushWFArc f25 '' #zField
Ts0 @GridStep f26 '' #zField
Ts0 @Alternative f40 '' #zField
Ts0 @PushWFArc f41 '' #zField
Ts0 @PushWFArc f43 '' #zField
Ts0 @PushWFArc f48 '' #zField
Ts0 @RichDialogMethodStart f30 '' #zField
Ts0 @RichDialogProcessEnd f31 '' #zField
Ts0 @GridStep f32 '' #zField
Ts0 @CallSub f33 '' #zField
Ts0 @PushWFArc f35 '' #zField
Ts0 @PushWFArc f36 '' #zField
Ts0 @PushWFArc f39 '' #zField
Ts0 @RichDialogMethodStart f45 '' #zField
Ts0 @RichDialogProcessEnd f46 '' #zField
Ts0 @GridStep f47 '' #zField
Ts0 @PushWFArc f50 '' #zField
Ts0 @CallSub f51 '' #zField
Ts0 @PushWFArc f52 '' #zField
Ts0 @PushWFArc f19 '' #zField
Ts0 @RichDialogMethodStart f53 '' #zField
Ts0 @RichDialogProcessEnd f55 '' #zField
Ts0 @RichDialogMethodStart f54 '' #zField
Ts0 @RichDialogProcessEnd f57 '' #zField
Ts0 @PushWFArc f58 '' #zField
Ts0 @PushWFArc f59 '' #zField
Ts0 @PushWFArc f42 '' #zField
Ts0 @PushWFArc f56 '' #zField
Ts0 @RichDialogMethodStart f37 '' #zField
Ts0 @RichDialogProcessEnd f38 '' #zField
Ts0 @GridStep f60 '' #zField
Ts0 @PushWFArc f61 '' #zField
Ts0 @RichDialogMethodStart f62 '' #zField
Ts0 @RichDialogProcessEnd f63 '' #zField
Ts0 @GridStep f65 '' #zField
Ts0 @PushWFArc f66 '' #zField
Ts0 @PushWFArc f64 '' #zField
Ts0 @PushWFArc f44 '' #zField
Ts0 @RichDialogMethodStart f72 '' #zField
Ts0 @RichDialogProcessEnd f74 '' #zField
Ts0 @PushWFArc f75 '' #zField
Ts0 @CallSub f73 '' #zField
Ts0 @PushWFArc f76 '' #zField
Ts0 @Alternative f77 '' #zField
Ts0 @PushWFArc f78 '' #zField
Ts0 @PushWFArc f49 '' #zField
Ts0 @GridStep f79 '' #zField
Ts0 @PushWFArc f80 '' #zField
Ts0 @PushWFArc f81 '' #zField
Ts0 @RichDialogProcessStart f82 '' #zField
Ts0 @RichDialogProcessEnd f83 '' #zField
Ts0 @PushWFArc f84 '' #zField
Ts0 @RichDialogMethodStart f85 '' #zField
Ts0 @PushWFArc f86 '' #zField
Ts0 @GridStep f91 '' #zField
Ts0 @PushWFArc f90 '' #zField
Ts0 @GridStep f93 '' #zField
Ts0 @PushWFArc f89 '' #zField
Ts0 @RichDialogMethodStart f95 '' #zField
Ts0 @RichDialogMethodStart f96 '' #zField
Ts0 @RichDialogMethodStart f94 '' #zField
Ts0 @CallSub f98 '' #zField
Ts0 @PushWFArc f99 '' #zField
Ts0 @RichDialogProcessEnd f100 '' #zField
Ts0 @PushWFArc f101 '' #zField
Ts0 @PushWFArc f88 '' #zField
Ts0 @PushWFArc f107 '' #zField
Ts0 @RichDialogProcessEnd f67 '' #zField
Ts0 @RichDialogMethodStart f68 '' #zField
Ts0 @CallSub f69 '' #zField
Ts0 @PushWFArc f70 '' #zField
Ts0 @PushWFArc f71 '' #zField
>Proto Ts0 Ts0 TaskWidgetProcess #zField
Ts0 f0 guid 14FDF92006C61D35 #txt
Ts0 f0 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f0 method start() #txt
Ts0 f0 disableUIEvents true #txt
Ts0 f0 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f0 outParameterDecl '<> result;
' #txt
Ts0 f0 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start()</name>
    </language>
</elementInfo>
' #txt
Ts0 f0 53 85 22 22 14 0 #rect
Ts0 f0 @|RichDialogInitStartIcon #fIcon
Ts0 f1 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f1 53 213 22 22 14 0 #rect
Ts0 f1 @|RichDialogProcessEndIcon #fIcon
Ts0 f3 expr out #txt
Ts0 f3 64 107 64 213 #arcP
Ts0 f21 guid 150880B5AF6227C7 #txt
Ts0 f21 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f21 actionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f21 actionTable 'out=in;
' #txt
Ts0 f21 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>changeAssignType</name>
        <nameStyle>16,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f21 277 85 22 22 14 0 #rect
Ts0 f21 @|RichDialogProcessStartIcon #fIcon
Ts0 f6 actionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f6 actionTable 'out=in;
' #txt
Ts0 f6 actionCode 'if (in.#selectedRole is initialized || in.#selectedUser is initialized) {
	in.disabledDelegateButton = false;
} else {
	in.disabledDelegateButton = true;
}' #txt
Ts0 f6 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f6 462 148 36 24 20 -2 #rect
Ts0 f6 @|StepIcon #fIcon
Ts0 f17 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f17 470 214 20 20 13 0 #rect
Ts0 f17 @|RichDialogProcessEndIcon #fIcon
Ts0 f16 guid 150880B5B08DFB87 #txt
Ts0 f16 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f16 actionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f16 actionTable 'out=in;
' #txt
Ts0 f16 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>checkValue</name>
        <nameStyle>10,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f16 470 86 20 20 13 0 #rect
Ts0 f16 @|RichDialogProcessStartIcon #fIcon
Ts0 f22 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f22 277 213 22 22 14 0 #rect
Ts0 f22 @|RichDialogProcessEndIcon #fIcon
Ts0 f2 actionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f2 actionTable 'out=in;
' #txt
Ts0 f2 actionCode 'if (in.isUserDelegated){
	out.selectedRole = null;
	if (out.#selectedUser == null) {
		out.disabledDelegateButton = true;
	}
} else {
	out.selectedUser = null;
	if (out.#selectedRole == null) {
		out.disabledDelegateButton = true;
	}
}' #txt
Ts0 f2 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f2 270 148 36 24 20 -2 #rect
Ts0 f2 @|StepIcon #fIcon
Ts0 f4 expr out #txt
Ts0 f4 288 107 288 148 #arcP
Ts0 f5 expr out #txt
Ts0 f5 288 172 288 213 #arcP
Ts0 f9 expr out #txt
Ts0 f9 480 106 480 148 #arcP
Ts0 f18 expr out #txt
Ts0 f18 480 172 480 214 #arcP
Ts0 f8 actionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f8 actionTable 'out=in;
' #txt
Ts0 f8 actionCode 'import ch.ivy.ws.addon.IvySecurityMember;

if (in.#selectedUser is initialized) {
	in.ivySecurityMember.setMemberName("#" + in.selectedUser.memberName);
} else if (in.#selectedRole is initialized) {
	in.ivySecurityMember.setMemberName(in.selectedRole.memberName);
}' #txt
Ts0 f8 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f8 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>set security member</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f8 814 148 36 24 20 -2 #rect
Ts0 f8 @|StepIcon #fIcon
Ts0 f14 guid 150880B95E193014 #txt
Ts0 f14 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f14 method delegateTask() #txt
Ts0 f14 disableUIEvents false #txt
Ts0 f14 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f14 outParameterDecl '<> result;
' #txt
Ts0 f14 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>delegateTask()</name>
    </language>
</elementInfo>
' #txt
Ts0 f14 822 86 20 20 13 0 #rect
Ts0 f14 @|RichDialogMethodStartIcon #fIcon
Ts0 f15 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f15 822 534 20 20 13 0 #rect
Ts0 f15 @|RichDialogProcessEndIcon #fIcon
Ts0 f23 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f23 processCall MultiPortal/TaskService:delegateTask(ch.ivy.ws.addon.IvySecurityMember,ch.ivy.addon.portalkit.persistence.domain.Server,Long) #txt
Ts0 f23 doCall true #txt
Ts0 f23 requestActionDecl '<ch.ivy.ws.addon.IvySecurityMember ivySecurityMember,ch.ivy.addon.portalkit.persistence.domain.Server ivyServer,java.lang.Long taskId> param;
' #txt
Ts0 f23 requestMappingAction 'param.ivySecurityMember=in.ivySecurityMember;
param.ivyServer=in.serverOfSelectedTask;
param.taskId=in.selectedTask.id;
' #txt
Ts0 f23 responseActionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f23 responseMappingAction 'out=in;
' #txt
Ts0 f23 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>delegateTask</name>
        <nameStyle>12,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f23 814 212 36 24 20 -2 #rect
Ts0 f23 @|CallSubIcon #fIcon
Ts0 f10 expr out #txt
Ts0 f10 832 106 832 148 #arcP
Ts0 f11 expr out #txt
Ts0 f11 832 172 832 212 #arcP
Ts0 f12 guid 150881245893145A #txt
Ts0 f12 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f12 method initDataToDelegate(ch.ivy.addon.portalkit.bo.RemoteTask) #txt
Ts0 f12 disableUIEvents false #txt
Ts0 f12 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivy.addon.portalkit.bo.RemoteTask task> param = methodEvent.getInputArguments();
' #txt
Ts0 f12 inParameterMapAction 'out.selectedTask=param.task;
' #txt
Ts0 f12 outParameterDecl '<> result;
' #txt
Ts0 f12 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>initDataToDelegate(RemoteTask)</name>
    </language>
</elementInfo>
' #txt
Ts0 f12 597 85 22 22 14 0 #rect
Ts0 f12 @|RichDialogMethodStartIcon #fIcon
Ts0 f13 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f13 597 277 22 22 14 0 #rect
Ts0 f13 @|RichDialogProcessEndIcon #fIcon
Ts0 f20 actionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f20 actionTable 'out=in;
' #txt
Ts0 f20 actionCode '
import ch.ivyteam.wf.processes.SecurityMemberData;

in.serverOfSelectedTask = in.selectedTask.#applicationRegister.#server;
in.disabledDelegateButton = true;
in.isUserDelegated = true;
in.selectedUser = null;
in.selectedRole = null;' #txt
Ts0 f20 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f20 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>init data</name>
        <nameStyle>9,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f20 590 148 36 24 20 -2 #rect
Ts0 f20 @|StepIcon #fIcon
Ts0 f24 expr out #txt
Ts0 f24 608 107 608 148 #arcP
Ts0 f27 guid 1508D5958B1AEC49 #txt
Ts0 f27 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f27 method resetTask(ch.ivy.addon.portalkit.bo.RemoteTask) #txt
Ts0 f27 disableUIEvents false #txt
Ts0 f27 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivy.addon.portalkit.bo.RemoteTask task> param = methodEvent.getInputArguments();
' #txt
Ts0 f27 inParameterMapAction 'out.selectedTask=param.task;
out.serverOfSelectedTask=param.task.#applicationRegister.#server;
' #txt
Ts0 f27 outParameterDecl '<> result;
' #txt
Ts0 f27 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>resetTask(RemoteTask)</name>
        <nameStyle>21,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f27 1045 85 22 22 14 0 #rect
Ts0 f27 @|RichDialogMethodStartIcon #fIcon
Ts0 f28 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f28 1045 213 22 22 14 0 #rect
Ts0 f28 @|RichDialogProcessEndIcon #fIcon
Ts0 f29 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f29 processCall MultiPortal/TaskService:resetTask(ch.ivy.addon.portalkit.persistence.domain.Server,Long) #txt
Ts0 f29 doCall true #txt
Ts0 f29 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.Server ivyServer,java.lang.Long taskId> param;
' #txt
Ts0 f29 requestMappingAction 'param.ivyServer=in.serverOfSelectedTask;
param.taskId=in.selectedTask.id;
' #txt
Ts0 f29 responseActionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f29 responseMappingAction 'out=in;
out.errors=result.errors;
out.selectedTask.state=ch.ivyteam.ivy.workflow.TaskState.SUSPENDED;
' #txt
Ts0 f29 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>resetTask(Server,Long)</name>
        <nameStyle>22,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f29 1038 148 36 24 20 -2 #rect
Ts0 f29 @|CallSubIcon #fIcon
Ts0 f34 expr out #txt
Ts0 f34 1056 107 1056 148 #arcP
Ts0 f7 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f7 processCall MultiPortal/TaskService:canUserResumeTask(String,ch.ivy.addon.portalkit.persistence.domain.Server,Long) #txt
Ts0 f7 doCall true #txt
Ts0 f7 requestActionDecl '<java.lang.String userName,ch.ivy.addon.portalkit.persistence.domain.Server ivyServer,java.lang.Long taskId> param;
' #txt
Ts0 f7 requestMappingAction 'param.userName=ivy.session.getSessionUserName();
param.ivyServer=in.serverOfSelectedTask;
param.taskId=in.selectedTask.id;
' #txt
Ts0 f7 responseActionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f7 responseMappingAction 'out=in;
out.canUserResumeTask=result.canUserResumeTask;
out.errors=result.errors;
' #txt
Ts0 f7 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>canUserResumeTask</name>
        <nameStyle>17,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f7 814 276 36 24 20 -2 #rect
Ts0 f7 @|CallSubIcon #fIcon
Ts0 f25 expr out #txt
Ts0 f25 832 236 832 276 #arcP
Ts0 f26 actionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f26 actionTable 'out=in;
' #txt
Ts0 f26 actionCode 'in.expandedTask = null;' #txt
Ts0 f26 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f26 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>reset expanded task</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f26 942 420 36 24 20 -11 #rect
Ts0 f26 @|StepIcon #fIcon
Ts0 f40 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f40 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>can user resume task?</name>
        <nameStyle>21,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f40 818 338 28 28 11 -21 #rect
Ts0 f40 @|AlternativeIcon #fIcon
Ts0 f41 expr out #txt
Ts0 f41 832 300 832 338 #arcP
Ts0 f43 expr in #txt
Ts0 f43 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>NO</name>
        <nameStyle>2,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f43 846 352 960 420 #arcP
Ts0 f43 1 960 352 #addKink
Ts0 f43 1 0.3269230769230769 16 0 #arcLabel
Ts0 f48 expr out #txt
Ts0 f48 1056 172 1056 213 #arcP
Ts0 f30 guid 1508E6C7A8697DEA #txt
Ts0 f30 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f30 method resetAndOpenTask() #txt
Ts0 f30 disableUIEvents false #txt
Ts0 f30 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f30 outParameterDecl '<> result;
' #txt
Ts0 f30 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>resetAndOpenTask()</name>
    </language>
</elementInfo>
' #txt
Ts0 f30 1269 85 22 22 14 0 #rect
Ts0 f30 @|RichDialogMethodStartIcon #fIcon
Ts0 f31 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f31 1269 277 22 22 14 0 #rect
Ts0 f31 @|RichDialogProcessEndIcon #fIcon
Ts0 f32 actionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f32 actionTable 'out=in;
' #txt
Ts0 f32 actionCode 'import javax.faces.context.FacesContext;

FacesContext.getCurrentInstance().getExternalContext().redirect(in.selectedTask.fullRequestPath);' #txt
Ts0 f32 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f32 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>open task</name>
        <nameStyle>9,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f32 1262 212 36 24 20 -2 #rect
Ts0 f32 @|StepIcon #fIcon
Ts0 f33 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f33 processCall MultiPortal/TaskService:resetTask(ch.ivy.addon.portalkit.persistence.domain.Server,Long) #txt
Ts0 f33 doCall true #txt
Ts0 f33 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.Server ivyServer,java.lang.Long taskId> param;
' #txt
Ts0 f33 requestMappingAction 'param.ivyServer=in.selectedTask.applicationRegister.server;
param.taskId=in.selectedTask.id;
' #txt
Ts0 f33 responseActionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f33 responseMappingAction 'out=in;
out.errors=result.errors;
out.selectedTask.state=ch.ivyteam.ivy.workflow.TaskState.SUSPENDED;
' #txt
Ts0 f33 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>resetTask(Server,Long)</name>
        <nameStyle>22,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f33 1262 148 36 24 20 -2 #rect
Ts0 f33 @|CallSubIcon #fIcon
Ts0 f35 expr out #txt
Ts0 f35 1280 107 1280 148 #arcP
Ts0 f36 expr out #txt
Ts0 f36 1280 172 1280 212 #arcP
Ts0 f39 expr out #txt
Ts0 f39 1280 236 1280 277 #arcP
Ts0 f45 guid 150A312587468371 #txt
Ts0 f45 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f45 method openTask(ch.ivy.addon.portalkit.bo.RemoteTask) #txt
Ts0 f45 disableUIEvents false #txt
Ts0 f45 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivy.addon.portalkit.bo.RemoteTask task> param = methodEvent.getInputArguments();
' #txt
Ts0 f45 inParameterMapAction 'out.selectedTask=param.task;
' #txt
Ts0 f45 outParameterDecl '<> result;
' #txt
Ts0 f45 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>openTask(RemoteTask)</name>
        <nameStyle>20,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f45 1493 85 22 22 14 0 #rect
Ts0 f45 @|RichDialogMethodStartIcon #fIcon
Ts0 f46 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f46 1493 341 22 22 14 0 #rect
Ts0 f46 @|RichDialogProcessEndIcon #fIcon
Ts0 f47 actionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f47 actionTable 'out=in;
' #txt
Ts0 f47 actionCode 'import javax.faces.context.FacesContext;

FacesContext.getCurrentInstance().getExternalContext().redirect(in.selectedTask.fullRequestPath);' #txt
Ts0 f47 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f47 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>open task</name>
        <nameStyle>9,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f47 1486 276 36 24 20 -2 #rect
Ts0 f47 @|StepIcon #fIcon
Ts0 f50 expr out #txt
Ts0 f50 1504 300 1504 341 #arcP
Ts0 f51 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f51 processCall MultiPortal/SecurityService:findSecurityMembersToDelegateBy(Long,ch.ivy.addon.portalkit.persistence.domain.Server) #txt
Ts0 f51 doCall true #txt
Ts0 f51 requestActionDecl '<java.lang.Long taskId,ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
Ts0 f51 requestMappingAction 'param.taskId=in.selectedTask.id;
param.server=in.serverOfSelectedTask;
' #txt
Ts0 f51 responseActionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f51 responseMappingAction 'out=in;
out.errors=result.errors;
out.securityMemberData=result.securityMemberData;
' #txt
Ts0 f51 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>SecurityService</name>
        <nameStyle>15,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f51 590 212 36 24 20 -2 #rect
Ts0 f51 @|CallSubIcon #fIcon
Ts0 f52 expr out #txt
Ts0 f52 608 172 608 212 #arcP
Ts0 f19 expr out #txt
Ts0 f19 608 236 608 277 #arcP
Ts0 f53 guid 150F028CB30C9CC3 #txt
Ts0 f53 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f53 method toggleTaskDetails(ch.ivy.addon.portalkit.bo.RemoteTask) #txt
Ts0 f53 disableUIEvents false #txt
Ts0 f53 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivy.addon.portalkit.bo.RemoteTask task> param = methodEvent.getInputArguments();
' #txt
Ts0 f53 inParameterMapAction 'out.expandedTask=out.expandedTask == param.task ? null : param.task;
' #txt
Ts0 f53 outParameterDecl '<> result;
' #txt
Ts0 f53 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>toggleTaskDetails
(RemoteTask)</name>
        <nameStyle>30,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f53 1901 85 22 22 14 0 #rect
Ts0 f53 @|RichDialogMethodStartIcon #fIcon
Ts0 f55 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f55 1901 245 22 22 14 0 #rect
Ts0 f55 @|RichDialogProcessEndIcon #fIcon
Ts0 f54 guid 150F4AFAC1722420 #txt
Ts0 f54 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f54 method clearExpandedTask() #txt
Ts0 f54 disableUIEvents false #txt
Ts0 f54 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f54 inParameterMapAction 'out.expandedTask=null;
' #txt
Ts0 f54 outParameterDecl '<> result;
' #txt
Ts0 f54 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>clearExpandedTask</name>
        <nameStyle>17,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f54 2037 85 22 22 14 0 #rect
Ts0 f54 @|RichDialogMethodStartIcon #fIcon
Ts0 f57 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f57 2037 245 22 22 14 0 #rect
Ts0 f57 @|RichDialogProcessEndIcon #fIcon
Ts0 f58 expr out #txt
Ts0 f58 2048 107 2048 245 #arcP
Ts0 f59 expr out #txt
Ts0 f59 960 444 842 544 #arcP
Ts0 f59 1 960 544 #addKink
Ts0 f59 1 0.22090557509666262 0 0 #arcLabel
Ts0 f42 expr in #txt
Ts0 f42 outCond in.canUserResumeTask #txt
Ts0 f42 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>YES</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f42 832 366 832 534 #arcP
Ts0 f42 0 0.3630952380952381 18 0 #arcLabel
Ts0 f56 expr out #txt
Ts0 f56 1912 107 1912 245 #arcP
Ts0 f37 guid 152ED6485874C117 #txt
Ts0 f37 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f37 method filter() #txt
Ts0 f37 disableUIEvents false #txt
Ts0 f37 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f37 outParameterDecl '<> result;
' #txt
Ts0 f37 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>filter()</name>
        <nameStyle>8,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f37 2309 85 22 22 14 0 #rect
Ts0 f37 @|RichDialogMethodStartIcon #fIcon
Ts0 f38 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f38 2309 277 22 22 14 0 #rect
Ts0 f38 @|RichDialogProcessEndIcon #fIcon
Ts0 f60 actionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f60 actionTable 'out=in;
' #txt
Ts0 f60 actionCode in.dataModel.setKeyword(in.keyword); #txt
Ts0 f60 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f60 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>filter tasks 
based on keyword</name>
        <nameStyle>30,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f60 2302 180 36 24 20 -2 #rect
Ts0 f60 @|StepIcon #fIcon
Ts0 f61 expr out #txt
Ts0 f61 2320 107 2320 180 #arcP
Ts0 f62 guid 152F37C2BB2CA56A #txt
Ts0 f62 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f62 method clearFilter() #txt
Ts0 f62 disableUIEvents false #txt
Ts0 f62 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f62 outParameterDecl '<> result;
' #txt
Ts0 f62 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>clearFilter()</name>
    </language>
</elementInfo>
' #txt
Ts0 f62 2189 85 22 22 14 0 #rect
Ts0 f62 @|RichDialogMethodStartIcon #fIcon
Ts0 f63 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f63 2189 277 22 22 14 0 #rect
Ts0 f63 @|RichDialogProcessEndIcon #fIcon
Ts0 f65 actionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f65 actionTable 'out=in;
' #txt
Ts0 f65 actionCode 'in.keyword = null;' #txt
Ts0 f65 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f65 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>clear filter</name>
        <nameStyle>12,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f65 2182 180 36 24 20 -2 #rect
Ts0 f65 @|StepIcon #fIcon
Ts0 f66 expr out #txt
Ts0 f66 2200 107 2200 180 #arcP
Ts0 f64 expr out #txt
Ts0 f64 2200 204 2200 277 #arcP
Ts0 f44 expr out #txt
Ts0 f44 2320 204 2320 277 #arcP
Ts0 f72 guid 15336D4C94B1C3AD #txt
Ts0 f72 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f72 method findPreExpandedTask(ch.ivy.addon.portalkit.bo.RemoteTask,Boolean,Integer) #txt
Ts0 f72 disableUIEvents false #txt
Ts0 f72 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivy.addon.portalkit.bo.RemoteTask task,java.lang.Boolean isPreExpandedTask,java.lang.Integer rowIndex> param = methodEvent.getInputArguments();
' #txt
Ts0 f72 inActionCode 'if(!out.findingPreExpandedTaskFinished && param.isPreExpandedTask) {
	out.expandedTask = param.task;
	out.expandedRowIndex = param.rowIndex;
} else {
	if(param.isPreExpandedTask) {
		out.expandedRowIndex = -1;
	}
}' #txt
Ts0 f72 outParameterDecl '<> result;
' #txt
Ts0 f72 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>findPreExpandedTask
(RemoteTask,Boolean,String)</name>
        <nameStyle>47,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f72 1717 85 22 22 14 0 #rect
Ts0 f72 @|RichDialogMethodStartIcon #fIcon
Ts0 f74 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f74 1717 245 22 22 14 0 #rect
Ts0 f74 @|RichDialogProcessEndIcon #fIcon
Ts0 f75 expr out #txt
Ts0 f75 1728 107 1728 245 #arcP
Ts0 f75 0 0.4926462802353299 0 0 #arcLabel
Ts0 f73 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f73 processCall MultiPortal/TaskService:canUserResumeTask(String,ch.ivy.addon.portalkit.persistence.domain.Server,Long) #txt
Ts0 f73 doCall true #txt
Ts0 f73 requestActionDecl '<java.lang.String userName,ch.ivy.addon.portalkit.persistence.domain.Server ivyServer,java.lang.Long taskId> param;
' #txt
Ts0 f73 requestMappingAction 'param.userName=ivy.session.getSessionUserName();
param.ivyServer=in.selectedTask.#applicationRegister.#server;
param.taskId=in.selectedTask.id;
' #txt
Ts0 f73 responseActionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f73 responseMappingAction 'out=in;
out.canUserResumeTask=result.canUserResumeTask;
out.errors=result.errors;
out.workerUserName=result.workerUserName;
' #txt
Ts0 f73 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>canUserResumeTask</name>
        <nameStyle>17,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f73 1486 148 36 24 20 -2 #rect
Ts0 f73 @|CallSubIcon #fIcon
Ts0 f76 expr out #txt
Ts0 f76 1504 107 1504 148 #arcP
Ts0 f77 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f77 1490 210 28 28 14 0 #rect
Ts0 f77 @|AlternativeIcon #fIcon
Ts0 f78 expr out #txt
Ts0 f78 1504 172 1504 210 #arcP
Ts0 f49 expr in #txt
Ts0 f49 outCond in.canUserResumeTask #txt
Ts0 f49 1504 238 1504 276 #arcP
Ts0 f79 actionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f79 actionTable 'out=in;
' #txt
Ts0 f79 actionCode 'import java.util.Arrays;
import org.primefaces.context.RequestContext;

in.isAnotherUserWorkingMessage = ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/components/taskStart/isAnotherUserWorking", Arrays.asList(in.selectedTask.name, in.selectedTask.id, in.workerUserName));
//RequestContext.getCurrentInstance().update("is-another-user-working-message").openDialog("is-another-user-working-dialog");
RequestContext.getCurrentInstance().update("is-another-user-working-message").execute("PF(''is-another-user-working-dialog'').show()");' #txt
Ts0 f79 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f79 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>display error</name>
        <nameStyle>13
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f79 1614 276 36 24 20 -2 #rect
Ts0 f79 @|StepIcon #fIcon
Ts0 f80 expr in #txt
Ts0 f80 1518 224 1632 276 #arcP
Ts0 f80 1 1632 224 #addKink
Ts0 f80 0 0.7790944249033374 0 0 #arcLabel
Ts0 f81 expr out #txt
Ts0 f81 1632 300 1515 352 #arcP
Ts0 f81 1 1632 352 #addKink
Ts0 f81 1 0.22090557509666262 0 0 #arcLabel
Ts0 f82 guid 153E0DE6762B6C64 #txt
Ts0 f82 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f82 actionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f82 actionTable 'out=in;
out.compactMode=!in.compactMode;
' #txt
Ts0 f82 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>switchMode</name>
        <nameStyle>10,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f82 61 341 22 22 14 0 #rect
Ts0 f82 @|RichDialogProcessStartIcon #fIcon
Ts0 f83 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f83 61 453 22 22 14 0 #rect
Ts0 f83 @|RichDialogProcessEndIcon #fIcon
Ts0 f84 expr out #txt
Ts0 f84 72 363 72 453 #arcP
Ts0 f85 guid 153E0E71EF8532C3 #txt
Ts0 f85 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f85 method init(Boolean,ch.ivy.addon.portalkit.datamodel.TaskLazyDataModel) #txt
Ts0 f85 disableUIEvents false #txt
Ts0 f85 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<java.lang.Boolean compactMode,ch.ivy.addon.portalkit.datamodel.TaskLazyDataModel dataModel> param = methodEvent.getInputArguments();
' #txt
Ts0 f85 inActionCode 'import ch.ivy.addon.portalkit.datamodel.TaskLazyDataModel;

if(param.#compactMode is initialized) {
	out.compactMode = param.compactMode;
} else {
	out.compactMode = true;
}

if(param.#dataModel is initialized) {
	out.dataModel = param.dataModel;
} else {
	out.dataModel = new TaskLazyDataModel();
}' #txt
Ts0 f85 outParameterDecl '<> result;
' #txt
Ts0 f85 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>init
(isCompactMode, dataModel)</name>
        <nameStyle>31,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f85 165 341 22 22 -41 -45 #rect
Ts0 f85 @|RichDialogMethodStartIcon #fIcon
Ts0 f86 expr out #txt
Ts0 f86 176 363 83 464 #arcP
Ts0 f86 1 176 464 #addKink
Ts0 f86 1 0.1310558335856218 0 0 #arcLabel
Ts0 f91 actionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f91 actionTable 'out=in;
' #txt
Ts0 f91 actionCode 'import ch.ivy.addon.portalkit.enums.SortType;

in.dataModel.setSortType(SortType.BY_PRIORITY);
' #txt
Ts0 f91 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f91 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>sort tasks
filtered tasks</name>
        <nameStyle>25,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f91 438 396 36 24 20 -7 #rect
Ts0 f91 @|StepIcon #fIcon
Ts0 f90 expr out #txt
Ts0 f90 456 420 83 464 #arcP
Ts0 f90 1 456 464 #addKink
Ts0 f90 1 0.38811073544256947 0 0 #arcLabel
Ts0 f93 actionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f93 actionTable 'out=in;
' #txt
Ts0 f93 actionCode 'import ch.ivy.addon.portalkit.enums.SortType;

in.dataModel.setSortType(SortType.BY_EXPIRY_TIME);
' #txt
Ts0 f93 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f93 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>sort tasks
filtered tasks</name>
        <nameStyle>25,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f93 294 396 36 24 20 -7 #rect
Ts0 f93 @|StepIcon #fIcon
Ts0 f89 expr out #txt
Ts0 f89 312 420 83 464 #arcP
Ts0 f89 1 312 464 #addKink
Ts0 f89 1 0.33600930498506193 0 0 #arcLabel
Ts0 f95 guid 153E111F9FCD9D31 #txt
Ts0 f95 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f95 method sortByPriority() #txt
Ts0 f95 disableUIEvents false #txt
Ts0 f95 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f95 outParameterDecl '<> result;
' #txt
Ts0 f95 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>sortByPriority()</name>
    </language>
</elementInfo>
' #txt
Ts0 f95 445 341 22 22 14 0 #rect
Ts0 f95 @|RichDialogMethodStartIcon #fIcon
Ts0 f96 guid 153E112133CF9A21 #txt
Ts0 f96 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f96 method sortByExpiry() #txt
Ts0 f96 disableUIEvents false #txt
Ts0 f96 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
Ts0 f96 outParameterDecl '<> result;
' #txt
Ts0 f96 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>sortByExpiry()</name>
    </language>
</elementInfo>
' #txt
Ts0 f96 301 341 22 22 14 0 #rect
Ts0 f96 @|RichDialogMethodStartIcon #fIcon
Ts0 f94 guid 153EF14248ECB35E #txt
Ts0 f94 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f94 method findTasks(Integer,Integer,ch.ivy.ws.addon.TaskSearchCriteria) #txt
Ts0 f94 disableUIEvents false #txt
Ts0 f94 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<java.lang.Integer startIndex,java.lang.Integer count,ch.ivy.ws.addon.TaskSearchCriteria criteria> param = methodEvent.getInputArguments();
' #txt
Ts0 f94 inParameterMapAction 'out.count=param.count;
out.startIndex=param.startIndex;
out.taskSearchCriteria=param.criteria;
' #txt
Ts0 f94 outParameterDecl '<java.util.List<ch.ivy.addon.portalkit.bo.RemoteTask> tasks> result;
' #txt
Ts0 f94 outParameterMapAction 'result.tasks=in.tasks;
' #txt
Ts0 f94 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>findTasks
(Integer,Integer,TaskSearchCriteria)</name>
        <nameStyle>46,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f94 2485 85 22 22 -44 -46 #rect
Ts0 f94 @|RichDialogMethodStartIcon #fIcon
Ts0 f98 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f98 processCall MultiPortal/TaskService:findTasksByCriteria(ch.ivy.ws.addon.TaskSearchCriteria,Integer,Integer) #txt
Ts0 f98 doCall true #txt
Ts0 f98 requestActionDecl '<ch.ivy.ws.addon.TaskSearchCriteria taskSearchCriteria,java.lang.Integer startIndex,java.lang.Integer count> param;
' #txt
Ts0 f98 requestMappingAction 'param.taskSearchCriteria=in.taskSearchCriteria;
param.startIndex=in.startIndex;
param.count=in.count;
' #txt
Ts0 f98 responseActionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f98 responseMappingAction 'out=in;
out.errors=result.errors;
out.tasks=in.taskSearchCriteria.ignoreInvolvedUser ? result.allTasks : result.tasks;
' #txt
Ts0 f98 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>TaskService</name>
        <nameStyle>11,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f98 2478 180 36 24 20 -2 #rect
Ts0 f98 @|CallSubIcon #fIcon
Ts0 f99 expr out #txt
Ts0 f99 2496 107 2496 180 #arcP
Ts0 f100 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f100 2485 277 22 22 14 0 #rect
Ts0 f100 @|RichDialogProcessEndIcon #fIcon
Ts0 f101 expr out #txt
Ts0 f101 2496 204 2496 277 #arcP
Ts0 f88 expr out #txt
Ts0 f88 456 363 456 396 #arcP
Ts0 f107 expr out #txt
Ts0 f107 312 363 312 396 #arcP
Ts0 f107 0 0.4908436886854152 0 0 #arcLabel
Ts0 f67 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f67 2685 277 22 22 14 0 #rect
Ts0 f67 @|RichDialogProcessEndIcon #fIcon
Ts0 f68 guid 15403E7DE16C8732 #txt
Ts0 f68 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f68 method countTasks(ch.ivy.ws.addon.TaskSearchCriteria) #txt
Ts0 f68 disableUIEvents false #txt
Ts0 f68 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivy.ws.addon.TaskSearchCriteria criteria> param = methodEvent.getInputArguments();
' #txt
Ts0 f68 inParameterMapAction 'out.taskSearchCriteria=param.criteria;
' #txt
Ts0 f68 outParameterDecl '<java.lang.Long taskCount> result;
' #txt
Ts0 f68 outParameterMapAction 'result.taskCount=in.taskCount;
' #txt
Ts0 f68 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>countTasks
(taskSearchCriteria)</name>
        <nameStyle>31,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f68 2685 85 22 22 -31 -47 #rect
Ts0 f68 @|RichDialogMethodStartIcon #fIcon
Ts0 f69 type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
Ts0 f69 processCall MultiPortal/TaskService:countTasksByCriteria(ch.ivy.ws.addon.TaskSearchCriteria) #txt
Ts0 f69 doCall true #txt
Ts0 f69 requestActionDecl '<ch.ivy.ws.addon.TaskSearchCriteria taskSearchCriteria> param;
' #txt
Ts0 f69 requestMappingAction 'param.taskSearchCriteria=in.taskSearchCriteria;
' #txt
Ts0 f69 responseActionDecl 'ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData out;
' #txt
Ts0 f69 responseMappingAction 'out=in;
out.errors=result.errors;
out.taskCount=result.taskCount;
' #txt
Ts0 f69 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>TaskService</name>
        <nameStyle>11,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ts0 f69 2678 180 36 24 20 -2 #rect
Ts0 f69 @|CallSubIcon #fIcon
Ts0 f70 expr out #txt
Ts0 f70 2696 107 2696 180 #arcP
Ts0 f71 expr out #txt
Ts0 f71 2696 204 2696 277 #arcP
>Proto Ts0 .type ch.ivy.addon.portalkit.component.TaskWidget.TaskWidgetData #txt
>Proto Ts0 .processKind HTML_DIALOG #txt
>Proto Ts0 -8 -8 16 16 16 26 #rect
>Proto Ts0 '' #fIcon
Ts0 f0 mainOut f3 tail #connect
Ts0 f3 head f1 mainIn #connect
Ts0 f21 mainOut f4 tail #connect
Ts0 f4 head f2 mainIn #connect
Ts0 f2 mainOut f5 tail #connect
Ts0 f5 head f22 mainIn #connect
Ts0 f16 mainOut f9 tail #connect
Ts0 f9 head f6 mainIn #connect
Ts0 f6 mainOut f18 tail #connect
Ts0 f18 head f17 mainIn #connect
Ts0 f14 mainOut f10 tail #connect
Ts0 f10 head f8 mainIn #connect
Ts0 f8 mainOut f11 tail #connect
Ts0 f11 head f23 mainIn #connect
Ts0 f12 mainOut f24 tail #connect
Ts0 f24 head f20 mainIn #connect
Ts0 f27 mainOut f34 tail #connect
Ts0 f34 head f29 mainIn #connect
Ts0 f23 mainOut f25 tail #connect
Ts0 f25 head f7 mainIn #connect
Ts0 f7 mainOut f41 tail #connect
Ts0 f41 head f40 in #connect
Ts0 f43 head f26 mainIn #connect
Ts0 f29 mainOut f48 tail #connect
Ts0 f48 head f28 mainIn #connect
Ts0 f30 mainOut f35 tail #connect
Ts0 f35 head f33 mainIn #connect
Ts0 f33 mainOut f36 tail #connect
Ts0 f36 head f32 mainIn #connect
Ts0 f32 mainOut f39 tail #connect
Ts0 f39 head f31 mainIn #connect
Ts0 f47 mainOut f50 tail #connect
Ts0 f50 head f46 mainIn #connect
Ts0 f20 mainOut f52 tail #connect
Ts0 f52 head f51 mainIn #connect
Ts0 f51 mainOut f19 tail #connect
Ts0 f19 head f13 mainIn #connect
Ts0 f54 mainOut f58 tail #connect
Ts0 f58 head f57 mainIn #connect
Ts0 f26 mainOut f59 tail #connect
Ts0 f59 head f15 mainIn #connect
Ts0 f40 out f42 tail #connect
Ts0 f42 head f15 mainIn #connect
Ts0 f40 out f43 tail #connect
Ts0 f53 mainOut f56 tail #connect
Ts0 f56 head f55 mainIn #connect
Ts0 f37 mainOut f61 tail #connect
Ts0 f61 head f60 mainIn #connect
Ts0 f60 mainOut f44 tail #connect
Ts0 f44 head f38 mainIn #connect
Ts0 f62 mainOut f66 tail #connect
Ts0 f66 head f65 mainIn #connect
Ts0 f65 mainOut f64 tail #connect
Ts0 f64 head f63 mainIn #connect
Ts0 f72 mainOut f75 tail #connect
Ts0 f75 head f74 mainIn #connect
Ts0 f45 mainOut f76 tail #connect
Ts0 f76 head f73 mainIn #connect
Ts0 f73 mainOut f78 tail #connect
Ts0 f78 head f77 in #connect
Ts0 f77 out f49 tail #connect
Ts0 f49 head f47 mainIn #connect
Ts0 f77 out f80 tail #connect
Ts0 f80 head f79 mainIn #connect
Ts0 f79 mainOut f81 tail #connect
Ts0 f81 head f46 mainIn #connect
Ts0 f82 mainOut f84 tail #connect
Ts0 f84 head f83 mainIn #connect
Ts0 f85 mainOut f86 tail #connect
Ts0 f86 head f83 mainIn #connect
Ts0 f91 mainOut f90 tail #connect
Ts0 f90 head f83 mainIn #connect
Ts0 f93 mainOut f89 tail #connect
Ts0 f89 head f83 mainIn #connect
Ts0 f94 mainOut f99 tail #connect
Ts0 f99 head f98 mainIn #connect
Ts0 f98 mainOut f101 tail #connect
Ts0 f101 head f100 mainIn #connect
Ts0 f95 mainOut f88 tail #connect
Ts0 f88 head f91 mainIn #connect
Ts0 f96 mainOut f107 tail #connect
Ts0 f107 head f93 mainIn #connect
Ts0 f68 mainOut f70 tail #connect
Ts0 f70 head f69 mainIn #connect
Ts0 f69 mainOut f71 tail #connect
Ts0 f71 head f67 mainIn #connect
