[Ivy]
1600AC95D2CA7CEA 7.5.0 #module
>Proto >Proto Collection #zClass
Ss0 StatisticDashboardWidgetProcess Big #zClass
Ss0 RD #cInfo
Ss0 #process
Ct0 Component Big #zClass
Ct0 B #cInfo
Ss0 Ct0 S10 'Sub 1' #zField
Ss0 @TextInP .type .type #zField
Ss0 @TextInP .processKind .processKind #zField
Ss0 @AnnotationInP-0n ai ai #zField
Ss0 @MessageFlowInP-0n messageIn messageIn #zField
Ss0 @MessageFlowOutP-0n messageOut messageOut #zField
Ss0 @TextInP .xml .xml #zField
Ss0 @TextInP .responsibility .responsibility #zField
Ss0 @GridStep f8 '' #zField
Ss0 @UdInit f11 '' #zField
Ss0 @UdProcessEnd f14 '' #zField
Ss0 @UdProcessEnd f2 '' #zField
Ss0 @UdMethod f13 '' #zField
Ss0 @UdMethod f15 '' #zField
Ss0 @UdMethod f16 '' #zField
Ss0 @UdMethod f17 '' #zField
Ss0 @UdProcessEnd f18 '' #zField
Ss0 @GridStep f19 '' #zField
Ss0 @PushWFArc f20 '' #zField
Ss0 @PushWFArc f21 '' #zField
Ss0 @PushWFArc f22 '' #zField
Ss0 @PushWFArc f23 '' #zField
Ss0 @PushWFArc f24 '' #zField
Ss0 @UdMethod f25 '' #zField
Ss0 @GridStep f26 '' #zField
Ss0 @PushWFArc f27 '' #zField
Ss0 @UdProcessEnd f28 '' #zField
Ss0 @PushWFArc f29 '' #zField
Ss0 @GridStep f30 '' #zField
Ss0 @CallSub f7 '' #zField
Ss0 @PushWFArc f10 '' #zField
Ss0 @GridStep f36 '' #zField
Ss0 @PushWFArc f38 '' #zField
Ss0 @GridStep f40 '' #zField
Ss0 @CallSub f42 '' #zField
Ss0 @PushWFArc f43 '' #zField
Ss0 @UdEvent f6 '' #zField
Ss0 @PushWFArc f9 '' #zField
Ss0 @UdEvent f44 '' #zField
Ss0 @PushWFArc f35 '' #zField
Ss0 @UdEvent f45 '' #zField
Ss0 @UdMethod f32 '' #zField
Ss0 @UdProcessEnd f33 '' #zField
Ss0 @PushWFArc f34 '' #zField
Ss0 @Alternative f39 '' #zField
Ss0 @PushWFArc f41 '' #zField
Ss0 @PushWFArc f37 '' #zField
Ss0 @UdProcessEnd f46 '' #zField
Ss0 @UdEvent f50 '' #zField
Ss0 @UdProcessEnd f48 '' #zField
Ss0 @PushWFArc f49 '' #zField
Ss0 @UdEvent f51 '' #zField
Ss0 @UdProcessEnd f52 '' #zField
Ss0 @GridStep f53 '' #zField
Ss0 @PushWFArc f54 '' #zField
Ss0 @PushWFArc f55 '' #zField
Ss0 @UdEvent f56 '' #zField
Ss0 @PushWFArc f57 '' #zField
Ss0 @PushWFArc f47 '' #zField
Ss0 @UdEvent f58 '' #zField
Ss0 @PushWFArc f59 '' #zField
Ss0 @UdMethod f63 '' #zField
Ss0 @GridStep f65 '' #zField
Ss0 @UdProcessEnd f66 '' #zField
Ss0 @UdMethod f70 '' #zField
Ss0 @GridStep f31 '' #zField
Ss0 @Alternative f62 '' #zField
Ss0 @PushWFArc f69 '' #zField
Ss0 @PushWFArc f71 '' #zField
Ss0 @Alternative f3 '' #zField
Ss0 @PushWFArc f1 '' #zField
Ss0 @Alternative f60 '' #zField
Ss0 @PushWFArc f73 '' #zField
Ss0 @PushWFArc f75 '' #zField
Ss0 @GridStep f5 '' #zField
Ss0 @PushWFArc f78 '' #zField
Ss0 @PushWFArc f61 '' #zField
Ss0 @PushWFArc f79 '' #zField
Ss0 @PushWFArc f74 '' #zField
Ss0 @PushWFArc f0 '' #zField
Ss0 @GridStep f4 '' #zField
Ss0 @PushWFArc f68 '' #zField
Ss0 @PushWFArc f64 '' #zField
Ss0 @PushWFArc f77 '' #zField
Ss0 @PushWFArc f12 '' #zField
Ss0 @PushWFArc f76 '' #zField
Ss0 @PushWFArc f67 '' #zField
>Proto Ss0 Ss0 StatisticDashboardWidgetProcess #zField
Ct0 @TextInP .type .type #zField
Ct0 @TextInP .processKind .processKind #zField
Ct0 @TextInP .xml .xml #zField
Ct0 @TextInP .responsibility .responsibility #zField
Ct0 @PushWFArc f75 '' #zField
Ct0 @CallSub f74 '' #zField
Ct0 @GridStep f73 '' #zField
Ct0 @PushWFArc f76 '' #zField
Ct0 @CallSub f60 '' #zField
Ct0 @PushTrueWFInG-01 g0 '' #zField
Ct0 @PushTrueWFOutG-01 g2 '' #zField
Ct0 @PushWFArc f1 '' #zField
Ct0 @PushWFArc f2 '' #zField
>Proto Ct0 Ct0 Component #zField
Ss0 S10 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language lang="en">
        <name>Fetch Default Charts</name>
    </language>
</elementInfo>
' #txt
Ss0 S10 832 234 128 44 -56 -8 #rect
Ss0 S10 @|BIcon #fIcon
Ss0 S10 g0 -64 0 #fFoot
Ss0 f8 actionTable 'out=in;
' #txt
Ss0 f8 actionCode 'import ch.ivy.addon.portalkit.statistics.StatisticChartQueryUtils;

in.taskQuery = StatisticChartQueryUtils.getQueryForSelectedItemOfTaskByPriorityChart(in.event, in.selectedStatisticChart);
in.taskListName = in.selectedStatisticChart.name;' #txt
Ss0 f8 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Build task query</name>
        <nameStyle>16
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f8 288 402 112 44 -43 -8 #rect
Ss0 f8 @|StepIcon #fIcon
Ss0 f11 guid 1604F11B5BA97CC5 #txt
Ss0 f11 method start() #txt
Ss0 f11 inParameterDecl '<> param;' #txt
Ss0 f11 inParameterMapAction 'out.isFinishLoadCharts=false;
' #txt
Ss0 f11 outParameterDecl '<> result;' #txt
Ss0 f11 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start()</name>
        <nameStyle>7,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f11 123 51 26 26 -16 15 #rect
Ss0 f11 @|UdInitIcon #fIcon
Ss0 f14 275 51 26 26 0 12 #rect
Ss0 f14 @|UdProcessEndIcon #fIcon
Ss0 f2 1459 243 26 26 0 12 #rect
Ss0 f2 @|UdProcessEndIcon #fIcon
Ss0 f13 guid 16052B0A98BF3B09 #txt
Ss0 f13 method moveUp(ch.ivy.addon.portalkit.statistics.StatisticChart) #txt
Ss0 f13 inParameterDecl '<ch.ivy.addon.portalkit.statistics.StatisticChart statisticChart> param;' #txt
Ss0 f13 inParameterMapAction 'out.selectedStatisticChart=param.statisticChart;
' #txt
Ss0 f13 inActionCode 'import java.util.Collections;

int index = out.statisticChartList.indexOf(out.selectedStatisticChart);
Collections.swap(out.statisticChartList, index, index - 2);' #txt
Ss0 f13 outParameterDecl '<> result;' #txt
Ss0 f13 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>moveUp(StatisticChart)</name>
        <nameStyle>22,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f13 115 659 26 26 -63 15 #rect
Ss0 f13 @|UdMethodIcon #fIcon
Ss0 f15 guid 16052B0AD987D1FF #txt
Ss0 f15 method moveDown(ch.ivy.addon.portalkit.statistics.StatisticChart) #txt
Ss0 f15 inParameterDecl '<ch.ivy.addon.portalkit.statistics.StatisticChart statisticChart> param;' #txt
Ss0 f15 inParameterMapAction 'out.selectedStatisticChart=param.statisticChart;
' #txt
Ss0 f15 inActionCode 'import java.util.Collections;

int index = out.statisticChartList.indexOf(out.selectedStatisticChart);
Collections.swap(out.statisticChartList, index, index + 2);
' #txt
Ss0 f15 outParameterDecl '<> result;' #txt
Ss0 f15 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>moveDown(StatisticChart)</name>
        <nameStyle>24,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f15 115 755 26 26 -71 15 #rect
Ss0 f15 @|UdMethodIcon #fIcon
Ss0 f16 guid 16052B0B212D3060 #txt
Ss0 f16 method moveLeft(ch.ivy.addon.portalkit.statistics.StatisticChart) #txt
Ss0 f16 inParameterDecl '<ch.ivy.addon.portalkit.statistics.StatisticChart statisticChart> param;' #txt
Ss0 f16 inParameterMapAction 'out.selectedStatisticChart=param.statisticChart;
' #txt
Ss0 f16 inActionCode 'import java.util.Collections;

int index = out.statisticChartList.indexOf(out.selectedStatisticChart);
Collections.swap(out.statisticChartList, index, index -1);' #txt
Ss0 f16 outParameterDecl '<> result;' #txt
Ss0 f16 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>moveLeft(StatisticChart)</name>
        <nameStyle>24,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f16 115 851 26 26 -65 15 #rect
Ss0 f16 @|UdMethodIcon #fIcon
Ss0 f17 guid 16052B0B70AD24B1 #txt
Ss0 f17 method moveRight(ch.ivy.addon.portalkit.statistics.StatisticChart) #txt
Ss0 f17 inParameterDecl '<ch.ivy.addon.portalkit.statistics.StatisticChart statisticChart> param;' #txt
Ss0 f17 inParameterMapAction 'out.selectedStatisticChart=param.statisticChart;
' #txt
Ss0 f17 inActionCode 'import java.util.Collections;

int index = out.statisticChartList.indexOf(out.selectedStatisticChart);
Collections.swap(out.statisticChartList, index, index + 1);' #txt
Ss0 f17 outParameterDecl '<> result;' #txt
Ss0 f17 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>moveRight(StatisticChart)</name>
        <nameStyle>25,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f17 115 947 26 26 -70 15 #rect
Ss0 f17 @|UdMethodIcon #fIcon
Ss0 f18 499 659 26 26 0 12 #rect
Ss0 f18 @|UdProcessEndIcon #fIcon
Ss0 f19 actionTable 'out=in;
' #txt
Ss0 f19 actionCode 'import ch.ivy.addon.portalkit.service.StatisticService;
import ch.ivy.addon.portalkit.statistics.StatisticChart;

StatisticService service = new StatisticService();

for(StatisticChart chart : in.statisticChartList) {
    chart.setPosition(in.statisticChartList.indexOf(chart));
    service.save(chart);
}' #txt
Ss0 f19 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Update charts position</name>
        <nameStyle>22
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f19 288 650 128 44 -61 -8 #rect
Ss0 f19 @|StepIcon #fIcon
Ss0 f20 expr out #txt
Ss0 f20 416 672 499 672 #arcP
Ss0 f21 expr out #txt
Ss0 f21 141 672 288 672 #arcP
Ss0 f21 0 0.8266142598914986 0 0 #arcLabel
Ss0 f22 expr out #txt
Ss0 f22 141 768 352 694 #arcP
Ss0 f22 1 352 768 #addKink
Ss0 f22 0 0.9814183125561957 0 0 #arcLabel
Ss0 f23 expr out #txt
Ss0 f23 141 864 352 694 #arcP
Ss0 f23 1 352 864 #addKink
Ss0 f23 0 0.6753694528085658 0 0 #arcLabel
Ss0 f24 expr out #txt
Ss0 f24 141 960 352 694 #arcP
Ss0 f24 1 352 960 #addKink
Ss0 f24 0 0.7583859937504577 0 0 #arcLabel
Ss0 f25 guid 16052B8CCBF953C6 #txt
Ss0 f25 method deleteChart() #txt
Ss0 f25 inParameterDecl '<> param;' #txt
Ss0 f25 outParameterDecl '<> result;' #txt
Ss0 f25 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>deleteChart(StatisticChart)</name>
        <nameStyle>27,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f25 123 1011 26 26 -72 15 #rect
Ss0 f25 @|UdMethodIcon #fIcon
Ss0 f26 actionTable 'out=in;
' #txt
Ss0 f26 actionCode 'import ch.ivy.addon.portalkit.statistics.StatisticChart;
import ch.ivy.addon.portalkit.service.StatisticService;

StatisticService service = new StatisticService();

in.statisticChartList.remove(in.selectedStatisticChart);
service.delete(in.selectedStatisticChart.id);

for(StatisticChart chart : in.statisticChartList) {
      chart.setPosition(in.statisticChartList.indexOf(chart));
	service.save(chart);
}' #txt
Ss0 f26 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Delete chart</name>
        <nameStyle>12
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f26 296 1002 112 44 -33 -8 #rect
Ss0 f26 @|StepIcon #fIcon
Ss0 f27 expr out #txt
Ss0 f27 149 1024 296 1024 #arcP
Ss0 f28 507 1011 26 26 0 12 #rect
Ss0 f28 @|UdProcessEndIcon #fIcon
Ss0 f29 expr out #txt
Ss0 f29 408 1024 507 1024 #arcP
Ss0 f30 actionTable 'out=in;
' #txt
Ss0 f30 actionCode 'import ch.ivy.addon.portalkit.statistics.StatisticChart;
import ch.ivy.addon.portalkit.service.StatisticService;

StatisticService service = new StatisticService();
if (in.isBackFromDrilldown) {
	in.statisticChartList = service.findStatisticChartsByUserId(ivy.session.getSessionUser().getId());
	in.selectedItemOfDrilldown = null;
}

if (in.statisticChartList.size() != 0) {
	in.hasStatistic = true;
	if(in.selectedItemOfDrilldown.isEmpty()){
		service.generateChartModelForStatisticCharts(in.statisticChartList);
	}
} else {
	in.hasStatistic = false;
}

in.isFinishLoadCharts = true;
in.prevStatisticListSize = in.statisticChartList.size();' #txt
Ss0 f30 security system #txt
Ss0 f30 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Generate dashboard chart models</name>
        <nameStyle>31,5
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f30 1056 234 208 44 -94 -8 #rect
Ss0 f30 @|StepIcon #fIcon
Ss0 f7 processCall 'Functional Processes/Navigator:viewTaskForAnalytic(String,ch.ivyteam.ivy.workflow.query.TaskQuery)' #txt
Ss0 f7 requestActionDecl '<String chartName,ch.ivyteam.ivy.workflow.query.TaskQuery taskQuery> param;' #txt
Ss0 f7 requestMappingAction 'param.chartName=in.taskListName;
param.taskQuery=in.taskQuery;
' #txt
Ss0 f7 responseActionDecl 'ch.ivy.addon.portalkit.component.statistic.StatisticDashboardWidget.StatisticDashboardWidgetData out;
' #txt
Ss0 f7 responseMappingAction 'out=in;
' #txt
Ss0 f7 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Navigator</name>
        <nameStyle>9,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f7 488 402 112 44 -26 -8 #rect
Ss0 f7 @|CallSubIcon #fIcon
Ss0 f10 expr out #txt
Ss0 f10 400 424 488 424 #arcP
Ss0 f36 actionTable 'out=in;
' #txt
Ss0 f36 actionCode 'import org.apache.commons.lang3.StringUtils;
import ch.ivy.addon.portalkit.datamodel.TaskLazyDataModel;
import ch.ivy.addon.portalkit.service.StatisticService;
import ch.ivy.addon.portalkit.statistics.StatisticChartQueryUtils;
import ch.ivy.addon.portalkit.statistics.StatisticChart;

String selectedChartId = out.event.getComponent().getAttributes().get("selectedChartId") as String;
in.selectedItemOfDrilldown = StatisticService.getSelectedValueOfBarChart(in.event);

if (StatisticService.selectMonthOfYear(in.selectedItemOfDrilldown))  {
	in.previousSelectedMonth = in.selectedItemOfDrilldown;
} else if (StatisticService.selectWeekOfMonth(in.selectedItemOfDrilldown))  {
	in.previousSelectedWeek = in.selectedItemOfDrilldown;
} else if (StatisticService.selectDayOfWeek(in.selectedItemOfDrilldown)) {
	in.previousSelectedDay = in.selectedItemOfDrilldown;
}

for (StatisticChart chart : in.statisticChartList) {
	if (chart.id == selectedChartId) {
		in.selectedStatisticChart = chart;
		break;
	}
}

in.taskQuery = StatisticChartQueryUtils.getQueryForSelectedItemOfTaskByExpiryChart(in.event, in.selectedStatisticChart, in.previousSelectedMonth, in.previousSelectedWeek, in.previousSelectedDay);
in.taskListName = in.selectedStatisticChart.name + " - " + in.selectedItemOfDrilldown;
if (StatisticService.selectHourOfDay(in.selectedItemOfDrilldown)) {
	in.taskListName += " " + ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/statistic/chart/taskByExpiry/hour");
}
in.selectedItemOfDrilldown = StringUtils.EMPTY;
' #txt
Ss0 f36 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Build task query</name>
        <nameStyle>16
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f36 296 250 112 44 -43 -8 #rect
Ss0 f36 @|StepIcon #fIcon
Ss0 f38 expr out #txt
Ss0 f38 408 272 544 402 #arcP
Ss0 f38 1 544 272 #addKink
Ss0 f38 0 0.7876935071335653 0 0 #arcLabel
Ss0 f40 actionTable 'out=in;
' #txt
Ss0 f40 actionCode 'import ch.ivy.addon.portalkit.statistics.StatisticChartQueryUtils;

in.caseQuery = StatisticChartQueryUtils.getQueryForSelectedItemByCaseByState(in.event, in.selectedStatisticChart);' #txt
Ss0 f40 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Build case query</name>
        <nameStyle>16
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f40 288 482 112 44 -45 -8 #rect
Ss0 f40 @|StepIcon #fIcon
Ss0 f42 processCall 'Functional Processes/Navigator:viewCaseForAnalytic(String,ch.ivyteam.ivy.workflow.query.CaseQuery)' #txt
Ss0 f42 requestActionDecl '<String chartName,ch.ivyteam.ivy.workflow.query.CaseQuery caseQuery> param;' #txt
Ss0 f42 requestMappingAction 'param.chartName=in.selectedStatisticChart.name;
param.caseQuery=in.caseQuery;
' #txt
Ss0 f42 responseActionDecl 'ch.ivy.addon.portalkit.component.statistic.StatisticDashboardWidget.StatisticDashboardWidgetData out;
' #txt
Ss0 f42 responseMappingAction 'out=in;
' #txt
Ss0 f42 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Navigator</name>
        <nameStyle>9,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f42 488 482 112 44 -26 -8 #rect
Ss0 f42 @|CallSubIcon #fIcon
Ss0 f43 expr out #txt
Ss0 f43 400 504 488 504 #arcP
Ss0 f6 guid 1608CEAE326E61AC #txt
Ss0 f6 actionTable 'out=in;
' #txt
Ss0 f6 actionCode 'import ch.ivy.addon.portalkit.statistics.StatisticChart;
import org.primefaces.event.ItemSelectEvent;

out.event = event as ItemSelectEvent;
String selectedChartId = out.event.getComponent().getAttributes().get("selectedChartId") as String;

for (StatisticChart chart : out.statisticChartList) {
	if (chart.id == selectedChartId) {
		out.selectedStatisticChart = chart;
		break;
	}
}' #txt
Ss0 f6 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>drilldownTaskByPriority</name>
        <nameStyle>23,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f6 115 411 26 26 -63 15 #rect
Ss0 f6 @|UdEventIcon #fIcon
Ss0 f9 expr out #txt
Ss0 f9 141 424 288 424 #arcP
Ss0 f44 guid 1608CECF9E359730 #txt
Ss0 f44 actionTable 'out=in;
' #txt
Ss0 f44 actionCode 'import ch.ivy.addon.portalkit.service.StatisticService;
import org.primefaces.event.ItemSelectEvent;

out.event = event as ItemSelectEvent;
String selectedDrilldownItem = StatisticService.getSelectedValueOfBarChart(in.event);
out.isDrilldownToTaskList = StatisticService.selectHourOfDay(selectedDrilldownItem);' #txt
Ss0 f44 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>onSelectDrilldownTaskByExpiry</name>
        <nameStyle>29,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f44 123 259 26 26 -86 15 #rect
Ss0 f44 @|UdEventIcon #fIcon
Ss0 f35 expr out #txt
Ss0 f35 141 504 288 504 #arcP
Ss0 f45 guid 1608CED0281A1901 #txt
Ss0 f45 actionTable 'out=in;
' #txt
Ss0 f45 actionCode 'import ch.ivy.addon.portalkit.statistics.StatisticChart;
import org.primefaces.event.ItemSelectEvent;

out.event = event as ItemSelectEvent;
String selectedChartId = out.event.getComponent().getAttributes().get("selectedChartId") as String;

for (StatisticChart chart : out.statisticChartList) {
	if (chart.id == selectedChartId) {
		out.selectedStatisticChart = chart;
		break;
	}
}' #txt
Ss0 f45 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>drilldownCaseByState</name>
        <nameStyle>20,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f45 115 491 26 26 -60 15 #rect
Ss0 f45 @|UdEventIcon #fIcon
Ss0 f32 guid 160E2C0243084AFE #txt
Ss0 f32 method selectChart(ch.ivy.addon.portalkit.statistics.StatisticChart) #txt
Ss0 f32 inParameterDecl '<ch.ivy.addon.portalkit.statistics.StatisticChart chart> param;' #txt
Ss0 f32 inParameterMapAction 'out.selectedStatisticChart=param.chart;
' #txt
Ss0 f32 outParameterDecl '<> result;' #txt
Ss0 f32 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>selectChart(StatisticChart)</name>
        <nameStyle>27,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f32 123 1107 26 26 -72 15 #rect
Ss0 f32 @|UdMethodIcon #fIcon
Ss0 f33 507 1107 26 26 0 12 #rect
Ss0 f33 @|UdProcessEndIcon #fIcon
Ss0 f34 expr out #txt
Ss0 f34 149 1120 507 1120 #arcP
Ss0 f39 216 256 32 32 0 16 #rect
Ss0 f39 @|AlternativeIcon #fIcon
Ss0 f41 expr out #txt
Ss0 f41 149 272 216 272 #arcP
Ss0 f37 expr in #txt
Ss0 f37 outCond 'in.showTaskListImmediately || in.isDrilldownToTaskList' #txt
Ss0 f37 248 272 296 272 #arcP
Ss0 f46 539 195 26 26 0 12 #rect
Ss0 f46 @|UdProcessEndIcon #fIcon
Ss0 f50 guid 161BBDE048B4425D #txt
Ss0 f50 actionTable 'out=in;
' #txt
Ss0 f50 actionCode 'import ch.ivy.addon.portalkit.statistics.StatisticChart;
import ch.ivy.addon.portalkit.service.StatisticService;
import org.primefaces.event.ItemSelectEvent;

out.event = event as ItemSelectEvent;

String selectedChartId = out.event.getComponent().getAttributes().get("selectedChartId") as String;
in.selectedCaseCategory = StatisticService.getSelectedValueOfBarChart(out.event);

for (StatisticChart chart : out.statisticChartList) {
	if (chart.id == selectedChartId) {
		out.selectedStatisticChart = chart;
		break;
	}
}' #txt
Ss0 f50 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>drilldownElapsedTime</name>
        <nameStyle>20,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f50 118 563 26 26 -62 15 #rect
Ss0 f50 @|UdEventIcon #fIcon
Ss0 f48 502 563 26 26 0 12 #rect
Ss0 f48 @|UdProcessEndIcon #fIcon
Ss0 f49 expr out #txt
Ss0 f49 144 576 502 576 #arcP
Ss0 f51 guid 163DD299EBA17A9E #txt
Ss0 f51 actionTable 'out=in;
' #txt
Ss0 f51 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>drilldownTaskByExpiry</name>
        <nameStyle>21,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f51 699 451 26 26 -61 15 #rect
Ss0 f51 @|UdEventIcon #fIcon
Ss0 f52 1107 451 26 26 0 12 #rect
Ss0 f52 @|UdProcessEndIcon #fIcon
Ss0 f53 actionTable 'out=in;
' #txt
Ss0 f53 actionCode 'import ch.ivy.addon.portalkit.statistics.StatisticChartConstants;
import org.apache.commons.lang3.StringUtils;
import ch.ivy.addon.portalkit.service.StatisticService;
import ch.ivy.addon.portalkit.statistics.StatisticChart;
import org.primefaces.event.ItemSelectEvent;

in.isFinishLoadCharts = false;
String selectedChartId = out.event.getComponent().getAttributes().get("selectedChartId") as String;
in.selectedItemOfDrilldown = StatisticService.getSelectedValueOfBarChart(in.event);
if (StatisticService.selectMonthOfYear(in.selectedItemOfDrilldown))  {
	in.previousSelectedMonth = in.selectedItemOfDrilldown;
} else if (StatisticService.selectWeekOfMonth(in.selectedItemOfDrilldown))  {
	in.previousSelectedWeek = in.selectedItemOfDrilldown;
} else if (StatisticService.selectDayOfWeek(in.selectedItemOfDrilldown)) {
	in.previousSelectedDay = in.selectedItemOfDrilldown;
}

for (StatisticChart chart : out.statisticChartList) {
	if (chart.id == selectedChartId) {
		out.selectedStatisticChart = chart;
		break;
	}
}' #txt
Ss0 f53 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Set data</name>
    </language>
</elementInfo>
' #txt
Ss0 f53 832 442 112 44 -22 -8 #rect
Ss0 f53 @|StepIcon #fIcon
Ss0 f54 expr out #txt
Ss0 f54 725 464 832 464 #arcP
Ss0 f55 expr out #txt
Ss0 f55 944 464 1107 464 #arcP
Ss0 f56 guid 163DD43587A98693 #txt
Ss0 f56 actionTable 'out=in;
' #txt
Ss0 f56 actionCode 'import org.primefaces.event.ItemSelectEvent;
if(!out.#event is initialized) {
	out.event = event as ItemSelectEvent;
}' #txt
Ss0 f56 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>toTaskByExpiryTaskList</name>
        <nameStyle>22,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f56 123 339 26 26 -64 15 #rect
Ss0 f56 @|UdEventIcon #fIcon
Ss0 f57 expr out #txt
Ss0 f57 149 352 352 294 #arcP
Ss0 f57 1 352 352 #addKink
Ss0 f57 0 0.6889232284912005 0 0 #arcLabel
Ss0 f47 expr in #txt
Ss0 f47 232 256 539 208 #arcP
Ss0 f47 1 232 208 #addKink
Ss0 f47 1 0.30783775632694704 0 0 #arcLabel
Ss0 f58 guid 16421D52DC7B863C #txt
Ss0 f58 actionTable 'out=in;
' #txt
Ss0 f58 actionCode 'import org.primefaces.event.ItemSelectEvent;
out.event = event as ItemSelectEvent;' #txt
Ss0 f58 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>toTaskByExpiryTaskListFromHomePage</name>
        <nameStyle>34,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f58 459 339 26 26 -135 16 #rect
Ss0 f58 @|UdEventIcon #fIcon
Ss0 f59 expr out #txt
Ss0 f59 459 352 352 294 #arcP
Ss0 f59 1 352 352 #addKink
Ss0 f59 0 0.8154754678204545 0 0 #arcLabel
Ss0 f63 guid 168FFD6C153F13B5 #txt
Ss0 f63 method generateChartModel() #txt
Ss0 f63 inParameterDecl '<> param;' #txt
Ss0 f63 outParameterDecl '<> result;' #txt
Ss0 f63 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>generateChartModel</name>
    </language>
</elementInfo>
' #txt
Ss0 f63 699 243 26 26 -58 21 #rect
Ss0 f63 @|UdMethodIcon #fIcon
Ss0 f65 actionTable 'out=in;
' #txt
Ss0 f65 actionCode 'import org.apache.commons.collections.CollectionUtils;
import ch.ivy.addon.portalkit.statistics.StatisticChart;
import ch.ivy.addon.portalkit.service.StatisticService;

if (in.statisticChartList.size() != 0) {
	StatisticService service = new StatisticService();
	service.generateChartModelForStatisticCharts(in.statisticChartList);
	in.hasStatistic = true;
} else {
	in.hasStatistic = false;
}

in.prevStatisticListSize = in.statisticChartList.size();
in.isFinishLoadCharts = true;
' #txt
Ss0 f65 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Generate compact chart models</name>
    </language>
</elementInfo>
' #txt
Ss0 f65 1056 152 192 48 -88 -8 #rect
Ss0 f65 @|StepIcon #fIcon
Ss0 f66 1219 51 26 26 0 12 #rect
Ss0 f66 @|UdProcessEndIcon #fIcon
Ss0 f70 guid 16F16B7D136FCEC1 #txt
Ss0 f70 method initialize(java.util.List<ch.ivy.addon.portalkit.statistics.StatisticChart>,Boolean,Boolean,Boolean,Boolean) #txt
Ss0 f70 inParameterDecl '<java.util.List<ch.ivy.addon.portalkit.statistics.StatisticChart> statisticChartList,Boolean showTaskListImmediately,Boolean isBackFromDrilldown,Boolean isCompactMode,Boolean isDrilldownExpiryChart> param;' #txt
Ss0 f70 inParameterMapAction 'out.isBackFromDrilldown=param.isBackFromDrilldown;
out.isCompactMode=param.isCompactMode;
out.showTaskListImmediately=param.showTaskListImmediately;
out.statisticChartList=param.statisticChartList;
' #txt
Ss0 f70 outParameterDecl '<> result;' #txt
Ss0 f70 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>initialize</name>
        <nameStyle>10,5
</nameStyle>
    </language>
</elementInfo>
' #txt
Ss0 f70 699 51 26 26 -27 16 #rect
Ss0 f70 @|UdMethodIcon #fIcon
Ss0 f31 actionTable 'out=in;
' #txt
Ss0 f31 actionCode 'if (in.isBackFromDrilldown) {
	in.selectedItemOfDrilldown = null;
}

if (!in.isDrilldownExpiryChart) {
	in.hasStatistic = false;
}

' #txt
Ss0 f31 security system #txt
Ss0 f31 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>init data</name>
    </language>
</elementInfo>
' #txt
Ss0 f31 872 42 112 44 -21 -8 #rect
Ss0 f31 @|StepIcon #fIcon
Ss0 f62 784 48 32 32 0 16 #rect
Ss0 f62 @|AlternativeIcon #fIcon
Ss0 f69 725 64 784 64 #arcP
Ss0 f71 expr in #txt
Ss0 f71 outCond !in.isCompactMode #txt
Ss0 f71 816 64 872 64 #arcP
Ss0 f3 992 240 32 32 0 16 #rect
Ss0 f3 @|AlternativeIcon #fIcon
Ss0 f1 960 256 992 256 #arcP
Ss0 f60 768 240 32 32 0 16 #rect
Ss0 f60 @|AlternativeIcon #fIcon
Ss0 f73 725 256 768 256 #arcP
Ss0 f75 expr in #txt
Ss0 f75 800 256 832 256 #arcP
Ss0 f5 actionTable 'out=in;
' #txt
Ss0 f5 actionCode 'import org.apache.commons.lang3.StringUtils;
import ch.ivy.addon.portalkit.jsf.ManagedBeans;
import ch.ivy.addon.portalkit.bean.StatisticDashboardBean;
import ch.ivy.addon.portalkit.statistics.StatisticChart;
import ch.ivy.addon.portalkit.service.StatisticService;

/* isReloadChartContent is a flag to reload the ChartJS canvas on UI 
	 If isFinishLoadCharts is true, we will reload the ChartJS canvas to draw new canva based on new data
	 If statisticChartList is changed, we need to reload ChartJS canvas due to we have to rebuild chart
 	 Always set new value for isReloadChartContent when re-rendering component
*/
in.isReloadChartContent = !in.isFinishLoadCharts || in.prevStatisticListSize != null && in.prevStatisticListSize != in.statisticChartList.size();

if (in.isReloadChartContent && StringUtils.isEmpty(in.selectedItemOfDrilldown)) {
	// In case, isReloadChartContent indicator is true and not drilldown to expiry chart, we need to generate a placeholder chart to show on UI
	// It will make comfortable when user is waiting for drawing canvas
	StatisticDashboardBean statisticDashboardBean = ManagedBeans.get("statisticDashboardBean") as StatisticDashboardBean;
	statisticDashboardBean.generatePlaceholderForChart(in.statisticChartList);
} else if (!in.isCompactMode && StringUtils.isNotEmpty(in.selectedItemOfDrilldown)) {
	// Drilldown to expiry chart, no need to build placeholder chart because we don''t call database
	// Directly generate ChartJS canva, so we dont need to reload page
	StatisticService service = new StatisticService();
	StatisticChart newChart = service.drilldownExpiryChart(in.selectedItemOfDrilldown,in.selectedStatisticChart,in.previousSelectedMonth, in.previousSelectedWeek);
	service.drilldownExpiryChart(in.selectedItemOfDrilldown,in.selectedStatisticChart,in.previousSelectedMonth, in.previousSelectedWeek);
	in.statisticChartList.clear();
	in.statisticChartList.add(in.selectedStatisticChart);
	in.statisticChartList.add(newChart);

	in.isFinishLoadCharts = true;
	in.prevStatisticListSize = in.statisticChartList.size();
	in.isReloadChartContent = false;
}


' #txt
Ss0 f5 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Create a placeholder</name>
    </language>
</elementInfo>
' #txt
Ss0 f5 1024 42 128 44 -57 -8 #rect
Ss0 f5 @|StepIcon #fIcon
Ss0 f78 984 64 1024 64 #arcP
Ss0 f61 1152 64 1219 64 #arcP
Ss0 f79 expr in #txt
Ss0 f79 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>compact mode</name>
    </language>
</elementInfo>
' #txt
Ss0 f79 800 80 1088 86 #arcP
Ss0 f79 1 800 112 #addKink
Ss0 f79 2 1088 112 #addKink
Ss0 f79 1 0.3888888888888889 0 11 #arcLabel
Ss0 f74 expr in #txt
Ss0 f74 outCond in.isFinishLoadCharts #txt
Ss0 f74 784 240 1004 244 #arcP
Ss0 f74 1 784 208 #addKink
Ss0 f74 2 992 208 #addKink
Ss0 f0 149 64 275 64 #arcP
Ss0 f4 actionTable 'out=in;
' #txt
Ss0 f4 actionCode 'import org.primefaces.model.charts.donut.DonutChartModel;
import ch.ivy.addon.portalkit.service.StatisticService;
import ch.ivy.addon.portalkit.statistics.StatisticChart;
import java.util.ArrayList;
import ch.ivy.addon.portalkit.jsf.ManagedBeans;
import ch.ivy.addon.portalkit.bean.StatisticDashboardBean;

if (in.isFinishLoadCharts && !in.hasStatistic) {
	StatisticService service = new StatisticService();
	StatisticChart emptyChart = new StatisticChart();
	emptyChart.name = ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/statistic/chart/statistics");

	DonutChartModel model = service.createDonutChartPlaceholder();
	model.options.title.text = ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/statistic/chart/emptystate/defaultEmptyMessages");
	emptyChart.setDonutChartModel(model);
	
	in.statisticChartList = new ArrayList<StatisticChart>();
	in.statisticChartList.add(emptyChart);
}' #txt
Ss0 f4 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Check user has charts</name>
    </language>
</elementInfo>
' #txt
Ss0 f4 1296 194 128 44 -61 -8 #rect
Ss0 f4 @|StepIcon #fIcon
Ss0 f68 1248 176 1360 194 #arcP
Ss0 f68 1 1360 176 #addKink
Ss0 f68 0 0.05614676741636741 0 0 #arcLabel
Ss0 f64 1424 216 1472 243 #arcP
Ss0 f64 1 1472 216 #addKink
Ss0 f64 1 0.03651860630634248 0 0 #arcLabel
Ss0 f77 expr out #txt
Ss0 f77 1264 256 1360 238 #arcP
Ss0 f77 1 1360 256 #addKink
Ss0 f77 1 0.03169410789709737 0 0 #arcLabel
Ss0 f12 expr in #txt
Ss0 f12 outCond 'in.isFinishLoadCharts && in.prevStatisticListSize == in.statisticChartList.size()' #txt
Ss0 f12 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>haven''t data changed in Statistics</name>
    </language>
</elementInfo>
' #txt
Ss0 f12 1011 269 1472 269 #arcP
Ss0 f12 1 1024 320 #addKink
Ss0 f12 2 1472 320 #addKink
Ss0 f12 1 0.43526785714285715 0 14 #arcLabel
Ss0 f76 expr in #txt
Ss0 f76 outCond !in.isCompactMode #txt
Ss0 f76 1024 256 1056 256 #arcP
Ss0 f67 expr in #txt
Ss0 f67 1011 243 1056 176 #arcP
Ss0 f67 1 1024 176 #addKink
>Proto Ss0 .type ch.ivy.addon.portalkit.component.statistic.StatisticDashboardWidget.StatisticDashboardWidgetData #txt
>Proto Ss0 .processKind HTML_DIALOG #txt
>Proto Ss0 -8 -8 16 16 16 26 #rect
>Proto Ss0 '' #fIcon
Ct0 f75 248 160 336 160 #arcP
Ct0 f74 processCall 'Functional Processes/DefaultChartColors:defaultChartColors()' #txt
Ct0 f74 requestActionDecl '<> param;' #txt
Ct0 f74 responseMappingAction 'out=in;
out.chartColors=result.chartColors;
' #txt
Ct0 f74 responseActionCode 'import ch.ivy.addon.portalkit.service.StatisticService;

StatisticService service = new StatisticService();
service.setStatisticsColors(result.chartColors);' #txt
Ct0 f74 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>DefaultChartColors</name>
    </language>
</elementInfo>
' #txt
Ct0 f74 136 138 112 44 -53 -8 #rect
Ct0 f74 @|CallSubIcon #fIcon
Ct0 f73 actionTable 'out=in;
' #txt
Ct0 f73 actionCode 'in.statisticChartList.addAll(in.defaultCharts);
in.prevStatisticListSize = in.statisticChartList.size();
' #txt
Ct0 f73 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>add to chart list</name>
    </language>
</elementInfo>
' #txt
Ct0 f73 528 138 112 44 -41 -8 #rect
Ct0 f73 @|StepIcon #fIcon
Ct0 f76 expr out #txt
Ct0 f76 448 160 528 160 #arcP
Ct0 f60 processCall 'Functional Processes/DefaultChart:createDefaultChart()' #txt
Ct0 f60 requestActionDecl '<> param;' #txt
Ct0 f60 responseActionDecl 'ch.ivy.addon.portalkit.component.StatisticWidget.StatisticWidgetData out;
' #txt
Ct0 f60 responseMappingAction 'out=in;
out.defaultCharts=result.charts;
' #txt
Ct0 f60 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>DefaultChart</name>
        <nameStyle>12,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ct0 f60 336 138 112 44 -34 -8 #rect
Ct0 f60 @|CallSubIcon #fIcon
Ct0 g0 43 147 26 26 -1 -55 #rect
Ct0 g0 @|MIGIcon #fIcon
Ct0 g2 731 147 26 26 0 5 #rect
Ct0 g2 @|MOGIcon #fIcon
Ct0 f1 69 160 136 160 #arcP
Ct0 f2 640 160 731 160 #arcP
>Proto Ct0 0 0 32 24 18 0 #rect
>Proto Ct0 @|BIcon #fIcon
Ss0 f19 mainOut f20 tail #connect
Ss0 f20 head f18 mainIn #connect
Ss0 f13 mainOut f21 tail #connect
Ss0 f21 head f19 mainIn #connect
Ss0 f15 mainOut f22 tail #connect
Ss0 f22 head f19 mainIn #connect
Ss0 f16 mainOut f23 tail #connect
Ss0 f23 head f19 mainIn #connect
Ss0 f17 mainOut f24 tail #connect
Ss0 f24 head f19 mainIn #connect
Ss0 f25 mainOut f27 tail #connect
Ss0 f27 head f26 mainIn #connect
Ss0 f26 mainOut f29 tail #connect
Ss0 f29 head f28 mainIn #connect
Ss0 f8 mainOut f10 tail #connect
Ss0 f10 head f7 mainIn #connect
Ss0 f36 mainOut f38 tail #connect
Ss0 f38 head f7 mainIn #connect
Ss0 f40 mainOut f43 tail #connect
Ss0 f43 head f42 mainIn #connect
Ss0 f6 mainOut f9 tail #connect
Ss0 f9 head f8 mainIn #connect
Ss0 f45 mainOut f35 tail #connect
Ss0 f35 head f40 mainIn #connect
Ss0 f32 mainOut f34 tail #connect
Ss0 f34 head f33 mainIn #connect
Ss0 f44 mainOut f41 tail #connect
Ss0 f41 head f39 in #connect
Ss0 f39 out f37 tail #connect
Ss0 f37 head f36 mainIn #connect
Ss0 f50 mainOut f49 tail #connect
Ss0 f49 head f48 mainIn #connect
Ss0 f51 mainOut f54 tail #connect
Ss0 f54 head f53 mainIn #connect
Ss0 f53 mainOut f55 tail #connect
Ss0 f55 head f52 mainIn #connect
Ss0 f56 mainOut f57 tail #connect
Ss0 f57 head f36 mainIn #connect
Ss0 f39 out f47 tail #connect
Ss0 f47 head f46 mainIn #connect
Ss0 f58 mainOut f59 tail #connect
Ss0 f59 head f36 mainIn #connect
Ss0 f70 mainOut f69 tail #connect
Ss0 f69 head f62 in #connect
Ss0 f62 out f71 tail #connect
Ss0 f71 head f31 mainIn #connect
Ss0 S10 g2 f1 tail #connect
Ss0 f1 head f3 in #connect
Ss0 f63 mainOut f73 tail #connect
Ss0 f73 head f60 in #connect
Ss0 f75 head S10 g0 #connect
Ss0 f31 mainOut f78 tail #connect
Ss0 f78 head f5 mainIn #connect
Ss0 f5 mainOut f61 tail #connect
Ss0 f61 head f66 mainIn #connect
Ss0 f62 out f79 tail #connect
Ss0 f79 head f5 mainIn #connect
Ss0 f60 out f74 tail #connect
Ss0 f74 head f3 in #connect
Ss0 f60 out f75 tail #connect
Ss0 f11 mainOut f0 tail #connect
Ss0 f0 head f14 mainIn #connect
Ss0 f65 mainOut f68 tail #connect
Ss0 f68 head f4 mainIn #connect
Ss0 f4 mainOut f64 tail #connect
Ss0 f64 head f2 mainIn #connect
Ss0 f30 mainOut f77 tail #connect
Ss0 f77 head f4 mainIn #connect
Ss0 f3 out f12 tail #connect
Ss0 f12 head f2 mainIn #connect
Ss0 f3 out f76 tail #connect
Ss0 f76 head f30 mainIn #connect
Ss0 f3 out f67 tail #connect
Ss0 f67 head f65 mainIn #connect
Ct0 f60 mainOut f76 tail #connect
Ct0 f76 head f73 mainIn #connect
Ct0 f74 mainOut f75 tail #connect
Ct0 f75 head f60 mainIn #connect
Ct0 g0 m f1 tail #connect
Ct0 f1 head f74 mainIn #connect
Ct0 f73 mainOut f2 tail #connect
Ct0 f2 head g2 m #connect
Ct0 0 0 800 320 0 #ivRect
