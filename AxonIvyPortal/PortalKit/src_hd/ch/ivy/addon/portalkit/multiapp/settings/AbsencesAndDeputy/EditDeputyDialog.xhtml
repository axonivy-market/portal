<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:ic="http://ivyteam.ch/jsf/component"
  xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions">

<ui:composition>
  <p:dialog widgetVar="editDeputy" id="edit-deputy-dialog" modal="true" dynamic="true" width="60%" responsive="true"
    header="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/AbsenceAndDeputy/setDeputies')}" resizable="false"
    closable="true" appendTo="@(body)" styleClass="deputy-dialog">
    <h:form id="edit-deputy-form">
      <p:messages widgetVar="growl" showDetail="true" closable="true" id="edit-deputy-messages" escape="false"/>
      
      <h:panelGroup layout="block">
        <ui:include src="Deputy.xhtml" />
      </h:panelGroup>

      <h:panelGroup layout="block" styleClass="u-dialog-footer ui-dialog-footer">
        <p:commandButton process="@form" id="save-deputy"
          value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/ok')}"
          actionListener="#{logic.saveSubstitutes}" update=":#{p:component('absence-table')}"
          oncomplete="PF('editDeputy').hide();" />
        <p:spacer styleClass="u-buttons-spacer" />
        <p:commandButton type="button" id="close-edit-deputy-dialog" styleClass="portal-cancel-button"
          value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/cancel')}" onclick="PF('editDeputy').hide();" />
      </h:panelGroup>
    </h:form>
  </p:dialog>
</ui:composition>
</html>