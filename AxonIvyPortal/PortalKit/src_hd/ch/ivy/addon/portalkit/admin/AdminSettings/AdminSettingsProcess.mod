[Ivy]
[>Created: Wed Oct 19 16:03:23 ICT 2016]
150F0B4F8F3CB2CB 3.18 #module
>Proto >Proto Collection #zClass
As0 AdminUIProcess Big #zClass
As0 RD #cInfo
As0 #process
As0 @TextInP .ui2RdDataAction .ui2RdDataAction #zField
As0 @TextInP .rdData2UIAction .rdData2UIAction #zField
As0 @TextInP .resExport .resExport #zField
As0 @TextInP .type .type #zField
As0 @TextInP .processKind .processKind #zField
As0 @AnnotationInP-0n ai ai #zField
As0 @TextInP .xml .xml #zField
As0 @TextInP .responsibility .responsibility #zField
As0 @RichDialogInitStart f0 '' #zField
As0 @RichDialogProcessEnd f1 '' #zField
As0 @RichDialogProcessStart f3 '' #zField
As0 @RichDialogProcessEnd f4 '' #zField
As0 @GridStep f6 '' #zField
As0 @PushWFArc f7 '' #zField
As0 @PushWFArc f5 '' #zField
As0 @RichDialogProcessStart f8 '' #zField
As0 @RichDialogProcessEnd f9 '' #zField
As0 @RichDialogMethodStart f21 '' #zField
As0 @RichDialogProcessEnd f22 '' #zField
As0 @RichDialogMethodStart f24 '' #zField
As0 @RichDialogProcessEnd f25 '' #zField
As0 @GridStep f27 '' #zField
As0 @PushWFArc f28 '' #zField
As0 @PushWFArc f26 '' #zField
As0 @RichDialogProcessEnd f12 '' #zField
As0 @GridStep f18 '' #zField
As0 @GridStep f30 '' #zField
As0 @RichDialogProcessStart f32 '' #zField
As0 @RichDialogProcessEnd f33 '' #zField
As0 @GridStep f35 '' #zField
As0 @PushWFArc f36 '' #zField
As0 @PushWFArc f34 '' #zField
As0 @RichDialogProcessStart f37 '' #zField
As0 @RichDialogProcessEnd f38 '' #zField
As0 @GridStep f42 '' #zField
As0 @RichDialogMethodStart f44 '' #zField
As0 @RichDialogProcessEnd f45 '' #zField
As0 @GridStep f52 '' #zField
As0 @GridStep f54 '' #zField
As0 @PushWFArc f55 '' #zField
As0 @RichDialogMethodStart f47 '' #zField
As0 @RichDialogProcessEnd f58 '' #zField
As0 @PushWFArc f59 '' #zField
As0 @GridStep f51 '' #zField
As0 @PushWFArc f60 '' #zField
As0 @PushWFArc f23 '' #zField
As0 @RichDialogMethodStart f61 '' #zField
As0 @RichDialogProcessEnd f62 '' #zField
As0 @PushWFArc f66 '' #zField
As0 @RichDialogProcessStart f63 '' #zField
As0 @RichDialogProcessEnd f64 '' #zField
As0 @GridStep f67 '' #zField
As0 @PushWFArc f68 '' #zField
As0 @PushWFArc f65 '' #zField
As0 @RichDialogMethodStart f69 '' #zField
As0 @RichDialogProcessEnd f70 '' #zField
As0 @GridStep f72 '' #zField
As0 @PushWFArc f73 '' #zField
As0 @PushWFArc f71 '' #zField
As0 @RichDialogMethodStart f74 '' #zField
As0 @RichDialogProcessEnd f75 '' #zField
As0 @PushWFArc f76 '' #zField
As0 @RichDialogProcessStart f80 '' #zField
As0 @RichDialogProcessEnd f81 '' #zField
As0 @GridStep f85 '' #zField
As0 @GridStep f89 '' #zField
As0 @GridStep f93 '' #zField
As0 @PushWFArc f39 '' #zField
As0 @GridStep f105 '' #zField
As0 @PushWFArc f106 '' #zField
As0 @Alternative f107 '' #zField
As0 @PushWFArc f108 '' #zField
As0 @GridStep f109 '' #zField
As0 @PushWFArc f110 '' #zField
As0 @RichDialogProcessEnd f111 '' #zField
As0 @PushWFArc f112 '' #zField
As0 @GridStep f113 '' #zField
As0 @Alternative f115 '' #zField
As0 @PushWFArc f116 '' #zField
As0 @GridStep f117 '' #zField
As0 @PushWFArc f118 '' #zField
As0 @RichDialogProcessEnd f119 '' #zField
As0 @PushWFArc f120 '' #zField
As0 @RichDialogMethodStart f20 '' #zField
As0 @RichDialogProcessEnd f121 '' #zField
As0 @RichDialogProcessEnd f127 '' #zField
As0 @GridStep f129 '' #zField
As0 @CallSub f131 '' #zField
As0 @Alternative f132 '' #zField
As0 @PushWFArc f130 '' #zField
As0 @RichDialogProcessEnd f134 '' #zField
As0 @GridStep f136 '' #zField
As0 @PushWFArc f137 '' #zField
As0 @PushWFArc f135 '' #zField
As0 @RichDialogProcessStart f138 '' #zField
As0 @PushWFArc f126 '' #zField
As0 @PushWFArc f140 '' #zField
As0 @RichDialogProcessStart f146 '' #zField
As0 @RichDialogProcessEnd f147 '' #zField
As0 @CallSub f149 '' #zField
As0 @PushWFArc f150 '' #zField
As0 @GridStep f151 '' #zField
As0 @PushWFArc f152 '' #zField
As0 @PushWFArc f148 '' #zField
As0 @GridStep f156 '' #zField
As0 @RichDialogProcessEnd f157 '' #zField
As0 @RichDialogMethodStart f158 '' #zField
As0 @PushWFArc f160 '' #zField
As0 @GridStep f125 '' #zField
As0 @PushWFArc f139 '' #zField
As0 @PushWFArc f128 '' #zField
As0 @RichDialogProcessStart f161 '' #zField
As0 @RichDialogProcessEnd f162 '' #zField
As0 @PushWFArc f163 '' #zField
As0 @Alternative f164 '' #zField
As0 @RichDialogProcessStart f165 '' #zField
As0 @PushWFArc f166 '' #zField
As0 @RichDialogProcessStart f11 '' #zField
As0 @RichDialogProcessEnd f17 '' #zField
As0 @GridStep f57 '' #zField
As0 @PushWFArc f77 '' #zField
As0 @GridStep f88 '' #zField
As0 @Alternative f170 '' #zField
As0 @RichDialogMethodStart f176 '' #zField
As0 @RichDialogProcessEnd f177 '' #zField
As0 @GridStep f179 '' #zField
As0 @Alternative f178 '' #zField
As0 @RichDialogProcessStart f185 '' #zField
As0 @GridStep f202 '' #zField
As0 @GridStep f190 '' #zField
As0 @RichDialogProcessEnd f194 '' #zField
As0 @RichDialogProcessEnd f188 '' #zField
As0 @RichDialogProcessStart f192 '' #zField
As0 @GridStep f193 '' #zField
As0 @PushWFArc f195 '' #zField
As0 @PushWFArc f197 '' #zField
As0 @PushWFArc f199 '' #zField
As0 @PushWFArc f207 '' #zField
As0 @PushWFArc f208 '' #zField
As0 @PushWFArc f191 '' #zField
As0 @Alternative f103 '' #zField
As0 @PushWFArc f206 '' #zField
As0 @GridStep f173 '' #zField
As0 @PushWFArc f171 '' #zField
As0 @GridStep f217 '' #zField
As0 @Alternative f218 '' #zField
As0 @PushWFArc f219 '' #zField
As0 @PushWFArc f56 '' #zField
As0 @PushWFArc f221 '' #zField
As0 @CallSub f222 '' #zField
As0 @PushWFArc f223 '' #zField
As0 @PushWFArc f186 '' #zField
As0 @RichDialogProcessStart f141 '' #zField
As0 @RichDialogProcessEnd f142 '' #zField
As0 @PushWFArc f189 '' #zField
As0 @PushWFArc f159 '' #zField
As0 @Alternative f196 '' #zField
As0 @PushWFArc f198 '' #zField
As0 @CallSub f46 '' #zField
As0 @PushWFArc f203 '' #zField
As0 @GridStep f205 '' #zField
As0 @PushWFArc f220 '' #zField
As0 @PushWFArc f204 '' #zField
As0 @PushWFArc f224 '' #zField
As0 @PushWFArc f114 '' #zField
As0 @PushWFArc f211 '' #zField
As0 @PushWFArc f210 '' #zField
As0 @Alternative f209 '' #zField
As0 @PushWFArc f213 '' #zField
As0 @PushWFArc f214 '' #zField
As0 @GridStep f212 '' #zField
As0 @RichDialogProcessStart f200 '' #zField
As0 @RichDialogProcessEnd f216 '' #zField
As0 @GridStep f229 '' #zField
As0 @GridStep f97 '' #zField
As0 @PushWFArc f10 '' #zField
As0 @GridStep f92 '' #zField
As0 @PushWFArc f53 '' #zField
As0 @PushWFArc f50 '' #zField
As0 @GridStep f155 '' #zField
As0 @PushWFArc f168 '' #zField
As0 @PushWFArc f184 '' #zField
As0 @GridStep f228 '' #zField
As0 @PushWFArc f230 '' #zField
As0 @PushWFArc f201 '' #zField
As0 @GridStep f40 '' #zField
As0 @PushWFArc f41 '' #zField
As0 @PushWFArc f43 '' #zField
As0 @GridStep f225 '' #zField
As0 @PushWFArc f226 '' #zField
As0 @PushWFArc f227 '' #zField
As0 @GridStep f231 '' #zField
As0 @PushWFArc f187 '' #zField
As0 @PushWFArc f180 '' #zField
As0 @PushWFArc f181 '' #zField
As0 @GridStep f104 '' #zField
As0 @PushWFArc f101 '' #zField
As0 @GridStep f102 '' #zField
As0 @PushWFArc f232 '' #zField
As0 @PushWFArc f14 '' #zField
As0 @GridStep f15 '' #zField
As0 @PushWFArc f29 '' #zField
As0 @PushWFArc f83 '' #zField
As0 @GridStep f84 '' #zField
As0 @PushWFArc f86 '' #zField
As0 @PushWFArc f16 '' #zField
As0 @GridStep f31 '' #zField
As0 @PushWFArc f90 '' #zField
As0 @PushWFArc f87 '' #zField
As0 @GridStep f167 '' #zField
As0 @PushWFArc f95 '' #zField
As0 @GridStep f169 '' #zField
As0 @PushWFArc f215 '' #zField
As0 @PushWFArc f122 '' #zField
As0 @PushWFArc f124 '' #zField
As0 @PushWFArc f133 '' #zField
As0 @RichDialogProcessEnd f144 '' #zField
As0 @RichDialogMethodStart f143 '' #zField
As0 @PushWFArc f145 '' #zField
As0 @Trigger f172 '' #zField
As0 @PushWFArc f91 '' #zField
As0 @Alternative f175 '' #zField
As0 @PushWFArc f233 '' #zField
As0 @PushWFArc f174 '' #zField
As0 @Trigger f235 '' #zField
As0 @PushWFArc f236 '' #zField
As0 @PushWFArc f234 '' #zField
As0 @Trigger f237 '' #zField
As0 @PushWFArc f238 '' #zField
As0 @PushWFArc f96 '' #zField
As0 @Trigger f239 '' #zField
As0 @PushWFArc f240 '' #zField
As0 @PushWFArc f82 '' #zField
As0 @Trigger f241 '' #zField
As0 @PushWFArc f242 '' #zField
As0 @PushWFArc f13 '' #zField
As0 @RichDialogProcessEnd f78 '' #zField
As0 @RichDialogProcessEnd f48 '' #zField
As0 @Trigger f243 '' #zField
As0 @PushWFArc f244 '' #zField
As0 @PushWFArc f79 '' #zField
As0 @Trigger f245 '' #zField
As0 @PushWFArc f246 '' #zField
As0 @PushWFArc f49 '' #zField
As0 @PushWFArc f254 '' #zField
As0 @PushWFArc f258 '' #zField
As0 @GridStep f19 '' #zField
As0 @RichDialogMethodStart f2 '' #zField
As0 @RichDialogMethodStart f94 '' #zField
As0 @RichDialogMethodStart f98 '' #zField
As0 @RichDialogProcessEnd f99 '' #zField
As0 @RichDialogProcessEnd f100 '' #zField
As0 @RichDialogProcessEnd f123 '' #zField
As0 @PushWFArc f153 '' #zField
As0 @PushWFArc f154 '' #zField
As0 @PushWFArc f182 '' #zField
As0 @RichDialogMethodStart f183 '' #zField
As0 @RichDialogProcessEnd f247 '' #zField
As0 @CallSub f251 '' #zField
As0 @PushWFArc f253 '' #zField
As0 @GridStep f249 '' #zField
As0 @PushWFArc f250 '' #zField
As0 @GridStep f252 '' #zField
As0 @PushWFArc f255 '' #zField
As0 @PushWFArc f248 '' #zField
>Proto As0 As0 AdminUIProcess #zField
As0 f0 guid 14B6C3C6330883A7 #txt
As0 f0 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f0 method start() #txt
As0 f0 disableUIEvents true #txt
As0 f0 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
As0 f0 outParameterDecl '<> result;
' #txt
As0 f0 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>start()</name>
    </language>
</elementInfo>
' #txt
As0 f0 86 54 20 20 13 0 #rect
As0 f0 @|RichDialogInitStartIcon #fIcon
As0 f1 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f1 86 182 20 20 13 0 #rect
As0 f1 @|RichDialogProcessEndIcon #fIcon
As0 f3 guid 14B6C72DFD2FA1E7 #txt
As0 f3 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f3 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f3 actionTable 'out=in;
' #txt
As0 f3 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>addNewServer</name>
        <nameStyle>12,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f3 302 54 20 20 13 0 #rect
As0 f3 @|RichDialogProcessStartIcon #fIcon
As0 f4 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f4 302 182 20 20 13 0 #rect
As0 f4 @|RichDialogProcessEndIcon #fIcon
As0 f6 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f6 actionTable 'out=in;
' #txt
As0 f6 actionCode 'import ch.ivy.addon.portalkit.persistence.domain.Server;

import org.primefaces.context.RequestContext;


in.selectedServer = new Server();
in.selectedServer.isOnline = true;
in.isAddMode = true;
in.dialogTitle = ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/adminSettings/addNewServer");
in.serverExternalHost = ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/adminSettings/autoDetectExternalHost");' #txt
As0 f6 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f6 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>init value</name>
        <nameStyle>10,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f6 294 116 36 24 20 -2 #rect
As0 f6 @|StepIcon #fIcon
As0 f7 expr out #txt
As0 f7 312 74 312 116 #arcP
As0 f5 expr out #txt
As0 f5 312 140 312 182 #arcP
As0 f8 guid 14B6C969CD590FDA #txt
As0 f8 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f8 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f8 actionTable 'out=in;
' #txt
As0 f8 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>saveServer</name>
        <nameStyle>10,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f8 302 606 20 20 13 0 #rect
As0 f8 @|RichDialogProcessStartIcon #fIcon
As0 f9 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f9 302 982 20 20 13 0 #rect
As0 f9 @|RichDialogProcessEndIcon #fIcon
As0 f21 guid 14B6D4DB54AA0916 #txt
As0 f21 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f21 method editServer(ch.ivy.addon.portalkit.persistence.domain.Server) #txt
As0 f21 disableUIEvents false #txt
As0 f21 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivy.addon.portalkit.persistence.domain.Server server> param = methodEvent.getInputArguments();
' #txt
As0 f21 inParameterMapAction 'out.selectedServer=param.server;
' #txt
As0 f21 outParameterDecl '<> result;
' #txt
As0 f21 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>editServer(Server)</name>
        <nameStyle>18,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f21 1150 54 20 20 13 0 #rect
As0 f21 @|RichDialogMethodStartIcon #fIcon
As0 f22 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f22 1150 182 20 20 13 0 #rect
As0 f22 @|RichDialogProcessEndIcon #fIcon
As0 f24 guid 14B6D5256F73DDEC #txt
As0 f24 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f24 method submitDeleteServer(ch.ivy.addon.portalkit.persistence.domain.Server) #txt
As0 f24 disableUIEvents false #txt
As0 f24 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivy.addon.portalkit.persistence.domain.Server server> param = methodEvent.getInputArguments();
' #txt
As0 f24 inActionCode 'out.selectedServer = param.server;
out.confirmMsg  = ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/adminSettings/deleteServerConfirmation");
out.objToDelete = 1;' #txt
As0 f24 outParameterDecl '<> result;
' #txt
As0 f24 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>submitDeleteServer(Server)</name>
        <nameStyle>26,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f24 1638 414 20 20 13 0 #rect
As0 f24 @|RichDialogMethodStartIcon #fIcon
As0 f25 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f25 1638 550 20 20 13 0 #rect
As0 f25 @|RichDialogProcessEndIcon #fIcon
As0 f27 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f27 actionTable 'out=in;
' #txt
As0 f27 actionCode 'import org.primefaces.context.RequestContext;

if (in.selectedServer.getApplications() != null && in.selectedServer.getApplications().size() > 0) {
	RequestContext.getCurrentInstance().execute("PF(''cannotDeleteServer'').show()");
} else {
	RequestContext.getCurrentInstance().execute("PF(''deleteConfirmation'').show()");
}' #txt
As0 f27 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f27 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>show dialog</name>
        <nameStyle>11,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f27 1630 484 36 24 20 -2 #rect
As0 f27 @|StepIcon #fIcon
As0 f28 expr out #txt
As0 f28 1648 434 1648 484 #arcP
As0 f26 expr out #txt
As0 f26 1648 508 1648 550 #arcP
As0 f12 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f12 518 574 20 20 13 0 #rect
As0 f12 @|RichDialogProcessEndIcon #fIcon
As0 f18 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f18 actionTable 'out=in;
' #txt
As0 f18 actionCode 'if (in.isAddMode) {
	in.serverList.add(in.selectedServer	);
}' #txt
As0 f18 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f18 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Add to list</name>
        <nameStyle>11,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f18 294 724 36 24 20 -2 #rect
As0 f18 @|StepIcon #fIcon
As0 f30 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f30 actionTable 'out=in;
' #txt
As0 f30 actionCode in.serverList.remove(in.selectedServer); #txt
As0 f30 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f30 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>remove from list</name>
        <nameStyle>16,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f30 510 412 36 24 20 -2 #rect
As0 f30 @|StepIcon #fIcon
As0 f32 guid 14B719AF780C56D8 #txt
As0 f32 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f32 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f32 actionTable 'out=in;
' #txt
As0 f32 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>addNewApp</name>
        <nameStyle>9,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f32 798 54 20 20 13 0 #rect
As0 f32 @|RichDialogProcessStartIcon #fIcon
As0 f33 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f33 798 182 20 20 13 0 #rect
As0 f33 @|RichDialogProcessEndIcon #fIcon
As0 f35 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f35 actionTable 'out=in;
' #txt
As0 f35 actionCode 'import ch.ivy.addon.portalkit.persistence.domain.Application;
import ch.ivy.addon.portalkit.enums.ApplicationType;
import org.primefaces.context.RequestContext;

in.selectedApp = new Application();
if (in.applicationList.size() > 0) {
	in.selectedApp.menuOrdinal = in.applicationList.get(in.applicationList.size() - 1).menuOrdinal + 1;
} else {
	in.selectedApp.menuOrdinal = 0;
}
in.isAddMode = true;
in.dialogTitle = ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/adminSettings/addNewApplication");
in.isIvyApplicationType = true;
in.type = ApplicationType.IVY_APPLICATION;
in.displayNameInCurrentLanguage = null;
in.supportedLanguages = new List();
in.selectedApp.isOnline = true;' #txt
As0 f35 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f35 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>init value</name>
        <nameStyle>10,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f35 790 116 36 24 20 -2 #rect
As0 f35 @|StepIcon #fIcon
As0 f36 expr out #txt
As0 f36 808 74 808 116 #arcP
As0 f34 expr out #txt
As0 f34 808 140 808 182 #arcP
As0 f37 guid 14B71AFE89C4BE23 #txt
As0 f37 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f37 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f37 actionTable 'out=in;
' #txt
As0 f37 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>saveApplication</name>
        <nameStyle>15,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f37 518 606 20 20 13 0 #rect
As0 f37 @|RichDialogProcessStartIcon #fIcon
As0 f38 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f38 518 1470 20 20 13 0 #rect
As0 f38 @|RichDialogProcessEndIcon #fIcon
As0 f42 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f42 actionTable 'out=in;
' #txt
As0 f42 actionCode 'import ch.ivy.addon.portalkit.persistence.domain.Server;

if (in.selectedApp.#serverId is initialized) {
	for (Server server: in.serverList) {
		if (server.id.equals(in.selectedApp.serverId)) {
			in.selectedApp.server = server;
			break;
		}
	}
}
' #txt
As0 f42 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f42 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>set server data</name>
        <nameStyle>15,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f42 510 1252 36 24 21 -2 #rect
As0 f42 @|StepIcon #fIcon
As0 f44 guid 14B71B8355747299 #txt
As0 f44 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f44 method editApplication(ch.ivy.addon.portalkit.persistence.domain.Application) #txt
As0 f44 disableUIEvents false #txt
As0 f44 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivy.addon.portalkit.persistence.domain.Application application> param = methodEvent.getInputArguments();
' #txt
As0 f44 inParameterMapAction 'out.selectedApp=param.application;
' #txt
As0 f44 outParameterDecl '<> result;
' #txt
As0 f44 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>editApplication(Application)</name>
        <nameStyle>28,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f44 1406 54 20 20 13 0 #rect
As0 f44 @|RichDialogMethodStartIcon #fIcon
As0 f45 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f45 1406 358 20 20 13 0 #rect
As0 f45 @|RichDialogProcessEndIcon #fIcon
As0 f52 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f52 actionTable 'out=in;
' #txt
As0 f52 actionCode in.applicationList.remove(in.selectedApp); #txt
As0 f52 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f52 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>remove from list</name>
        <nameStyle>16,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f52 294 396 36 24 20 -2 #rect
As0 f52 @|StepIcon #fIcon
As0 f54 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f54 actionTable 'out=in;
' #txt
As0 f54 actionCode 'import ch.ivy.addon.portalkit.enums.ApplicationType;
import ch.ivy.addon.portalkit.util.DisplayNameAdaptor;
import java.util.Locale;
import ch.ivy.addon.portalkit.util.Locales;
import org.primefaces.context.RequestContext;

in.isAddMode = false;
in.dialogTitle = ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/adminSettings/editApplication");
if(in.selectedApp.#serverId is initialized){
	in.isIvyApplicationType = true;
	in.type = ApplicationType.IVY_APPLICATION;
}else{
	in.isIvyApplicationType = false;
	in.type = ApplicationType.THIRD_PARTY_APPLICATION;	
}

Locale currentLocale = new Locales().getCurrentLocale();
DisplayNameAdaptor displayNameAdaptor = new DisplayNameAdaptor(in.selectedApp.displayName, currentLocale);
in.displayNameInCurrentLanguage = displayNameAdaptor.getDisplayNameAsString();
in.supportedLanguages = new List();' #txt
As0 f54 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f54 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>set value</name>
        <nameStyle>9,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f54 1398 116 36 24 20 -2 #rect
As0 f54 @|StepIcon #fIcon
As0 f55 expr out #txt
As0 f55 1416 74 1416 116 #arcP
As0 f47 guid 14B7254A2BFCA52B #txt
As0 f47 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f47 method submitDeleteApp(ch.ivy.addon.portalkit.persistence.domain.Application) #txt
As0 f47 disableUIEvents false #txt
As0 f47 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivy.addon.portalkit.persistence.domain.Application application> param = methodEvent.getInputArguments();
' #txt
As0 f47 inActionCode 'out.selectedApp = param.application;
out.confirmMsg  = ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/adminSettings/deleteAppConfirmation");
out.objToDelete = 2;' #txt
As0 f47 outParameterDecl '<> result;
' #txt
As0 f47 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>submitDeleteApp(Application)</name>
        <nameStyle>28,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f47 1150 414 20 20 13 0 #rect
As0 f47 @|RichDialogMethodStartIcon #fIcon
As0 f58 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f58 1150 550 20 20 13 0 #rect
As0 f58 @|RichDialogProcessEndIcon #fIcon
As0 f59 expr out #txt
As0 f59 1160 434 1160 550 #arcP
As0 f59 0 0.5000000000000001 0 0 #arcLabel
As0 f51 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f51 actionTable 'out=in;
' #txt
As0 f51 actionCode 'import org.primefaces.context.RequestContext;

in.dialogTitle = ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/adminSettings/editServer");
in.isAddMode = false;
in.serverExternalHost = ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/adminSettings/autoDetectExternalHost");
' #txt
As0 f51 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f51 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>set value</name>
        <nameStyle>9,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f51 1142 116 36 24 20 -2 #rect
As0 f51 @|StepIcon #fIcon
As0 f60 expr out #txt
As0 f60 1160 74 1160 116 #arcP
As0 f23 expr out #txt
As0 f23 1160 140 1160 182 #arcP
As0 f61 guid 14B76C9713AD988C #txt
As0 f61 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f61 method onTabChange(org.primefaces.event.TabChangeEvent) #txt
As0 f61 disableUIEvents false #txt
As0 f61 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<org.primefaces.event.TabChangeEvent tabEvent> param = methodEvent.getInputArguments();
' #txt
As0 f61 inActionCode 'import org.primefaces.component.tabview.TabView;
import org.primefaces.event.TabChangeEvent;

TabView tabView = param.tabEvent.getComponent() as TabView;

out.tabIndexActive = tabView.activeIndex;' #txt
As0 f61 outParameterDecl '<> result;
' #txt
As0 f61 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>onTabChange(TabChangeEvent)</name>
        <nameStyle>27,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f61 1150 606 20 20 13 0 #rect
As0 f61 @|RichDialogMethodStartIcon #fIcon
As0 f62 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f62 1150 694 20 20 13 0 #rect
As0 f62 @|RichDialogProcessEndIcon #fIcon
As0 f66 expr out #txt
As0 f66 1160 626 1160 694 #arcP
As0 f63 guid 14B77F52E65BC6F9 #txt
As0 f63 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f63 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f63 actionTable 'out=in;
' #txt
As0 f63 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>addNewSetting</name>
        <nameStyle>13,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f63 518 54 20 20 13 0 #rect
As0 f63 @|RichDialogProcessStartIcon #fIcon
As0 f64 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f64 518 182 20 20 13 0 #rect
As0 f64 @|RichDialogProcessEndIcon #fIcon
As0 f67 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f67 actionTable 'out=in;
' #txt
As0 f67 actionCode 'import ch.ivy.addon.portalkit.persistence.domain.GlobalSetting;

import org.primefaces.context.RequestContext;


in.selectedSetting = new GlobalSetting();

in.isAddMode = true;
in.dialogTitle = ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/adminSettings/addNewSetting");' #txt
As0 f67 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f67 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>init value</name>
        <nameStyle>10,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f67 510 116 36 24 20 -2 #rect
As0 f67 @|StepIcon #fIcon
As0 f68 expr out #txt
As0 f68 528 74 528 116 #arcP
As0 f65 expr out #txt
As0 f65 528 140 528 182 #arcP
As0 f69 guid 14B77FA478FB87A1 #txt
As0 f69 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f69 method editSetting(ch.ivy.addon.portalkit.persistence.domain.GlobalSetting) #txt
As0 f69 disableUIEvents false #txt
As0 f69 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivy.addon.portalkit.persistence.domain.GlobalSetting setting> param = methodEvent.getInputArguments();
' #txt
As0 f69 inParameterMapAction 'out.selectedSetting=param.setting;
' #txt
As0 f69 outParameterDecl '<> result;
' #txt
As0 f69 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>editSetting(GlobalSetting)</name>
        <nameStyle>26,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f69 1678 46 20 20 13 0 #rect
As0 f69 @|RichDialogMethodStartIcon #fIcon
As0 f70 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f70 1678 174 20 20 13 0 #rect
As0 f70 @|RichDialogProcessEndIcon #fIcon
As0 f72 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f72 actionTable 'out=in;
' #txt
As0 f72 actionCode 'import org.primefaces.context.RequestContext;

in.isAddMode = false;
in.dialogTitle = ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/adminSettings/editSetting");' #txt
As0 f72 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f72 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>set value</name>
        <nameStyle>9,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f72 1670 108 36 24 20 -2 #rect
As0 f72 @|StepIcon #fIcon
As0 f73 expr out #txt
As0 f73 1688 66 1688 108 #arcP
As0 f71 expr out #txt
As0 f71 1688 132 1688 174 #arcP
As0 f74 guid 14B77FCFD80D26A4 #txt
As0 f74 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f74 method submitDeleteSetting(ch.ivy.addon.portalkit.persistence.domain.GlobalSetting) #txt
As0 f74 disableUIEvents false #txt
As0 f74 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivy.addon.portalkit.persistence.domain.GlobalSetting setting> param = methodEvent.getInputArguments();
' #txt
As0 f74 inActionCode 'out.selectedSetting = param.setting;
out.confirmMsg  = ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/adminSettings/deleteSettingConfirmation");
out.objToDelete = 3;' #txt
As0 f74 outParameterDecl '<> result;
' #txt
As0 f74 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>submitDeleteSetting(GlobalSetting)</name>
        <nameStyle>34,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f74 1398 414 20 20 13 0 #rect
As0 f74 @|RichDialogMethodStartIcon #fIcon
As0 f75 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f75 1398 550 20 20 13 0 #rect
As0 f75 @|RichDialogProcessEndIcon #fIcon
As0 f76 expr out #txt
As0 f76 1408 434 1408 550 #arcP
As0 f80 guid 14B784950D872997 #txt
As0 f80 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f80 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f80 actionTable 'out=in;
' #txt
As0 f80 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>saveSetting</name>
        <nameStyle>11,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f80 798 606 20 20 13 0 #rect
As0 f80 @|RichDialogProcessStartIcon #fIcon
As0 f81 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f81 798 942 20 20 13 0 #rect
As0 f81 @|RichDialogProcessEndIcon #fIcon
As0 f85 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f85 actionTable 'out=in;
' #txt
As0 f85 actionCode 'if (in.isAddMode) {
	in.settingList.add(in.selectedSetting);
}' #txt
As0 f85 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f85 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Add to list</name>
        <nameStyle>11,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f85 790 836 36 24 20 -2 #rect
As0 f85 @|StepIcon #fIcon
As0 f89 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f89 actionTable 'out=in;
' #txt
As0 f89 actionCode in.settingList.remove(in.selectedSetting); #txt
As0 f89 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f89 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>remove from list</name>
        <nameStyle>16,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f89 750 412 36 24 20 -2 #rect
As0 f89 @|StepIcon #fIcon
As0 f93 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f93 actionTable 'out=in;
' #txt
As0 f93 actionCode 'if (in.isAddMode) {
	in.applicationList.add(in.selectedApp);	
}' #txt
As0 f93 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f93 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>add to list (if in addMode)</name>
        <nameStyle>27,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f93 510 1308 36 24 21 -10 #rect
As0 f93 @|StepIcon #fIcon
As0 f39 expr out #txt
As0 f39 528 1276 528 1308 #arcP
As0 f105 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f105 actionTable 'out=in;
' #txt
As0 f105 actionCode 'import ch.ivy.addon.portalkit.persistence.domain.GlobalSetting;

in.duplicateApp = false;
// Check exist in add mode
if (in.isAddMode) {
	in.duplicateApp = false;
	for (GlobalSetting setting : in.settingList) {
		if (setting.key == in.selectedSetting.key) {
				in.duplicateApp = true;
				break;
		}
	}
}' #txt
As0 f105 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f105 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>check duplication</name>
        <nameStyle>17,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f105 790 660 36 24 20 -2 #rect
As0 f105 @|StepIcon #fIcon
As0 f106 expr out #txt
As0 f106 808 626 808 660 #arcP
As0 f107 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f107 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>key exist ?</name>
        <nameStyle>11,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f107 794 714 28 28 14 0 #rect
As0 f107 @|AlternativeIcon #fIcon
As0 f108 expr out #txt
As0 f108 808 684 808 714 #arcP
As0 f109 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f109 actionTable 'out=in;
' #txt
As0 f109 actionCode 'import javax.faces.application.FacesMessage;
import org.primefaces.context.RequestContext;
import org.primefaces.component.inputtext.InputText;
import javax.faces.context.FacesContext;

InputText ui = FacesContext.getCurrentInstance().getViewRoot().findComponent(":settingDialogForm:keySetting") as InputText;
ui.valid = false;

FacesContext.getCurrentInstance().addMessage(null, new FacesMessage(FacesMessage.SEVERITY_ERROR,ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/adminSettings/duplicateKeyMsg"), null));
FacesContext.getCurrentInstance().validationFailed();' #txt
As0 f109 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f109 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>show message</name>
        <nameStyle>12,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f109 950 780 36 24 20 -2 #rect
As0 f109 @|StepIcon #fIcon
As0 f110 expr in #txt
As0 f110 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f110 822 728 968 780 #arcP
As0 f110 1 968 728 #addKink
As0 f110 0 0.710102435118184 0 -16 #arcLabel
As0 f111 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f111 958 894 20 20 13 0 #rect
As0 f111 @|RichDialogProcessEndIcon #fIcon
As0 f112 expr out #txt
As0 f112 968 804 968 894 #arcP
As0 f113 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f113 actionTable 'out=in;
' #txt
As0 f113 actionCode 'import ch.ivy.addon.portalkit.persistence.domain.Application;

in.selectedApp.link = in.selectedApp.link.trim();

in.duplicateApp = false;
for (Application app : in.applicationList) {
	if (app.server.id.equals(in.selectedApp.server.id) && app.name.equals(in.selectedApp.name)&& app.link.equals(in.selectedApp.link)){
		if (in.isAddMode) {
			in.duplicateApp = true;
			break;
		} else {
				if(!in.selectedApp.id.equals(app.id)){
					in.duplicateApp = true;
					break;
				}
		}
	}
}' #txt
As0 f113 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f113 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>check duplication</name>
        <nameStyle>17,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f113 510 660 36 24 20 -2 #rect
As0 f113 @|StepIcon #fIcon
As0 f115 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f115 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>app exist ?</name>
        <nameStyle>11,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f115 514 714 28 28 14 0 #rect
As0 f115 @|AlternativeIcon #fIcon
As0 f116 expr out #txt
As0 f116 528 684 528 714 #arcP
As0 f117 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f117 actionTable 'out=in;
' #txt
As0 f117 actionCode 'import javax.faces.application.FacesMessage;
import org.primefaces.context.RequestContext;
import org.primefaces.component.inputtext.InputText;
import javax.faces.context.FacesContext;

if(in.isIvyApplicationType) {
	InputText ui = FacesContext.getCurrentInstance().getViewRoot().findComponent(":appDialogForm:portalLink") as InputText;
	ui.valid = false;
} else {
	InputText ui = FacesContext.getCurrentInstance().getViewRoot().findComponent(":appDialogForm:portalLink3rd") as InputText;
	ui.valid = false;
}

FacesContext.getCurrentInstance().addMessage(null, new FacesMessage(FacesMessage.SEVERITY_ERROR,ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/adminSettings/duplicatePortalLinkMsg"), null));
FacesContext.getCurrentInstance().validationFailed();' #txt
As0 f117 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f117 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>show message</name>
        <nameStyle>12,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f117 662 716 36 24 20 -2 #rect
As0 f117 @|StepIcon #fIcon
As0 f118 expr in #txt
As0 f118 outCond in.duplicateApp #txt
As0 f118 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f118 542 728 662 728 #arcP
As0 f118 0 0.67536365735396 4 -6 #arcLabel
As0 f119 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f119 670 766 20 20 13 0 #rect
As0 f119 @|RichDialogProcessEndIcon #fIcon
As0 f120 expr out #txt
As0 f120 680 740 680 766 #arcP
As0 f20 guid 14CBC65EA2BAB5DF #txt
As0 f20 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f20 method getApplicationUserList(ch.ivy.addon.portalkit.persistence.domain.Application) #txt
As0 f20 disableUIEvents false #txt
As0 f20 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivy.addon.portalkit.persistence.domain.Application app> param = methodEvent.getInputArguments();
' #txt
As0 f20 inParameterMapAction 'out.selectedApp=param.app;
' #txt
As0 f20 outParameterDecl '<> result;
' #txt
As0 f20 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>getApplicationUserList(Application)</name>
        <nameStyle>35,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f20 1150 774 20 20 13 0 #rect
As0 f20 @|RichDialogMethodStartIcon #fIcon
As0 f121 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f121 1150 918 20 20 13 0 #rect
As0 f121 @|RichDialogProcessEndIcon #fIcon
As0 f127 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f127 310 1862 20 20 13 0 #rect
As0 f127 @|RichDialogProcessEndIcon #fIcon
As0 f129 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f129 actionTable 'out=in;
' #txt
As0 f129 actionCode 'import ch.ivy.addon.portalkit.persistence.domain.Server;


ivy.log.debug("srrver " + in.selectedApp.server.name);

for(Server server : in.serverList){
	if(server.id.equals(in.selectedApp.serverId)){
		in.selectedServer = server;
		break;
	}
}' #txt
As0 f129 security system #txt
As0 f129 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f129 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get server obj</name>
        <nameStyle>14,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f129 302 1708 36 24 20 -2 #rect
As0 f129 @|StepIcon #fIcon
As0 f131 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f131 processCall MultiPortal/ApplicationService:getAllApplication(ch.ivy.addon.portalkit.persistence.domain.Server) #txt
As0 f131 doCall true #txt
As0 f131 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
As0 f131 requestMappingAction 'param.server=in.selectedServer;
' #txt
As0 f131 responseActionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f131 responseMappingAction 'out=in;
out.errors=result.errors;
out.ivyApplications=result.applications;
' #txt
As0 f131 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get application list</name>
        <nameStyle>20,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f131 302 1764 36 24 20 -2 #rect
As0 f131 @|CallSubIcon #fIcon
As0 f132 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f132 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>a server
is selected</name>
        <nameStyle>9,7
11,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f132 306 1634 28 28 14 0 #rect
As0 f132 @|AlternativeIcon #fIcon
As0 f130 expr in #txt
As0 f130 outCond 'in.selectedApp.#serverId is initialized' #txt
As0 f130 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f130 320 1662 320 1708 #arcP
As0 f130 0 0.6842105263157895 16 0 #arcLabel
As0 f134 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f134 462 1726 20 20 13 0 #rect
As0 f134 @|RichDialogProcessEndIcon #fIcon
As0 f136 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f136 actionTable 'out=in;
' #txt
As0 f136 actionCode 'ivy.log.debug("please select an srrver");' #txt
As0 f136 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f136 454 1636 36 24 20 -2 #rect
As0 f136 @|StepIcon #fIcon
As0 f137 expr in #txt
As0 f137 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f137 334 1648 454 1648 #arcP
As0 f137 0 0.55 0 -8 #arcLabel
As0 f135 expr out #txt
As0 f135 472 1660 472 1726 #arcP
As0 f138 guid 14CC094CD70A6996 #txt
As0 f138 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f138 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f138 actionTable 'out=in;
' #txt
As0 f138 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>getApplicationList</name>
        <nameStyle>18,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f138 310 1566 20 20 13 0 #rect
As0 f138 @|RichDialogProcessStartIcon #fIcon
As0 f126 expr out #txt
As0 f126 320 1586 320 1634 #arcP
As0 f140 expr out #txt
As0 f140 320 1732 320 1764 #arcP
As0 f146 guid 14CC534236EF2D36 #txt
As0 f146 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f146 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f146 actionTable 'out=in;
' #txt
As0 f146 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>refreshUserPermissions</name>
        <nameStyle>22,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f146 910 1110 20 20 13 0 #rect
As0 f146 @|RichDialogProcessStartIcon #fIcon
As0 f147 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f147 910 1334 20 20 13 0 #rect
As0 f147 @|RichDialogProcessEndIcon #fIcon
As0 f149 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f149 processCall 'Business Processes/SynchronizeApplicationUser:synchronizeApplicationUsers()' #txt
As0 f149 doCall true #txt
As0 f149 requestActionDecl '<> param;
' #txt
As0 f149 responseActionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f149 responseMappingAction 'out=in;
out.errorMsgs=result.errorMsgs;
out.usersApplicationList=result.users;
' #txt
As0 f149 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>synchronizeApplicationUsers()</name>
        <nameStyle>29,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f149 902 1196 36 24 20 -2 #rect
As0 f149 @|CallSubIcon #fIcon
As0 f150 expr out #txt
As0 f150 920 1130 920 1196 #arcP
As0 f151 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f151 actionTable 'out=in;
' #txt
As0 f151 actionCode 'import java.util.ArrayList;
import javax.faces.application.FacesMessage;
import javax.faces.context.FacesContext;

List cmsParams = new ArrayList();
if (in.errorMsgs.size() > 0){
	cmsParams.add(in.errorMsgs.size());
	for (String msg : in.errorMsgs) {
		cmsParams.add(msg + "<br/>");	
	}
	FacesContext.getCurrentInstance().addMessage(null, new FacesMessage(FacesMessage.SEVERITY_ERROR, null, ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/adminSettings/refreshUserErrorMsg", cmsParams)));
} else {
	cmsParams.add(in.usersApplicationList.size());
	FacesContext.getCurrentInstance().addMessage(null, new FacesMessage(FacesMessage.SEVERITY_INFO, null,  ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/adminSettings/refreshUserPermissionSuccessful", cmsParams)));
}' #txt
As0 f151 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f151 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Create information</name>
        <nameStyle>18,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f151 902 1268 36 24 20 -2 #rect
As0 f151 @|StepIcon #fIcon
As0 f152 expr out #txt
As0 f152 920 1220 920 1268 #arcP
As0 f148 expr out #txt
As0 f148 920 1292 920 1334 #arcP
As0 f156 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f156 actionTable 'out=in;
' #txt
As0 f156 actionCode 'import ch.ivy.addon.portalkit.persistence.domain.Application;

import ch.ivy.addon.portalkit.service.ApplicationService;

ApplicationService applicationService = new ApplicationService();

in.selectedApp.name = in.selectedIvyApplication.name;
in.selectedApp.serverId = in.selectedServer.id;
java.util.List<Application> existingApplications = applicationService.findByNameAndServerId(in.selectedIvyApplication.name, in.selectedServer.id);
if (existingApplications.size() > 0) {
	in.selectedApp.isSupportAbsenceSettings = existingApplications.get(0).isSupportAbsenceSettings;
	in.selectedApp.isSupportEmailSettings = existingApplications.get(0).isSupportEmailSettings;
} else {
	in.selectedApp.isSupportAbsenceSettings = false;
	in.selectedApp.isSupportEmailSettings = false;
}' #txt
As0 f156 security system #txt
As0 f156 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f156 1142 1020 36 24 20 -2 #rect
As0 f156 @|StepIcon #fIcon
As0 f157 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f157 1150 1182 20 20 13 0 #rect
As0 f157 @|RichDialogProcessEndIcon #fIcon
As0 f158 guid 14CC66EBC28A586A #txt
As0 f158 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f158 method selectApplication(ch.ivy.ws.addon.IvyApplication) #txt
As0 f158 disableUIEvents false #txt
As0 f158 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivy.ws.addon.IvyApplication app> param = methodEvent.getInputArguments();
' #txt
As0 f158 inParameterMapAction 'out.selectedIvyApplication=param.app;
' #txt
As0 f158 outParameterDecl '<> result;
' #txt
As0 f158 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>selectApplication(IvyApplication)</name>
    </language>
</elementInfo>
' #txt
As0 f158 1150 967 20 18 13 0 #rect
As0 f158 @|RichDialogMethodStartIcon #fIcon
As0 f160 expr out #txt
As0 f160 1160 985 1160 1020 #arcP
As0 f125 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f125 actionTable 'out=in;
' #txt
As0 f125 actionCode 'import ch.ivy.ws.addon.WsException;
import org.primefaces.context.RequestContext;
import java.util.ArrayList;
import javax.faces.application.FacesMessage;
import javax.faces.context.FacesContext;

String errorMsg = "";
if (in.errors.size() > 0){
	for (WsException msg : in.errors) {
		errorMsg += msg.userText;
	}
	FacesContext.getCurrentInstance().addMessage(null, new FacesMessage(FacesMessage.SEVERITY_ERROR, errorMsg, null));
	FacesContext.getCurrentInstance().validationFailed();
} else {
	RequestContext.getCurrentInstance().execute("PF(''applicationSelectionDialog'').show()");	
}

' #txt
As0 f125 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f125 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>open dialog
or show errorMsg</name>
        <nameStyle>28,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f125 302 1820 36 24 20 -2 #rect
As0 f125 @|StepIcon #fIcon
As0 f139 expr out #txt
As0 f139 320 1788 320 1820 #arcP
As0 f128 expr out #txt
As0 f128 320 1844 320 1862 #arcP
As0 f161 guid 14CD511E6C573620 #txt
As0 f161 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f161 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f161 actionTable 'out=in;
' #txt
As0 f161 actionCode '
//reset application name
out.selectedApp.name = "";
' #txt
As0 f161 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>resetApplicationName</name>
        <nameStyle>20,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f161 886 966 20 20 13 0 #rect
As0 f161 @|RichDialogProcessStartIcon #fIcon
As0 f162 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f162 886 1030 20 20 13 0 #rect
As0 f162 @|RichDialogProcessEndIcon #fIcon
As0 f163 expr out #txt
As0 f163 896 986 896 1030 #arcP
As0 f164 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f164 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>which obj to delete?</name>
        <nameStyle>20,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f164 514 282 28 28 14 0 #rect
As0 f164 @|AlternativeIcon #fIcon
As0 f165 guid 14CD62A3566672A1 #txt
As0 f165 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f165 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f165 actionTable 'out=in;
' #txt
As0 f165 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>delete</name>
        <nameStyle>6,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f165 518 222 20 20 13 0 #rect
As0 f165 @|RichDialogProcessStartIcon #fIcon
As0 f166 expr out #txt
As0 f166 528 242 528 282 #arcP
As0 f11 guid 14DE0D8C8D0542F8 #txt
As0 f11 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f11 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f11 actionTable 'out=in;
' #txt
As0 f11 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>appTypeChange</name>
        <nameStyle>13,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f11 302 1174 20 20 13 0 #rect
As0 f11 @|RichDialogProcessStartIcon #fIcon
As0 f17 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f17 302 1406 20 20 13 0 #rect
As0 f17 @|RichDialogProcessEndIcon #fIcon
As0 f57 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f57 actionTable 'out=in;
' #txt
As0 f57 actionCode 'import ch.ivy.addon.portalkit.enums.ApplicationType;

if(ApplicationType.IVY_APPLICATION.equals(in.type)){
		in.isIvyApplicationType = true;
}else{
	  in.isIvyApplicationType = false;
}' #txt
As0 f57 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f57 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>set flag</name>
        <nameStyle>8,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f57 294 1236 36 24 20 -2 #rect
As0 f57 @|StepIcon #fIcon
As0 f77 expr out #txt
As0 f77 312 1194 312 1236 #arcP
As0 f88 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f88 actionTable 'out=in;
' #txt
As0 f88 actionCode 'in.selectedApp.name = in.selectedApp.displayName;
in.selectedApp.isOnline = true;
in.selectedServer = null;

' #txt
As0 f88 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f88 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>set value</name>
        <nameStyle>9,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f88 446 1020 36 24 -74 -6 #rect
As0 f88 @|StepIcon #fIcon
As0 f170 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f170 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>IvyApplication?</name>
        <nameStyle>15,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f170 514 898 28 28 14 0 #rect
As0 f170 @|AlternativeIcon #fIcon
As0 f176 guid 14E951D887B4F17A #txt
As0 f176 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f176 method onApplicationReorder(org.primefaces.event.ReorderEvent) #txt
As0 f176 disableUIEvents false #txt
As0 f176 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<org.primefaces.event.ReorderEvent reorderEvent> param = methodEvent.getInputArguments();
' #txt
As0 f176 inParameterMapAction 'out.reorderEvent=param.reorderEvent;
' #txt
As0 f176 outParameterDecl '<> result;
' #txt
As0 f176 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>onApplicationReorder(ReorderEvent)</name>
    </language>
</elementInfo>
' #txt
As0 f176 1422 606 20 20 13 0 #rect
As0 f176 @|RichDialogMethodStartIcon #fIcon
As0 f177 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f177 1422 790 20 20 13 0 #rect
As0 f177 @|RichDialogProcessEndIcon #fIcon
As0 f179 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f179 actionTable 'out=in;
' #txt
As0 f179 actionCode 'int fromIndex = in.reorderEvent.getFromIndex();
int toIndex = in.reorderEvent.getToIndex();

in.selectedApp = in.applicationList.removeGet(fromIndex);
in.applicationList.add(toIndex, in.selectedApp);

for (int i = 0; i < in.applicationList.size(); i++) {
	in.applicationList.get(i).setMenuOrdinal(i);
}' #txt
As0 f179 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f179 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>calculate applications'' order</name>
        <nameStyle>29,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f179 1414 660 36 24 20 -2 #rect
As0 f179 @|StepIcon #fIcon
As0 f178 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f178 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>an application
is selected</name>
        <nameStyle>26,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f178 650 1330 28 28 -92 -11 #rect
As0 f178 @|AlternativeIcon #fIcon
As0 f185 guid 14E9B7FC56E87E52 #txt
As0 f185 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f185 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f185 actionTable 'out=in;
' #txt
As0 f185 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>processLanguage</name>
        <nameStyle>15,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f185 910 1390 20 20 13 0 #rect
As0 f185 @|RichDialogProcessStartIcon #fIcon
As0 f202 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f202 actionTable 'out=in;
' #txt
As0 f202 actionCode 'import ch.ivy.addon.portalkit.dto.DisplayName;
import ch.ivy.addon.portalkit.util.DisplayNameConvertor;
import ch.ivy.addon.portalkit.util.Locales;

if (!in.languages.isEmpty()){
	DisplayNameConvertor displayNameConvertor = new DisplayNameConvertor();
	
	for (DisplayName displayName : in.supportedLanguages) {
		displayNameConvertor.add(displayName.locale, displayName.value);
	}
	in.selectedApp.displayName = displayNameConvertor.toJson();
	in.displayNameInCurrentLanguage = displayNameConvertor.toString(new Locales().getCurrentLocale());
}
' #txt
As0 f202 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f202 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>process data from GUI</name>
        <nameStyle>21,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f202 902 1445 36 22 20 -2 #rect
As0 f202 @|StepIcon #fIcon
As0 f190 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f190 actionTable 'out=in;
' #txt
As0 f190 actionCode 'import ch.ivy.addon.portalkit.loader.ApplicationMultiLanguageNameLoader;
import ch.ivy.addon.portalkit.dto.DisplayName;
import ch.ivy.addon.portalkit.util.Locales;
import ch.ivy.addon.portalkit.util.DisplayNameAdaptor;

if(in.isAddMode){
	in.supportedLanguages = new ApplicationMultiLanguageNameLoader().currentDisplayName(in.displayNameInCurrentLanguage)
																									 .currentDisplayNames(in.supportedLanguages)
																									 .supportedLanguages(in.languages)
																									 .load();
} else {
	java.util.Locale currentLocale = new Locales().getCurrentLocale();
	DisplayNameAdaptor displayNameAdaptor = new DisplayNameAdaptor(in.selectedApp.displayName, currentLocale);
	java.util.Map displayNames = displayNameAdaptor.getDisplayNameAsMap();
	in.supportedLanguages = new ApplicationMultiLanguageNameLoader().currentDisplayName(in.displayNameInCurrentLanguage)
																									 .currentDisplayNames(displayNames)
																									 .supportedLanguages(in.languages)
																									 .load();
}
' #txt
As0 f190 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f190 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get supported
languages from WS</name>
        <nameStyle>31,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f190 646 1412 36 24 25 2 #rect
As0 f190 @|StepIcon #fIcon
As0 f194 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f194 910 1510 20 20 13 0 #rect
As0 f194 @|RichDialogProcessEndIcon #fIcon
As0 f188 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f188 654 1486 20 20 13 0 #rect
As0 f188 @|RichDialogProcessEndIcon #fIcon
As0 f192 guid 14E9B7FC57888C9E #txt
As0 f192 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f192 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f192 actionTable 'out=in;
' #txt
As0 f192 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>getLanguageList</name>
        <nameStyle>15,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f192 654 1262 20 20 13 0 #rect
As0 f192 @|RichDialogProcessStartIcon #fIcon
As0 f193 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f193 actionTable 'out=in;
' #txt
As0 f193 actionCode 'ivy.log.error("selected application is null");' #txt
As0 f193 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f193 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>write error log</name>
        <nameStyle>15,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f193 806 1332 36 24 -38 14 #rect
As0 f193 @|StepIcon #fIcon
As0 f195 expr out #txt
As0 f195 664 1282 664 1330 #arcP
As0 f197 expr in #txt
As0 f197 outCond 'in.#selectedApp == null' #txt
As0 f197 678 1344 806 1344 #arcP
As0 f199 expr out #txt
As0 f199 824 1356 674 1496 #arcP
As0 f199 1 824 1496 #addKink
As0 f199 1 0.43856392005896616 0 0 #arcLabel
As0 f207 expr out #txt
As0 f207 920 1410 920 1445 #arcP
As0 f208 expr out #txt
As0 f208 920 1467 920 1510 #arcP
As0 f191 expr out #txt
As0 f191 664 1436 664 1486 #arcP
As0 f191 0 0.5151654308142813 0 0 #arcLabel
As0 f103 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f103 514 1146 28 28 14 0 #rect
As0 f103 @|AlternativeIcon #fIcon
As0 f206 expr out #txt
As0 f206 464 1044 514 1160 #arcP
As0 f206 1 464 1160 #addKink
As0 f206 1 0.09861351404025685 0 0 #arcLabel
As0 f173 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f173 actionTable 'out=in;
' #txt
As0 f173 actionCode 'import ch.ivy.addon.portalkit.dto.DisplayName;
import java.util.Map;
import java.util.Locale;
import ch.ivy.addon.portalkit.util.Locales;
import ch.ivy.addon.portalkit.util.DisplayNameConvertor;

DisplayNameConvertor convertor = new DisplayNameConvertor();

if (in.supportedLanguages.isEmpty()) {
	if (!in.languages.isEmpty()) {
		for (String language : in.languages) {
			convertor.add(new Locale(language),in.displayNameInCurrentLanguage);
		}
	}else {
		convertor.add(new Locales().getCurrentLocale(),in.displayNameInCurrentLanguage);
	}
	
}else {
	for (DisplayName displayName: in.supportedLanguages){
		if(displayName.value.isEmpty()){
			displayName.value = in.displayNameInCurrentLanguage;
		}
		convertor.add(displayName.locale,displayName.value);
	}
}

in.selectedApp.displayName = convertor.toJson();' #txt
As0 f173 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f173 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>prepair displayname</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f173 510 836 36 24 -63 11 #rect
As0 f173 @|StepIcon #fIcon
As0 f171 expr out #txt
As0 f171 528 860 528 898 #arcP
As0 f217 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f217 actionTable 'out=in;
' #txt
As0 f217 actionCode 'import ch.ivy.addon.portalkit.service.ApplicationMultiLanguage;

in.languages = ApplicationMultiLanguage.getThirdPartySupportedLanguage();


' #txt
As0 f217 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f217 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>load supported languages
for 3rd party application</name>
        <nameStyle>50,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f217 366 1324 36 24 -37 18 #rect
As0 f217 @|StepIcon #fIcon
As0 f218 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f218 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>is Ivy Application?</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f218 298 1322 28 28 -41 -38 #rect
As0 f218 @|AlternativeIcon #fIcon
As0 f219 expr out #txt
As0 f219 312 1260 312 1322 #arcP
As0 f56 expr in #txt
As0 f56 outCond 'in.isIvyApplicationType == false' #txt
As0 f56 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f56 326 1336 366 1336 #arcP
As0 f56 0 0.15 0 6 #arcLabel
As0 f221 expr in #txt
As0 f221 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f221 312 1350 312 1406 #arcP
As0 f221 0 0.125 -9 0 #arcLabel
As0 f222 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f222 processCall MultiPortal/GetSupportedLanguagesService:getSupportedLanguagesService(String,ch.ivy.addon.portalkit.persistence.domain.Server) #txt
As0 f222 doCall true #txt
As0 f222 requestActionDecl '<java.lang.String applicationName,ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
As0 f222 requestMappingAction 'param.applicationName=in.selectedApp.name;
param.server=in.selectedApp.server;
' #txt
As0 f222 responseActionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f222 responseMappingAction 'out=in;
out.languages=result.supportedLanguages;
' #txt
As0 f222 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>GetSupportedLanguagesService</name>
        <nameStyle>28,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f222 1142 1092 36 24 25 -10 #rect
As0 f222 @|CallSubIcon #fIcon
As0 f223 expr out #txt
As0 f223 1160 1044 1160 1092 #arcP
As0 f186 expr in #txt
As0 f186 664 1358 664 1412 #arcP
As0 f186 0 0.5000000000000001 0 0 #arcLabel
As0 f141 guid 14CC18BB4746B6E3 #txt
As0 f141 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f141 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f141 actionTable 'out=in;
' #txt
As0 f141 actionCode 'import ch.ivy.ws.addon.IvyApplication;
IvyApplication ivyApplication = event.getSource() as IvyApplication;
in.selectedApp.name = ivyApplication.name;' #txt
As0 f141 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>selectApplication</name>
        <nameStyle>17,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f141 734 966 20 20 13 0 #rect
As0 f141 @|RichDialogProcessStartIcon #fIcon
As0 f142 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f142 734 1054 20 20 13 0 #rect
As0 f142 @|RichDialogProcessEndIcon #fIcon
As0 f189 expr out #txt
As0 f189 384 1348 318 1408 #arcP
As0 f189 0 0.5139612680419349 0 0 #arcLabel
As0 f159 expr out #txt
As0 f159 1160 1116 1160 1182 #arcP
As0 f196 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f196 1402 178 28 28 14 0 #rect
As0 f196 @|AlternativeIcon #fIcon
As0 f198 expr out #txt
As0 f198 1416 140 1416 178 #arcP
As0 f46 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f46 processCall MultiPortal/GetSupportedLanguagesService:getSupportedLanguagesService(String,ch.ivy.addon.portalkit.persistence.domain.Server) #txt
As0 f46 doCall true #txt
As0 f46 requestActionDecl '<java.lang.String applicationName,ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
As0 f46 requestMappingAction 'param.applicationName=in.selectedApp.name;
param.server=in.selectedApp.server;
' #txt
As0 f46 responseActionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f46 responseMappingAction 'out=in;
out.languages=result.supportedLanguages;
' #txt
As0 f46 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>GetSupportedLanguagesService</name>
        <nameStyle>28,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f46 1470 252 36 24 -52 20 #rect
As0 f46 @|CallSubIcon #fIcon
As0 f203 expr in #txt
As0 f203 outCond in.isIvyApplicationType #txt
As0 f203 1430 192 1488 252 #arcP
As0 f203 1 1488 192 #addKink
As0 f203 0 0.8854585704184196 0 0 #arcLabel
As0 f205 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f205 actionTable 'out=in;
' #txt
As0 f205 actionCode 'import ch.ivy.addon.portalkit.service.ApplicationMultiLanguage;


in.languages = ApplicationMultiLanguage.getThirdPartySupportedLanguage();


' #txt
As0 f205 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f205 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>load supported languages
for 3rd party application</name>
        <nameStyle>50,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f205 1318 268 36 24 -92 15 #rect
As0 f205 @|StepIcon #fIcon
As0 f220 expr in #txt
As0 f220 1402 192 1336 268 #arcP
As0 f220 1 1336 192 #addKink
As0 f220 0 0.9318339403871162 0 0 #arcLabel
As0 f204 expr out #txt
As0 f204 1336 292 1406 368 #arcP
As0 f204 1 1336 368 #addKink
As0 f204 0 0.7997648611494669 0 0 #arcLabel
As0 f224 expr out #txt
As0 f224 1488 276 1426 368 #arcP
As0 f224 1 1488 368 #addKink
As0 f224 0 0.7049599614732724 0 0 #arcLabel
As0 f114 expr out #txt
As0 f114 528 626 528 660 #arcP
As0 f211 expr in #txt
As0 f211 outCond in.isAddMode #txt
As0 f211 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f211 528 798 528 836 #arcP
As0 f211 0 0.21052631578947367 -12 0 #arcLabel
As0 f210 expr in #txt
As0 f210 outCond '!in.duplicateApp	' #txt
As0 f210 528 742 528 770 #arcP
As0 f209 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f209 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>is add mode?</name>
        <nameStyle>12,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f209 514 770 28 28 -91 -6 #rect
As0 f209 @|AlternativeIcon #fIcon
As0 f213 expr in #txt
As0 f213 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f213 542 784 607 836 #arcP
As0 f213 1 607 784 #addKink
As0 f213 0 0.12121212121212122 0 -10 #arcLabel
As0 f214 expr out #txt
As0 f214 607 860 542 912 #arcP
As0 f214 1 607 912 #addKink
As0 f214 0 0.8041048185752951 0 0 #arcLabel
As0 f212 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f212 actionTable 'out=in;
' #txt
As0 f212 actionCode 'import ch.ivy.addon.portalkit.dto.DisplayName;
import ch.ivy.addon.portalkit.util.DisplayNameAdaptor;
import java.util.Map;
import java.util.Locale;
import ch.ivy.addon.portalkit.util.Locales;
import ch.ivy.addon.portalkit.util.DisplayNameConvertor;

Locale currentLocale = new Locales().getCurrentLocale();
DisplayNameAdaptor displayNameAdaptor = new DisplayNameAdaptor(in.selectedApp.displayName,currentLocale);
Map displayNameMap = displayNameAdaptor.getDisplayNameAsMap();

if (in.supportedLanguages.isEmpty()) {
	if (!in.languages.isEmpty()) {
		for (String language : in.languages) {
			if(displayNameMap.get(language).toString().isEmpty()){
				displayNameAdaptor.add(new Locale(language),in.displayNameInCurrentLanguage);
			}
		}
	}else {
		displayNameAdaptor.add(currentLocale,in.displayNameInCurrentLanguage);
	}
}else {
	for (DisplayName displayName: in.supportedLanguages){
		if(displayName.value.isEmpty()){
			displayName.value = in.displayNameInCurrentLanguage;
		}
		displayNameAdaptor.add(displayName.locale,displayName.value);
	}
}

displayNameAdaptor.add(currentLocale,in.displayNameInCurrentLanguage);
in.selectedApp.displayName = displayNameAdaptor.toJson();' #txt
As0 f212 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f212 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>update current language</name>
        <nameStyle>23,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f212 591 836 35 24 -17 12 #rect
As0 f212 @|StepIcon #fIcon
As0 f200 guid 14ED7B5BE39B1F96 #txt
As0 f200 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f200 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f200 actionTable 'out=in;
' #txt
As0 f200 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>cancelApplicationDialog</name>
        <nameStyle>23,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f200 694 1566 20 20 14 -1 #rect
As0 f200 @|RichDialogProcessStartIcon #fIcon
As0 f216 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f216 694 1670 20 20 13 0 #rect
As0 f216 @|RichDialogProcessEndIcon #fIcon
As0 f229 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f229 actionTable 'out=in;
' #txt
As0 f229 actionCode 'import ch.ivy.addon.portalkit.persistence.domain.Application;

for(Application application : in.effectedApplications) {
	for(Application app : in.applicationList){
		if(app.id == application.id) {
			app.setIsSupportAbsenceSettings(in.selectedApp.isSupportAbsenceSettings);	
			app.setIsSupportEmailSettings(in.selectedApp.isSupportEmailSettings);
		}
	}
	
	application.setIsSupportAbsenceSettings(in.selectedApp.isSupportAbsenceSettings);	
	application.setIsSupportEmailSettings(in.selectedApp.isSupportEmailSettings);
}' #txt
As0 f229 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f229 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>update data to effected apps</name>
        <nameStyle>28,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f229 510 1020 36 24 20 -2 #rect
As0 f229 @|StepIcon #fIcon
As0 f97 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f97 actionTable 'out=in;
' #txt
As0 f97 actionCode 'import ch.ivy.addon.portalkit.service.ApplicationService;

ApplicationService applicationService = new ApplicationService();
in.applicationList = applicationService.findAll();' #txt
As0 f97 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f97 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>getAllApplication</name>
        <nameStyle>17,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f97 294 780 36 24 20 -3 #rect
As0 f97 @|StepIcon #fIcon
As0 f10 expr out #txt
As0 f10 312 748 312 780 #arcP
As0 f92 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f92 actionTable 'out=in;
' #txt
As0 f92 actionCode 'import ch.ivy.addon.portalkit.service.ApplicationService;

ApplicationService applicationService = new ApplicationService();
applicationService.delete(in.selectedApp);' #txt
As0 f92 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f92 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>delete application</name>
        <nameStyle>18,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f92 294 332 36 24 20 -2 #rect
As0 f92 @|StepIcon #fIcon
As0 f53 expr out #txt
As0 f53 312 356 312 396 #arcP
As0 f50 expr in #txt
As0 f50 outCond 'in.objToDelete == 2' #txt
As0 f50 514 296 312 332 #arcP
As0 f50 1 312 296 #addKink
As0 f50 0 0.7179735871352064 0 0 #arcLabel
As0 f155 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f155 actionTable 'out=in;
' #txt
As0 f155 actionCode 'import ch.ivy.addon.portalkit.service.ApplicationService;

ApplicationService applicationService = new ApplicationService();
in.effectedApplications = applicationService.findOtherApplicationsHaveSameNameAndServer(in.selectedApp);
' #txt
As0 f155 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f155 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>find effected apps</name>
        <nameStyle>18,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f155 510 964 36 24 20 -2 #rect
As0 f155 @|StepIcon #fIcon
As0 f168 expr in #txt
As0 f168 outCond in.isIvyApplicationType #txt
As0 f168 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Yes</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f168 528 926 528 964 #arcP
As0 f168 0 0.2857142857142857 -22 0 #arcLabel
As0 f184 expr out #txt
As0 f184 528 988 528 1020 #arcP
As0 f228 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f228 actionTable 'out=in;
' #txt
As0 f228 actionCode 'import ch.ivy.addon.portalkit.service.ApplicationService;

ApplicationService applicationService = new ApplicationService();
applicationService.saveAll(in.effectedApplications);' #txt
As0 f228 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f228 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>save effected applicaitons</name>
        <nameStyle>26,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f228 510 1084 36 24 20 -2 #rect
As0 f228 @|StepIcon #fIcon
As0 f230 expr out #txt
As0 f230 528 1044 528 1084 #arcP
As0 f201 expr out #txt
As0 f201 528 1108 528 1146 #arcP
As0 f40 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f40 actionTable 'out=in;
' #txt
As0 f40 actionCode 'import ch.ivy.addon.portalkit.persistence.domain.Application;

import ch.ivy.addon.portalkit.service.ApplicationService;

ApplicationService applicationService = new ApplicationService();
in.selectedApp = applicationService.save(in.selectedApp) as Application;' #txt
As0 f40 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f40 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>save application</name>
        <nameStyle>16,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f40 510 1204 36 24 20 -2 #rect
As0 f40 @|StepIcon #fIcon
As0 f41 expr in #txt
As0 f41 528 1174 528 1204 #arcP
As0 f43 expr out #txt
As0 f43 528 1228 528 1252 #arcP
As0 f225 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f225 actionTable 'out=in;
' #txt
As0 f225 actionCode 'import ch.ivy.addon.portalkit.service.ApplicationService;

ApplicationService applicationService = new ApplicationService();
in.applicationList = applicationService.findAll();' #txt
As0 f225 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f225 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get all applications</name>
        <nameStyle>20,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f225 686 1620 36 24 20 -2 #rect
As0 f225 @|StepIcon #fIcon
As0 f226 expr out #txt
As0 f226 704 1586 704 1620 #arcP
As0 f227 expr out #txt
As0 f227 704 1644 704 1670 #arcP
As0 f231 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f231 actionTable 'out=in;
' #txt
As0 f231 actionCode 'import ch.ivy.addon.portalkit.service.ApplicationService;

ApplicationService applicationService = new ApplicationService();
in.applicationList = applicationService.saveAll(in.applicationList);' #txt
As0 f231 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f231 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>save all applications</name>
        <nameStyle>21,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f231 1414 724 36 24 20 -2 #rect
As0 f231 @|StepIcon #fIcon
As0 f187 expr out #txt
As0 f187 1432 748 1432 790 #arcP
As0 f180 expr out #txt
As0 f180 1432 626 1432 660 #arcP
As0 f181 expr out #txt
As0 f181 1432 684 1432 724 #arcP
As0 f104 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f104 actionTable 'out=in;
' #txt
As0 f104 actionCode 'import ch.ivy.addon.portalkit.service.ServerService;

ServerService serverService = new ServerService();
in.serverList = serverService.findAll();' #txt
As0 f104 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f104 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get all servers</name>
        <nameStyle>15,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f104 294 468 36 24 20 -2 #rect
As0 f104 @|StepIcon #fIcon
As0 f101 expr out #txt
As0 f101 312 420 312 468 #arcP
As0 f102 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f102 actionTable 'out=in;
' #txt
As0 f102 actionCode 'import ch.ivy.addon.portalkit.enums.WSAuthenticationType;
import ch.ivy.addon.portalkit.persistence.domain.Server;

import ch.ivy.addon.portalkit.service.ServerService;

ServerService serverService = new ServerService();
if (WSAuthenticationType.NONE == in.selectedServer.wsAuthenticationType) {
	in.selectedServer.username = null;
	in.selectedServer.password = null;
	in.selectedServer.host = null;
	in.selectedServer.domain = null;
} else if (WSAuthenticationType.HTTP_BASIC == in.selectedServer.wsAuthenticationType) {
	in.selectedServer.host = null;
	in.selectedServer.domain = null;
}

in.selectedServer = serverService.save(in.selectedServer) as Server;' #txt
As0 f102 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f102 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>save server</name>
        <nameStyle>11,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f102 294 668 36 24 20 -2 #rect
As0 f102 @|StepIcon #fIcon
As0 f232 expr out #txt
As0 f232 312 626 312 668 #arcP
As0 f14 expr out #txt
As0 f14 312 692 312 724 #arcP
As0 f15 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f15 actionTable 'out=in;
' #txt
As0 f15 actionCode 'import ch.ivy.addon.portalkit.persistence.domain.GlobalSetting;

import ch.ivy.addon.portalkit.service.GlobalSettingService;

GlobalSettingService globalSettingService= new GlobalSettingService();
in.selectedSetting = globalSettingService.save(in.selectedSetting) as GlobalSetting;' #txt
As0 f15 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f15 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>save global setting</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f15 790 780 36 24 20 -2 #rect
As0 f15 @|StepIcon #fIcon
As0 f29 expr in #txt
As0 f29 outCond !in.duplicateApp #txt
As0 f29 808 742 808 780 #arcP
As0 f83 expr out #txt
As0 f83 808 804 808 836 #arcP
As0 f84 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f84 actionTable 'out=in;
' #txt
As0 f84 actionCode 'import ch.ivy.addon.portalkit.service.ServerService;
ServerService serverService = new ServerService();
serverService.delete(in.selectedServer);' #txt
As0 f84 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f84 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>delete server</name>
        <nameStyle>13,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f84 510 348 36 24 20 -2 #rect
As0 f84 @|StepIcon #fIcon
As0 f86 expr in #txt
As0 f86 outCond 'in.objToDelete == 1' #txt
As0 f86 528 310 528 348 #arcP
As0 f16 expr out #txt
As0 f16 528 372 528 412 #arcP
As0 f31 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f31 actionTable 'out=in;
' #txt
As0 f31 actionCode 'import ch.ivy.addon.portalkit.service.GlobalSettingService;
GlobalSettingService globalSettingService = new GlobalSettingService();
globalSettingService.delete(in.selectedSetting);' #txt
As0 f31 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f31 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>delete global setting</name>
        <nameStyle>21,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f31 750 348 36 24 20 -2 #rect
As0 f31 @|StepIcon #fIcon
As0 f90 expr out #txt
As0 f90 768 372 768 412 #arcP
As0 f87 expr in #txt
As0 f87 outCond 'in.objToDelete == 3' #txt
As0 f87 542 296 768 348 #arcP
As0 f87 1 768 296 #addKink
As0 f87 0 0.6954344773124139 0 0 #arcLabel
As0 f167 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f167 actionTable 'out=in;
' #txt
As0 f167 actionCode 'import ch.ivy.addon.portalkit.service.ServerService;

ServerService serverService = new ServerService();
in.serverList = serverService.findAll();' #txt
As0 f167 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f167 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get all servers</name>
        <nameStyle>15,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f167 510 1364 36 24 21 -3 #rect
As0 f167 @|StepIcon #fIcon
As0 f95 expr out #txt
As0 f95 528 1332 528 1364 #arcP
As0 f169 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f169 actionTable 'out=in;
' #txt
As0 f169 actionCode 'import ch.ivy.addon.portalkit.service.UserService;
UserService userService = new UserService();
in.usersApplicationList = userService.findByApplication(in.selectedApp);
in.filteredUsers = in.usersApplicationList;' #txt
As0 f169 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f169 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>find users by application</name>
        <nameStyle>25,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f169 1142 844 36 24 20 -2 #rect
As0 f169 @|StepIcon #fIcon
As0 f215 expr out #txt
As0 f215 1160 794 1160 844 #arcP
As0 f122 expr out #txt
As0 f122 1160 868 1160 918 #arcP
As0 f124 expr out #txt
As0 f124 744 986 744 1054 #arcP
As0 f133 expr in #txt
As0 f133 514 912 464 1020 #arcP
As0 f133 1 464 912 #addKink
As0 f133 0 0.8007004654459767 0 0 #arcLabel
As0 f144 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f144 1757 285 22 22 14 0 #rect
As0 f144 @|RichDialogProcessEndIcon #fIcon
As0 f143 guid 1503CBAF85EC7EE8 #txt
As0 f143 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f143 method getAppNameInCurrentLocale(ch.ivy.addon.portalkit.persistence.domain.Application) #txt
As0 f143 disableUIEvents false #txt
As0 f143 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<ch.ivy.addon.portalkit.persistence.domain.Application application> param = methodEvent.getInputArguments();
' #txt
As0 f143 inActionCode 'out.application = param.application;' #txt
As0 f143 outParameterDecl '<java.lang.String name> result;
' #txt
As0 f143 outActionCode 'import ch.ivy.addon.portalkit.service.ApplicationMultiLanguage;
result.name = ApplicationMultiLanguage.getDisplayNameInCurrentLocale(in.application);' #txt
As0 f143 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>getAppNameInCurrentLocale(Application)</name>
        <nameStyle>38,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f143 1757 205 22 22 14 0 #rect
As0 f143 @|RichDialogMethodStartIcon #fIcon
As0 f145 expr out #txt
As0 f145 1768 227 1768 285 #arcP
As0 f172 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f172 processCall 'Business Processes/SynchronizeServerConfiguration:add(ch.ivy.addon.portalkit.persistence.domain.Server)' #txt
As0 f172 doCall true #txt
As0 f172 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
As0 f172 requestMappingAction 'param.server=in.selectedServer;
' #txt
As0 f172 responseActionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f172 responseMappingAction 'out=in;
' #txt
As0 f172 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>sync data</name>
        <nameStyle>9,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f172 358 916 36 24 -17 16 #rect
As0 f172 @|TriggerIcon #fIcon
As0 f91 expr out #txt
As0 f91 376 940 322 992 #arcP
As0 f91 1 376 992 #addKink
As0 f91 1 0.048286957790386865 0 0 #arcLabel
As0 f175 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f175 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>is Add new Server?</name>
        <nameStyle>18,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f175 298 842 28 28 -112 -24 #rect
As0 f175 @|AlternativeIcon #fIcon
As0 f233 expr out #txt
As0 f233 312 804 312 842 #arcP
As0 f174 expr in #txt
As0 f174 outCond in.isAddMode #txt
As0 f174 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>yes</name>
        <nameStyle>3,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f174 326 856 376 916 #arcP
As0 f174 1 376 856 #addKink
As0 f174 0 0.92 0 -9 #arcLabel
As0 f235 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f235 processCall 'Business Processes/AbstractSynchronizingConfiguration:addOrUpdateOne(ch.ivy.addon.portalkit.persistence.domain.BusinessEntity)' #txt
As0 f235 doCall true #txt
As0 f235 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.BusinessEntity businessEntity> param;
' #txt
As0 f235 requestMappingAction 'param.businessEntity=in.selectedServer;
' #txt
As0 f235 responseActionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f235 responseMappingAction 'out=in;
' #txt
As0 f235 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>update data</name>
        <nameStyle>11,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f235 294 916 36 24 -69 15 #rect
As0 f235 @|TriggerIcon #fIcon
As0 f236 expr in #txt
As0 f236 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>no</name>
        <nameStyle>2,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f236 312 870 312 916 #arcP
As0 f234 expr out #txt
As0 f234 312 940 312 982 #arcP
As0 f237 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f237 processCall 'Business Processes/AbstractSynchronizingConfiguration:addOrUpdateOne(ch.ivy.addon.portalkit.persistence.domain.BusinessEntity)' #txt
As0 f237 doCall true #txt
As0 f237 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.BusinessEntity businessEntity> param;
' #txt
As0 f237 requestMappingAction 'param.businessEntity=in.selectedApp;
' #txt
As0 f237 responseActionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f237 responseMappingAction 'out=in;
' #txt
As0 f237 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>sync data</name>
        <nameStyle>9,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f237 510 1420 36 24 11 14 #rect
As0 f237 @|TriggerIcon #fIcon
As0 f238 expr out #txt
As0 f238 528 1388 528 1420 #arcP
As0 f96 expr out #txt
As0 f96 528 1444 528 1470 #arcP
As0 f239 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f239 processCall 'Business Processes/AbstractSynchronizingConfiguration:addOrUpdateOne(ch.ivy.addon.portalkit.persistence.domain.BusinessEntity)' #txt
As0 f239 doCall true #txt
As0 f239 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.BusinessEntity businessEntity> param;
' #txt
As0 f239 requestMappingAction 'param.businessEntity=in.selectedSetting;
' #txt
As0 f239 responseActionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f239 responseMappingAction 'out=in;
' #txt
As0 f239 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>sync data</name>
        <nameStyle>9,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f239 790 892 36 24 22 0 #rect
As0 f239 @|TriggerIcon #fIcon
As0 f240 expr out #txt
As0 f240 808 860 808 892 #arcP
As0 f82 expr out #txt
As0 f82 808 916 808 942 #arcP
As0 f241 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f241 processCall 'Business Processes/SynchronizeServerConfiguration:delete(ch.ivy.addon.portalkit.persistence.domain.Server)' #txt
As0 f241 doCall true #txt
As0 f241 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
As0 f241 requestMappingAction 'param.server=in.selectedServer;
' #txt
As0 f241 responseActionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f241 responseMappingAction 'out=in;
' #txt
As0 f241 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>sync data</name>
        <nameStyle>9,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f241 510 500 36 24 20 -2 #rect
As0 f241 @|TriggerIcon #fIcon
As0 f242 expr out #txt
As0 f242 528 436 528 500 #arcP
As0 f13 expr out #txt
As0 f13 528 524 528 574 #arcP
As0 f78 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f78 758 542 20 20 13 0 #rect
As0 f78 @|RichDialogProcessEndIcon #fIcon
As0 f48 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f48 302 574 20 20 13 0 #rect
As0 f48 @|RichDialogProcessEndIcon #fIcon
As0 f243 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f243 processCall 'Business Processes/AbstractSynchronizingConfiguration:delete(ch.ivy.addon.portalkit.persistence.domain.BusinessEntity)' #txt
As0 f243 doCall true #txt
As0 f243 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.BusinessEntity businessEntity> param;
' #txt
As0 f243 requestMappingAction 'param.businessEntity=in.selectedSetting;
' #txt
As0 f243 responseActionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f243 responseMappingAction 'out=in;
' #txt
As0 f243 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>sync data</name>
        <nameStyle>9,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f243 750 476 36 24 20 -2 #rect
As0 f243 @|TriggerIcon #fIcon
As0 f244 expr out #txt
As0 f244 768 436 768 476 #arcP
As0 f79 expr out #txt
As0 f79 768 500 768 542 #arcP
As0 f245 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f245 processCall 'Business Processes/AbstractSynchronizingConfiguration:delete(ch.ivy.addon.portalkit.persistence.domain.BusinessEntity)' #txt
As0 f245 doCall true #txt
As0 f245 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.BusinessEntity businessEntity> param;
' #txt
As0 f245 requestMappingAction 'param.businessEntity=in.selectedApp;
' #txt
As0 f245 responseActionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f245 responseMappingAction 'out=in;
' #txt
As0 f245 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>sync data</name>
        <nameStyle>9,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f245 294 532 36 24 20 -2 #rect
As0 f245 @|TriggerIcon #fIcon
As0 f246 expr out #txt
As0 f246 312 492 312 532 #arcP
As0 f49 expr out #txt
As0 f49 312 556 312 574 #arcP
As0 f254 expr out #txt
As0 f254 96 74 96 116 #arcP
As0 f254 0 0.4862440103228913 0 0 #arcLabel
As0 f258 expr out #txt
As0 f258 96 140 96 182 #arcP
As0 f19 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f19 actionTable 'out=in;
' #txt
As0 f19 actionCode 'import ch.ivy.addon.portalkit.comparator.ApplicationIndexAscendingComparator;
import java.util.Collections;
import ch.ivy.addon.portalkit.service.ApplicationService;
import ch.ivy.addon.portalkit.service.GlobalSettingService;
import ch.ivy.addon.portalkit.service.ServerService;
import ch.ivy.addon.portalkit.persistence.domain.GlobalSetting;
import ch.ivy.addon.portalkit.persistence.domain.Application;
import ch.ivy.addon.portalkit.persistence.domain.Server;

ServerService serverService = new ServerService();
in.serverList = serverService.findAll();

GlobalSettingService globalSettingService = new GlobalSettingService();
in.settingList = globalSettingService.findAll();

ApplicationService applicationService = new ApplicationService();
in.applicationList = applicationService.findAll();
Collections.sort(in.applicationList, new ApplicationIndexAscendingComparator());' #txt
As0 f19 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f19 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>init</name>
        <nameStyle>4,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f19 78 116 36 24 20 -2 #rect
As0 f19 @|StepIcon #fIcon
As0 f2 guid 151E78971722E279 #txt
As0 f2 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f2 method findAllApplication() #txt
As0 f2 disableUIEvents false #txt
As0 f2 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
As0 f2 outParameterDecl '<List<ch.ivy.addon.portalkit.persistence.domain.Application> applications> result;
' #txt
As0 f2 outParameterMapAction 'result.applications=in.applicationList;
' #txt
As0 f2 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>findAllApplication()</name>
        <nameStyle>20,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f2 1421 861 22 22 14 0 #rect
As0 f2 @|RichDialogMethodStartIcon #fIcon
As0 f94 guid 151E789774273A4D #txt
As0 f94 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f94 method findAllServer() #txt
As0 f94 disableUIEvents false #txt
As0 f94 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
As0 f94 outParameterDecl '<List<ch.ivy.addon.portalkit.persistence.domain.Server> servers> result;
' #txt
As0 f94 outActionCode 'import ch.ivy.addon.portalkit.service.ServerService;
ServerService serverService = new ServerService();
result.servers = serverService.findAll();' #txt
As0 f94 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>findAllServer()</name>
        <nameStyle>15,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f94 1421 1029 22 22 14 0 #rect
As0 f94 @|RichDialogMethodStartIcon #fIcon
As0 f98 guid 151E7897C8560BE0 #txt
As0 f98 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f98 method findAllGlobalSetting() #txt
As0 f98 disableUIEvents false #txt
As0 f98 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
As0 f98 outParameterDecl '<List<ch.ivy.addon.portalkit.persistence.domain.GlobalSetting> globalSettings> result;
' #txt
As0 f98 outActionCode 'import ch.ivy.addon.portalkit.service.GlobalSettingService;
GlobalSettingService globalSettingService = new GlobalSettingService();
result.globalSettings = globalSettingService.findAll();' #txt
As0 f98 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>findAllGlobalSetting()</name>
        <nameStyle>22,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f98 1613 861 22 22 14 0 #rect
As0 f98 @|RichDialogMethodStartIcon #fIcon
As0 f99 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f99 1421 973 22 22 14 0 #rect
As0 f99 @|RichDialogProcessEndIcon #fIcon
As0 f100 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f100 1613 973 22 22 14 0 #rect
As0 f100 @|RichDialogProcessEndIcon #fIcon
As0 f123 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f123 1421 1125 22 22 14 0 #rect
As0 f123 @|RichDialogProcessEndIcon #fIcon
As0 f153 expr out #txt
As0 f153 1432 883 1432 973 #arcP
As0 f154 expr out #txt
As0 f154 1624 883 1624 973 #arcP
As0 f182 expr out #txt
As0 f182 1432 1051 1432 1125 #arcP
As0 f183 guid 155A5B05CA4C248A #txt
As0 f183 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f183 method getExternalHost() #txt
As0 f183 disableUIEvents false #txt
As0 f183 inParameterDecl 'ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent methodEvent = event as ch.ivyteam.ivy.richdialog.exec.RdMethodCallEvent;
<> param = methodEvent.getInputArguments();
' #txt
As0 f183 outParameterDecl '<> result;
' #txt
As0 f183 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>getExternalHost()</name>
        <nameStyle>17,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f183 1205 1237 22 22 14 0 #rect
As0 f183 @|RichDialogMethodStartIcon #fIcon
As0 f247 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f247 1205 1509 22 22 14 0 #rect
As0 f247 @|RichDialogProcessEndIcon #fIcon
As0 f251 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f251 processCall MultiPortal/ServerService:getExternalHost(ch.ivy.addon.portalkit.persistence.domain.Server) #txt
As0 f251 doCall true #txt
As0 f251 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
As0 f251 requestMappingAction 'param.server=in.selectedServer;
' #txt
As0 f251 responseActionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f251 responseMappingAction 'out=in;
out.errors=result.errors;
out.serverExternalHost=result.externalHost;
' #txt
As0 f251 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get external host</name>
        <nameStyle>17,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f251 1198 1316 36 24 20 -2 #rect
As0 f251 @|CallSubIcon #fIcon
As0 f253 expr out #txt
As0 f253 1216 1259 1216 1316 #arcP
As0 f249 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f249 actionTable 'out=in;
' #txt
As0 f249 actionCode 'if((in.errors.size() > 0) || (in.errors.size() == 0 && "".equalsIgnoreCase(in.serverExternalHost))) {
	in.serverExternalHost = ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/adminSettings/autoDetectExternalHost");
}' #txt
As0 f249 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f249 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>set external host value</name>
        <nameStyle>23,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f249 1198 1380 36 24 20 -2 #rect
As0 f249 @|StepIcon #fIcon
As0 f250 expr out #txt
As0 f250 1216 1340 1216 1380 #arcP
As0 f252 actionDecl 'ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData out;
' #txt
As0 f252 actionTable 'out=in;
' #txt
As0 f252 actionCode 'import ch.ivy.ws.addon.WsException;
import javax.faces.context.FacesContext;
import javax.faces.application.FacesMessage;

if(in.errors.size() > 0) {
	String connectionFailMessage = ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/adminSettings/testConnectionFail");
	for(WsException error : in.errors) {
		FacesContext.getCurrentInstance().addMessage(null, new FacesMessage(FacesMessage.SEVERITY_ERROR ,connectionFailMessage, null));
	}
} else {
	String connectionSuccessMessage = ivy.cms.co("/ch.ivy.addon.portalkit.ui.jsf/adminSettings/testConnectionSuccess");
	FacesContext.getCurrentInstance().addMessage(null, new FacesMessage(FacesMessage.SEVERITY_INFO ,connectionSuccessMessage, null));
}' #txt
As0 f252 type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
As0 f252 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Show message if any</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
As0 f252 1198 1444 36 24 20 -2 #rect
As0 f252 @|StepIcon #fIcon
As0 f255 expr out #txt
As0 f255 1216 1404 1216 1444 #arcP
As0 f248 expr out #txt
As0 f248 1216 1468 1216 1509 #arcP
>Proto As0 .type ch.ivy.addon.portalkit.admin.AdminSettings.AdminSettingsData #txt
>Proto As0 .processKind HTML_DIALOG #txt
>Proto As0 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name></name>
        <swimlaneLabel>Start Method</swimlaneLabel>
        <swimlaneLabel>Events</swimlaneLabel>
        <swimlaneLabel>Methods</swimlaneLabel>
        <swimlaneLabel></swimlaneLabel>
    </language>
    <swimlaneSize>256</swimlaneSize>
    <swimlaneSize>840</swimlaneSize>
    <swimlaneSize>912</swimlaneSize>
    <swimlaneColor gradient="true">-1</swimlaneColor>
    <swimlaneColor gradient="true">-13057</swimlaneColor>
    <swimlaneColor gradient="true">-3342337</swimlaneColor>
    <swimlaneType>LANE</swimlaneType>
    <swimlaneType>LANE</swimlaneType>
    <swimlaneType>LANE</swimlaneType>
    <swimlaneSpaceBefore>0</swimlaneSpaceBefore>
    <swimlaneSpaceBefore>0</swimlaneSpaceBefore>
    <swimlaneSpaceBefore>0</swimlaneSpaceBefore>
</elementInfo>
' #txt
>Proto As0 -8 -8 16 16 16 26 #rect
>Proto As0 '' #fIcon
As0 f3 mainOut f7 tail #connect
As0 f7 head f6 mainIn #connect
As0 f6 mainOut f5 tail #connect
As0 f5 head f4 mainIn #connect
As0 f24 mainOut f28 tail #connect
As0 f28 head f27 mainIn #connect
As0 f27 mainOut f26 tail #connect
As0 f26 head f25 mainIn #connect
As0 f32 mainOut f36 tail #connect
As0 f36 head f35 mainIn #connect
As0 f35 mainOut f34 tail #connect
As0 f34 head f33 mainIn #connect
As0 f44 mainOut f55 tail #connect
As0 f55 head f54 mainIn #connect
As0 f47 mainOut f59 tail #connect
As0 f59 head f58 mainIn #connect
As0 f21 mainOut f60 tail #connect
As0 f60 head f51 mainIn #connect
As0 f51 mainOut f23 tail #connect
As0 f23 head f22 mainIn #connect
As0 f61 mainOut f66 tail #connect
As0 f66 head f62 mainIn #connect
As0 f63 mainOut f68 tail #connect
As0 f68 head f67 mainIn #connect
As0 f67 mainOut f65 tail #connect
As0 f65 head f64 mainIn #connect
As0 f69 mainOut f73 tail #connect
As0 f73 head f72 mainIn #connect
As0 f72 mainOut f71 tail #connect
As0 f71 head f70 mainIn #connect
As0 f74 mainOut f76 tail #connect
As0 f76 head f75 mainIn #connect
As0 f42 mainOut f39 tail #connect
As0 f39 head f93 mainIn #connect
As0 f80 mainOut f106 tail #connect
As0 f106 head f105 mainIn #connect
As0 f105 mainOut f108 tail #connect
As0 f108 head f107 in #connect
As0 f110 head f109 mainIn #connect
As0 f109 mainOut f112 tail #connect
As0 f112 head f111 mainIn #connect
As0 f113 mainOut f116 tail #connect
As0 f116 head f115 in #connect
As0 f118 head f117 mainIn #connect
As0 f117 mainOut f120 tail #connect
As0 f120 head f119 mainIn #connect
As0 f132 out f130 tail #connect
As0 f130 head f129 mainIn #connect
As0 f132 out f137 tail #connect
As0 f137 head f136 mainIn #connect
As0 f136 mainOut f135 tail #connect
As0 f135 head f134 mainIn #connect
As0 f138 mainOut f126 tail #connect
As0 f126 head f132 in #connect
As0 f129 mainOut f140 tail #connect
As0 f140 head f131 mainIn #connect
As0 f146 mainOut f150 tail #connect
As0 f150 head f149 mainIn #connect
As0 f149 mainOut f152 tail #connect
As0 f152 head f151 mainIn #connect
As0 f151 mainOut f148 tail #connect
As0 f148 head f147 mainIn #connect
As0 f158 mainOut f160 tail #connect
As0 f160 head f156 mainIn #connect
As0 f131 mainOut f139 tail #connect
As0 f139 head f125 mainIn #connect
As0 f125 mainOut f128 tail #connect
As0 f128 head f127 mainIn #connect
As0 f161 mainOut f163 tail #connect
As0 f163 head f162 mainIn #connect
As0 f165 mainOut f166 tail #connect
As0 f166 head f164 in #connect
As0 f11 mainOut f77 tail #connect
As0 f77 head f57 mainIn #connect
As0 f176 mainOut f180 tail #connect
As0 f180 head f179 mainIn #connect
As0 f192 mainOut f195 tail #connect
As0 f195 head f178 in #connect
As0 f178 out f197 tail #connect
As0 f197 head f193 mainIn #connect
As0 f193 mainOut f199 tail #connect
As0 f199 head f188 mainIn #connect
As0 f185 mainOut f207 tail #connect
As0 f207 head f202 mainIn #connect
As0 f202 mainOut f208 tail #connect
As0 f208 head f194 mainIn #connect
As0 f190 mainOut f191 tail #connect
As0 f191 head f188 mainIn #connect
As0 f88 mainOut f206 tail #connect
As0 f206 head f103 in #connect
As0 f173 mainOut f171 tail #connect
As0 f171 head f170 in #connect
As0 f57 mainOut f219 tail #connect
As0 f219 head f218 in #connect
As0 f218 out f56 tail #connect
As0 f56 head f217 mainIn #connect
As0 f218 out f221 tail #connect
As0 f221 head f17 mainIn #connect
As0 f156 mainOut f223 tail #connect
As0 f223 head f222 mainIn #connect
As0 f178 out f186 tail #connect
As0 f186 head f190 mainIn #connect
As0 f217 mainOut f189 tail #connect
As0 f189 head f17 mainIn #connect
As0 f222 mainOut f159 tail #connect
As0 f159 head f157 mainIn #connect
As0 f54 mainOut f198 tail #connect
As0 f198 head f196 in #connect
As0 f196 out f203 tail #connect
As0 f203 head f46 mainIn #connect
As0 f196 out f220 tail #connect
As0 f220 head f205 mainIn #connect
As0 f205 mainOut f204 tail #connect
As0 f204 head f45 mainIn #connect
As0 f46 mainOut f224 tail #connect
As0 f224 head f45 mainIn #connect
As0 f37 mainOut f114 tail #connect
As0 f114 head f113 mainIn #connect
As0 f115 out f210 tail #connect
As0 f210 head f209 in #connect
As0 f115 out f118 tail #connect
As0 f209 out f211 tail #connect
As0 f211 head f173 mainIn #connect
As0 f209 out f213 tail #connect
As0 f213 head f212 mainIn #connect
As0 f212 mainOut f214 tail #connect
As0 f214 head f170 in #connect
As0 f18 mainOut f10 tail #connect
As0 f10 head f97 mainIn #connect
As0 f92 mainOut f53 tail #connect
As0 f53 head f52 mainIn #connect
As0 f50 head f92 mainIn #connect
As0 f170 out f168 tail #connect
As0 f168 head f155 mainIn #connect
As0 f155 mainOut f184 tail #connect
As0 f184 head f229 mainIn #connect
As0 f229 mainOut f230 tail #connect
As0 f230 head f228 mainIn #connect
As0 f228 mainOut f201 tail #connect
As0 f201 head f103 in #connect
As0 f103 out f41 tail #connect
As0 f41 head f40 mainIn #connect
As0 f40 mainOut f43 tail #connect
As0 f43 head f42 mainIn #connect
As0 f200 mainOut f226 tail #connect
As0 f226 head f225 mainIn #connect
As0 f225 mainOut f227 tail #connect
As0 f227 head f216 mainIn #connect
As0 f231 mainOut f187 tail #connect
As0 f187 head f177 mainIn #connect
As0 f179 mainOut f181 tail #connect
As0 f181 head f231 mainIn #connect
As0 f52 mainOut f101 tail #connect
As0 f101 head f104 mainIn #connect
As0 f8 mainOut f232 tail #connect
As0 f232 head f102 mainIn #connect
As0 f102 mainOut f14 tail #connect
As0 f14 head f18 mainIn #connect
As0 f107 out f29 tail #connect
As0 f29 head f15 mainIn #connect
As0 f107 out f110 tail #connect
As0 f15 mainOut f83 tail #connect
As0 f83 head f85 mainIn #connect
As0 f164 out f86 tail #connect
As0 f86 head f84 mainIn #connect
As0 f164 out f50 tail #connect
As0 f84 mainOut f16 tail #connect
As0 f16 head f30 mainIn #connect
As0 f31 mainOut f90 tail #connect
As0 f90 head f89 mainIn #connect
As0 f164 out f87 tail #connect
As0 f87 head f31 mainIn #connect
As0 f93 mainOut f95 tail #connect
As0 f95 head f167 mainIn #connect
As0 f20 mainOut f215 tail #connect
As0 f215 head f169 mainIn #connect
As0 f169 mainOut f122 tail #connect
As0 f122 head f121 mainIn #connect
As0 f141 mainOut f124 tail #connect
As0 f124 head f142 mainIn #connect
As0 f170 out f133 tail #connect
As0 f133 head f88 mainIn #connect
As0 f143 mainOut f145 tail #connect
As0 f145 head f144 mainIn #connect
As0 f172 mainOut f91 tail #connect
As0 f91 head f9 mainIn #connect
As0 f97 mainOut f233 tail #connect
As0 f233 head f175 in #connect
As0 f175 out f174 tail #connect
As0 f174 head f172 mainIn #connect
As0 f175 out f236 tail #connect
As0 f236 head f235 mainIn #connect
As0 f235 mainOut f234 tail #connect
As0 f234 head f9 mainIn #connect
As0 f167 mainOut f238 tail #connect
As0 f238 head f237 mainIn #connect
As0 f237 mainOut f96 tail #connect
As0 f96 head f38 mainIn #connect
As0 f85 mainOut f240 tail #connect
As0 f240 head f239 mainIn #connect
As0 f239 mainOut f82 tail #connect
As0 f82 head f81 mainIn #connect
As0 f30 mainOut f242 tail #connect
As0 f242 head f241 mainIn #connect
As0 f241 mainOut f13 tail #connect
As0 f13 head f12 mainIn #connect
As0 f89 mainOut f244 tail #connect
As0 f244 head f243 mainIn #connect
As0 f243 mainOut f79 tail #connect
As0 f79 head f78 mainIn #connect
As0 f104 mainOut f246 tail #connect
As0 f246 head f245 mainIn #connect
As0 f245 mainOut f49 tail #connect
As0 f49 head f48 mainIn #connect
As0 f19 mainOut f258 tail #connect
As0 f258 head f1 mainIn #connect
As0 f0 mainOut f254 tail #connect
As0 f254 head f19 mainIn #connect
As0 f2 mainOut f153 tail #connect
As0 f153 head f99 mainIn #connect
As0 f98 mainOut f154 tail #connect
As0 f154 head f100 mainIn #connect
As0 f94 mainOut f182 tail #connect
As0 f182 head f123 mainIn #connect
As0 f183 mainOut f253 tail #connect
As0 f253 head f251 mainIn #connect
As0 f251 mainOut f250 tail #connect
As0 f250 head f249 mainIn #connect
As0 f249 mainOut f255 tail #connect
As0 f255 head f252 mainIn #connect
As0 f252 mainOut f248 tail #connect
As0 f248 head f247 mainIn #connect
