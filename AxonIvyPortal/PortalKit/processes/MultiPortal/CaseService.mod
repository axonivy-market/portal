[Ivy]
[>Created: Mon Feb 29 10:20:37 ICT 2016]
14715F955CC5A35F 3.18 #module
>Proto >Proto Collection #zClass
Ce0 CaseService Big #zClass
Ce0 B #cInfo
Ce0 #process
Ce0 @TextInP .resExport .resExport #zField
Ce0 @TextInP .type .type #zField
Ce0 @TextInP .processKind .processKind #zField
Ce0 @AnnotationInP-0n ai ai #zField
Ce0 @TextInP .xml .xml #zField
Ce0 @TextInP .responsibility .responsibility #zField
Ce0 @GridStep f13 '' #zField
Ce0 @Alternative f4 '' #zField
Ce0 @GridStep f14 '' #zField
Ce0 @GridStep f21 '' #zField
Ce0 @Alternative f7 '' #zField
Ce0 @PushWFArc f8 '' #zField
Ce0 @PushWFArc f22 '' #zField
Ce0 @PushWFArc f12 '' #zField
Ce0 @PushWFArc f17 '' #zField
Ce0 @StartSub f0 '' #zField
Ce0 @StartSub f24 '' #zField
Ce0 @StartSub f33 '' #zField
Ce0 @GridStep f35 '' #zField
Ce0 @PushWFArc f36 '' #zField
Ce0 @GridStep f40 '' #zField
Ce0 @PushWFArc f41 '' #zField
Ce0 @GridStep f44 '' #zField
Ce0 @CallSub f9 '' #zField
Ce0 @PushWFArc f19 '' #zField
Ce0 @PushWFArc f11 '' #zField
Ce0 @CallSub f10 '' #zField
Ce0 @PushWFArc f20 '' #zField
Ce0 @PushWFArc f28 '' #zField
Ce0 @CallSub f25 '' #zField
Ce0 @PushWFArc f26 '' #zField
Ce0 @GridStep f74 '' #zField
Ce0 @PushWFArc f23 '' #zField
Ce0 @PushWFArc f29 '' #zField
Ce0 @CallSub f77 '' #zField
Ce0 @GridStep f79 '' #zField
Ce0 @PushWFArc f82 '' #zField
Ce0 @PushWFArc f2 '' #zField
Ce0 @PushWFArc f18 '' #zField
Ce0 @StartSub f3 '' #zField
Ce0 @CallSub f37 '' #zField
Ce0 @Alternative f6 '' #zField
Ce0 @GridStep f15 '' #zField
Ce0 @CallSub f39 '' #zField
Ce0 @PushWFArc f42 '' #zField
Ce0 @PushWFArc f43 '' #zField
Ce0 @PushWFArc f45 '' #zField
Ce0 @GridStep f38 '' #zField
Ce0 @PushWFArc f46 '' #zField
Ce0 @PushWFArc f47 '' #zField
Ce0 @PushWFArc f49 '' #zField
Ce0 @StartSub f48 '' #zField
Ce0 @CallSub f50 '' #zField
Ce0 @Alternative f51 '' #zField
Ce0 @GridStep f53 '' #zField
Ce0 @GridStep f54 '' #zField
Ce0 @CallSub f55 '' #zField
Ce0 @PushWFArc f56 '' #zField
Ce0 @PushWFArc f57 '' #zField
Ce0 @PushWFArc f58 '' #zField
Ce0 @PushWFArc f59 '' #zField
Ce0 @PushWFArc f61 '' #zField
Ce0 @PushWFArc f62 '' #zField
Ce0 @StartSub f63 '' #zField
Ce0 @GridStep f64 '' #zField
Ce0 @Alternative f66 '' #zField
Ce0 @GridStep f67 '' #zField
Ce0 @CallSub f68 '' #zField
Ce0 @CallSub f69 '' #zField
Ce0 @PushWFArc f70 '' #zField
Ce0 @PushWFArc f71 '' #zField
Ce0 @PushWFArc f72 '' #zField
Ce0 @PushWFArc f73 '' #zField
Ce0 @PushWFArc f76 '' #zField
Ce0 @PushWFArc f78 '' #zField
Ce0 @Alternative f148 '' #zField
Ce0 @EndSub f80 '' #zField
Ce0 @CallSub f144 '' #zField
Ce0 @PushWFArc f81 '' #zField
Ce0 @PushWFArc f107 '' #zField
Ce0 @PushWFArc f83 '' #zField
Ce0 @PushWFArc f16 '' #zField
Ce0 @PushWFArc f31 '' #zField
Ce0 @PushWFArc f27 '' #zField
Ce0 @PushWFArc f1 '' #zField
Ce0 @StartSub f5 '' #zField
Ce0 @CallSub f52 '' #zField
Ce0 @GridStep f34 '' #zField
Ce0 @GridStep f88 '' #zField
Ce0 @PushWFArc f87 '' #zField
Ce0 @PushWFArc f30 '' #zField
Ce0 @PushWFArc f60 '' #zField
Ce0 @PushWFArc f65 '' #zField
Ce0 @StartSub f75 '' #zField
Ce0 @CallSub f84 '' #zField
Ce0 @Alternative f85 '' #zField
Ce0 @GridStep f86 '' #zField
Ce0 @GridStep f89 '' #zField
Ce0 @GridStep f90 '' #zField
Ce0 @GridStep f91 '' #zField
Ce0 @GridStep f92 '' #zField
Ce0 @Alternative f94 '' #zField
Ce0 @PushWFArc f95 '' #zField
Ce0 @PushWFArc f96 '' #zField
Ce0 @PushWFArc f97 '' #zField
Ce0 @PushWFArc f98 '' #zField
Ce0 @PushWFArc f101 '' #zField
Ce0 @PushWFArc f102 '' #zField
Ce0 @PushWFArc f103 '' #zField
Ce0 @PushWFArc f104 '' #zField
Ce0 @PushWFArc f105 '' #zField
Ce0 @PushWFArc f106 '' #zField
Ce0 @CallSub f93 '' #zField
Ce0 @PushWFArc f100 '' #zField
Ce0 @PushWFArc f109 '' #zField
Ce0 @CallSub f99 '' #zField
Ce0 @StartSub f108 '' #zField
Ce0 @GridStep f110 '' #zField
Ce0 @Alternative f111 '' #zField
Ce0 @GridStep f112 '' #zField
Ce0 @CallSub f113 '' #zField
Ce0 @PushWFArc f114 '' #zField
Ce0 @PushWFArc f115 '' #zField
Ce0 @PushWFArc f116 '' #zField
Ce0 @PushWFArc f117 '' #zField
Ce0 @PushWFArc f118 '' #zField
Ce0 @PushWFArc f119 '' #zField
Ce0 @PushWFArc f32 '' #zField
Ce0 @PushWFArc f120 '' #zField
Ce0 @CallSub f143 '' #zField
Ce0 @GridStep f145 '' #zField
Ce0 @GridStep f146 '' #zField
Ce0 @Alternative f147 '' #zField
Ce0 @GridStep f149 '' #zField
Ce0 @CallSub f150 '' #zField
Ce0 @GridStep f151 '' #zField
Ce0 @Alternative f152 '' #zField
Ce0 @GridStep f153 '' #zField
Ce0 @PushWFArc f155 '' #zField
Ce0 @PushWFArc f156 '' #zField
Ce0 @PushWFArc f157 '' #zField
Ce0 @PushWFArc f158 '' #zField
Ce0 @PushWFArc f159 '' #zField
Ce0 @PushWFArc f160 '' #zField
Ce0 @PushWFArc f161 '' #zField
Ce0 @PushWFArc f162 '' #zField
Ce0 @PushWFArc f164 '' #zField
Ce0 @PushWFArc f165 '' #zField
Ce0 @PushWFArc f166 '' #zField
Ce0 @CallSub f169 '' #zField
Ce0 @GridStep f170 '' #zField
Ce0 @CallSub f171 '' #zField
Ce0 @Alternative f172 '' #zField
Ce0 @GridStep f173 '' #zField
Ce0 @StartSub f174 '' #zField
Ce0 @PushWFArc f175 '' #zField
Ce0 @PushWFArc f176 '' #zField
Ce0 @PushWFArc f177 '' #zField
Ce0 @PushWFArc f178 '' #zField
Ce0 @PushWFArc f179 '' #zField
Ce0 @PushWFArc f180 '' #zField
Ce0 @PushWFArc f181 '' #zField
Ce0 @StartSub f121 '' #zField
Ce0 @PushWFArc f122 '' #zField
>Proto Ce0 Ce0 CaseService #zField
Ce0 f13 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f13 actionTable 'out=in;
' #txt
Ce0 f13 actionCode 'import ch.ivy.addon.portalkit.service.PortalConnectorDetector;
import ch.ivy.addon.portalkit.enums.WebServiceEndPoint;
import ch.ivy.ws.addon.IvyApplication;

for (IvyApplication app : in.applications) {
	in.apps.add(app.name);
}
	
PortalConnectorDetector detector = new PortalConnectorDetector();
in.endpoint = detector.getPortalConnectorURLOf(in.server) + WebServiceEndPoint.CASE.toString();' #txt
Ce0 f13 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f13 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get Allive Apps
ws endpoint</name>
        <nameStyle>27,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f13 430 396 36 24 21 -18 #rect
Ce0 f13 @|StepIcon #fIcon
Ce0 f4 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f4 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>next server</name>
        <nameStyle>11,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f4 434 154 28 28 22 -21 #rect
Ce0 f4 @|AlternativeIcon #fIcon
Ce0 f14 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f14 actionTable 'out=in;
' #txt
Ce0 f14 actionCode 'import ch.ivy.addon.portalkit.bo.RemoteCase;
import ch.ivyteam.ivy.workflow.ICase;
import ch.ivy.addon.portalkit.mapper.RemoteCaseMapper;

in.cases.clear();
if (in.tempErrors.size() == 0) {
	in.cases = RemoteCaseMapper.mapCases(in.ivyCases, in.server);
}

' #txt
Ce0 f14 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f14 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>add cases</name>
        <nameStyle>9,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f14 430 508 36 24 20 -2 #rect
Ce0 f14 @|StepIcon #fIcon
Ce0 f21 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f21 actionTable 'out=in;
' #txt
Ce0 f21 actionCode 'import ch.ivy.ws.addon.WsException;
for(int i = 0 ; i < in.tempErrors.size() ; i++){
	WsException w = in.tempErrors.get(i) as WsException;
	w.server = in.server.name;
	in.tempErrors.set(i,w);
	}
in.errors.addAll(in.tempErrors);

in.apps.clear();' #txt
Ce0 f21 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f21 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>utils</name>
        <nameStyle>5,7
</nameStyle>
        <desc>add server name for exceptions

clear apps list</desc>
    </language>
</elementInfo>
' #txt
Ce0 f21 542 188 36 24 20 -2 #rect
Ce0 f21 @|StepIcon #fIcon
Ce0 f7 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f7 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>server alive</name>
        <nameStyle>12,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f7 434 346 28 28 11 -29 #rect
Ce0 f7 @|AlternativeIcon #fIcon
Ce0 f8 expr in #txt
Ce0 f8 outCond in.isServerAlive #txt
Ce0 f8 448 374 448 396 #arcP
Ce0 f22 expr out #txt
Ce0 f22 466 520 560 212 #arcP
Ce0 f22 1 560 520 #addKink
Ce0 f22 1 0.4321413036724042 0 0 #arcLabel
Ce0 f12 expr in #txt
Ce0 f12 462 360 560 212 #arcP
Ce0 f12 1 560 360 #addKink
Ce0 f12 1 0.5115178601655154 0 0 #arcLabel
Ce0 f17 expr out #txt
Ce0 f17 560 188 462 168 #arcP
Ce0 f17 1 560 168 #addKink
Ce0 f17 1 0.31135433052386374 0 0 #arcLabel
Ce0 f0 inParamDecl '<java.lang.String user> param;' #txt
Ce0 f0 inParamTable 'out.username=param.user;
' #txt
Ce0 f0 outParamDecl '<java.util.List<ch.ivy.ws.addon.WsException> errors,java.util.List<ch.ivyteam.ivy.workflow.ICase> cases> result;
' #txt
Ce0 f0 outParamTable 'result.errors=in.errors;
result.cases=in.cases;
' #txt
Ce0 f0 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f0 callSignature findAllCases(String) #txt
Ce0 f0 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f0 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>findAllCases(String)</name>
    </language>
</elementInfo>
' #txt
Ce0 f0 435 43 26 26 14 0 #rect
Ce0 f0 @|StartSubIcon #fIcon
Ce0 f24 inParamDecl '<ch.ivy.addon.portalkit.bo.RemoteCase remoteCase> param;' #txt
Ce0 f24 inParamTable 'out.remoteCase=param.remoteCase;
' #txt
Ce0 f24 outParamDecl '<List<ch.ivy.ws.addon.WsException> errors,ch.ivy.addon.portalkit.bo.RemoteCase remoteCase> result;
' #txt
Ce0 f24 outParamTable 'result.errors=in.errors;
result.remoteCase=in.remoteCase;
' #txt
Ce0 f24 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f24 callSignature loadCaseAdditionalProperties(ch.ivy.addon.portalkit.bo.RemoteCase) #txt
Ce0 f24 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f24 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>loadCaseAdditionalProperties
(RemoteCase)</name>
        <nameStyle>41,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f24 1275 35 26 26 14 -5 #rect
Ce0 f24 @|StartSubIcon #fIcon
Ce0 f33 inParamDecl '<ch.ivy.addon.portalkit.bo.RemoteCase remoteCases> param;' #txt
Ce0 f33 inParamTable 'out.remoteCase=param.remoteCases;
' #txt
Ce0 f33 outParamDecl '<List<ch.ivy.ws.addon.WsException> errors> result;
' #txt
Ce0 f33 outParamTable 'result.errors=in.errors;
' #txt
Ce0 f33 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f33 callSignature saveCaseAdditionalProperties(ch.ivy.addon.portalkit.bo.RemoteCase) #txt
Ce0 f33 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f33 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>saveCaseAdditionalProperties
(RemoteCase)</name>
        <nameStyle>41,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f33 1483 35 26 26 14 0 #rect
Ce0 f33 @|StartSubIcon #fIcon
Ce0 f35 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f35 actionTable 'out=in;
' #txt
Ce0 f35 actionCode 'import ch.ivy.ws.addon.IvyAdditionalProperty;

in.additionalProperties.clear();

for (String pName : in.remoteCase.getAdditionalPropertyNames()) {
	if (!pName.equals(ivy.cms.co("/ch.ivy.addon.portalkit/variables/portalkit_serveradress"))) {
     IvyAdditionalProperty p = new IvyAdditionalProperty();
     p.setKey(pName);  p.setValue(in.remoteCase.getAdditionalProperty(pName));
     in.additionalProperties.add(p);
  }
  else {
	   in.endpoint = in.remoteCase.getAdditionalProperty(pName);
	}
}' #txt
Ce0 f35 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f35 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>prepare properties</name>
        <nameStyle>18,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f35 1478 108 36 24 20 -2 #rect
Ce0 f35 @|StepIcon #fIcon
Ce0 f36 expr out #txt
Ce0 f36 1496 61 1496 108 #arcP
Ce0 f40 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f40 actionTable 'out=in;
' #txt
Ce0 f40 actionCode 'import ch.ivy.addon.portalkit.service.PortalConnectorDetector;
import ch.ivy.addon.portalkit.enums.WebServiceEndPoint;

PortalConnectorDetector detector = new PortalConnectorDetector();
in.endpoint = detector.getPortalConnectorURLOf(in.remoteCase.server) + WebServiceEndPoint.CASE.toString();' #txt
Ce0 f40 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f40 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get actual endpoint</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f40 1270 108 36 24 20 -2 #rect
Ce0 f40 @|StepIcon #fIcon
Ce0 f41 expr out #txt
Ce0 f41 1288 61 1288 108 #arcP
Ce0 f44 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f44 actionTable 'out=in;
' #txt
Ce0 f44 actionCode 'import ch.ivy.ws.addon.IvyAdditionalProperty;

if (in.errors.isEmpty()) {
  for (IvyAdditionalProperty property : in.additionalProperties) {
	  in.remoteCase.setAdditionalProperty(property.getKey(), property.getValue());	
	}
}' #txt
Ce0 f44 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f44 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>set addtional properties
 to case</name>
        <nameStyle>33,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f44 1270 236 36 24 20 -2 #rect
Ce0 f44 @|StepIcon #fIcon
Ce0 f9 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f9 processCall ServiceIntegrators/CaseServiceIntegrator:findByFilter(String,ch.ivy.addon.portalkit.persistence.domain.Server,List<String>,String) #txt
Ce0 f9 doCall true #txt
Ce0 f9 requestActionDecl '<java.lang.String endpoint,ch.ivy.addon.portalkit.persistence.domain.Server server,List<java.lang.String> applicationNames,java.lang.String userName> param;
' #txt
Ce0 f9 requestMappingAction 'param.endpoint=in.endpoint;
param.server=in.server;
param.applicationNames=in.apps;
param.userName=in.username;
' #txt
Ce0 f9 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f9 responseMappingAction 'out=in;
out.ivyCases=result.cases;
out.tempErrors=result.errors;
' #txt
Ce0 f9 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>findByFilter
(String,Server,
List&lt;String&gt;,String)</name>
        <nameStyle>49,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f9 430 444 36 24 20 -2 #rect
Ce0 f9 @|CallSubIcon #fIcon
Ce0 f19 expr out #txt
Ce0 f19 448 420 448 444 #arcP
Ce0 f19 0 0.4643737380072319 0 0 #arcLabel
Ce0 f11 expr out #txt
Ce0 f11 448 468 448 508 #arcP
Ce0 f10 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f10 processCall ServiceIntegrators/CaseServiceIntegrator:getAdditionalProperties(String,Long,ch.ivy.addon.portalkit.persistence.domain.Server) #txt
Ce0 f10 doCall true #txt
Ce0 f10 requestActionDecl '<java.lang.String endpoint,java.lang.Long caseId,ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
Ce0 f10 requestMappingAction 'param.endpoint=in.endpoint;
param.caseId=in.remoteCase.getId();
param.server=in.server;
' #txt
Ce0 f10 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f10 responseMappingAction 'out=in;
out.additionalProperties=result.additionalProperties;
out.errors=result.errors;
' #txt
Ce0 f10 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>CaseServiceIntegrator</name>
        <nameStyle>21,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f10 1270 172 36 24 20 -2 #rect
Ce0 f10 @|CallSubIcon #fIcon
Ce0 f20 expr out #txt
Ce0 f20 1288 196 1288 236 #arcP
Ce0 f28 expr out #txt
Ce0 f28 1288 132 1288 172 #arcP
Ce0 f25 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f25 processCall ServiceIntegrators/CaseServiceIntegrator:setAdditionalProperties(String,Long,ch.ivy.addon.portalkit.persistence.domain.Server,List<ch.ivy.ws.addon.IvyAdditionalProperty>) #txt
Ce0 f25 doCall true #txt
Ce0 f25 requestActionDecl '<java.lang.String endpoint,java.lang.Long caseId,ch.ivy.addon.portalkit.persistence.domain.Server server,List<ch.ivy.ws.addon.IvyAdditionalProperty> additionalProperties> param;
' #txt
Ce0 f25 requestMappingAction 'param.endpoint=in.endpoint;
param.caseId=in.remoteCase.getId();
param.server=in.server;
param.additionalProperties=in.additionalProperties;
' #txt
Ce0 f25 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f25 responseMappingAction 'out=in;
out.errors=result.errors;
' #txt
Ce0 f25 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>CaseServiceIntegrator</name>
        <nameStyle>21,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f25 1478 188 36 24 20 -2 #rect
Ce0 f25 @|CallSubIcon #fIcon
Ce0 f26 expr out #txt
Ce0 f26 1496 132 1496 188 #arcP
Ce0 f74 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f74 actionTable 'out=in;
' #txt
Ce0 f74 actionCode 'import ch.ivy.addon.portalkit.service.ServerService;

ServerService serverService = new ServerService();
in.listIterator = serverService.findActiveServers().listIterator();' #txt
Ce0 f74 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f74 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get all servers</name>
        <nameStyle>15,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f74 430 100 36 24 20 -2 #rect
Ce0 f74 @|StepIcon #fIcon
Ce0 f23 expr out #txt
Ce0 f23 448 69 448 100 #arcP
Ce0 f29 expr out #txt
Ce0 f29 448 124 448 154 #arcP
Ce0 f77 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f77 processCall MultiPortal/IsAliveService:getApplicationList(ch.ivy.addon.portalkit.persistence.domain.Server) #txt
Ce0 f77 doCall true #txt
Ce0 f77 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
Ce0 f77 requestMappingAction 'param.server=in.server;
' #txt
Ce0 f77 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f77 responseMappingAction 'out=in;
out.applications=result.apps;
out.isServerAlive=result.isServerAlive;
out.tempErrors=result.errors;
' #txt
Ce0 f77 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>IsAliveService</name>
        <nameStyle>14,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f77 430 284 36 24 20 -2 #rect
Ce0 f77 @|CallSubIcon #fIcon
Ce0 f79 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f79 actionTable 'out=in;
' #txt
Ce0 f79 actionCode 'import ch.ivy.addon.portalkit.persistence.domain.Server;

in.server = in.listIterator.next() as Server;' #txt
Ce0 f79 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f79 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get server</name>
        <nameStyle>10,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f79 430 220 36 24 20 -2 #rect
Ce0 f79 @|StepIcon #fIcon
Ce0 f82 expr out #txt
Ce0 f82 448 244 448 284 #arcP
Ce0 f2 expr in #txt
Ce0 f2 outCond in.listIterator.hasNext() #txt
Ce0 f2 448 182 448 220 #arcP
Ce0 f18 expr out #txt
Ce0 f18 448 308 448 346 #arcP
Ce0 f3 inParamDecl '<ch.ivy.addon.portalkit.persistence.domain.Server server,java.lang.Long caseId> param;' #txt
Ce0 f3 inParamTable 'out.caseId=param.caseId;
out.server=param.server;
' #txt
Ce0 f3 outParamDecl '<List<ch.ivy.ws.addon.WsException> errors,List<ch.ivy.ws.addon.IvyDocument> documents> result;
' #txt
Ce0 f3 outParamTable 'result.errors=in.errors;
result.documents=in.documents;
' #txt
Ce0 f3 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f3 callSignature findDocuments(ch.ivy.addon.portalkit.persistence.domain.Server,Long) #txt
Ce0 f3 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f3 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>findDocuments
(Server,Long)</name>
        <nameStyle>27,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f3 1715 43 26 26 14 0 #rect
Ce0 f3 @|StartSubIcon #fIcon
Ce0 f37 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f37 processCall ServiceIntegrators/CaseServiceIntegrator:findDocuments(String,Long,ch.ivy.addon.portalkit.persistence.domain.Server) #txt
Ce0 f37 doCall true #txt
Ce0 f37 requestActionDecl '<java.lang.String endpoint,java.lang.Long caseId,ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
Ce0 f37 requestMappingAction 'param.endpoint=in.endpoint;
param.caseId=in.caseId;
param.server=in.server;
' #txt
Ce0 f37 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f37 responseMappingAction 'out=in;
out.documents=result.documents;
out.errors=result.errors;
' #txt
Ce0 f37 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>CaseServiceIntegrator</name>
        <nameStyle>21,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f37 1710 300 36 24 20 -2 #rect
Ce0 f37 @|CallSubIcon #fIcon
Ce0 f6 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f6 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>server alive</name>
        <nameStyle>12,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f6 1714 170 28 28 8 -27 #rect
Ce0 f6 @|AlternativeIcon #fIcon
Ce0 f15 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f15 actionTable 'out=in;
' #txt
Ce0 f15 actionCode 'import ch.ivy.addon.portalkit.service.PortalConnectorDetector;
import ch.ivy.addon.portalkit.enums.WebServiceEndPoint;

PortalConnectorDetector detector = new PortalConnectorDetector();
in.endpoint = detector.getPortalConnectorURLOf(in.server) + WebServiceEndPoint.CASE.toString();' #txt
Ce0 f15 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f15 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get actual endpoint</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f15 1710 236 36 24 20 -2 #rect
Ce0 f15 @|StepIcon #fIcon
Ce0 f39 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f39 processCall MultiPortal/IsAliveService:getApplicationList(ch.ivy.addon.portalkit.persistence.domain.Server) #txt
Ce0 f39 doCall true #txt
Ce0 f39 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
Ce0 f39 requestMappingAction 'param.server=in.server;
' #txt
Ce0 f39 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f39 responseMappingAction 'out=in;
out.applications=result.apps;
out.errors=result.errors;
out.isServerAlive=result.isServerAlive;
' #txt
Ce0 f39 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>IsAliveService</name>
        <nameStyle>14,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f39 1710 108 36 24 20 -2 #rect
Ce0 f39 @|CallSubIcon #fIcon
Ce0 f42 expr in #txt
Ce0 f42 outCond in.isServerAlive #txt
Ce0 f42 1728 198 1728 236 #arcP
Ce0 f43 expr out #txt
Ce0 f43 1728 132 1728 170 #arcP
Ce0 f45 expr out #txt
Ce0 f45 1728 69 1728 108 #arcP
Ce0 f38 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f38 actionTable 'out=in;
' #txt
Ce0 f38 actionCode 'import ch.ivy.ws.addon.WsException;

for(WsException error : in.errors){
	error.server = in.server.name;
}' #txt
Ce0 f38 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f38 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>utils</name>
        <nameStyle>5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f38 1710 364 36 24 20 -2 #rect
Ce0 f38 @|StepIcon #fIcon
Ce0 f46 expr out #txt
Ce0 f46 1728 324 1728 364 #arcP
Ce0 f47 expr out #txt
Ce0 f47 1728 260 1728 300 #arcP
Ce0 f49 expr in #txt
Ce0 f49 1742 184 1746 376 #arcP
Ce0 f49 1 1870 184 #addKink
Ce0 f49 2 1870 376 #addKink
Ce0 f49 1 0.501953125 0 0 #arcLabel
Ce0 f48 inParamDecl '<java.lang.String documentName,javax.activation.DataHandler documentContent,ch.ivy.addon.portalkit.persistence.domain.Server server,java.lang.Long caseId> param;' #txt
Ce0 f48 inParamTable 'out.caseId=param.caseId;
out.documentContent=param.documentContent;
out.documentName=param.documentName;
out.server=param.server;
' #txt
Ce0 f48 outParamDecl '<ch.ivy.ws.addon.IvyDocument document,List<ch.ivy.ws.addon.WsException> errors> result;
' #txt
Ce0 f48 outParamTable 'result.document=in.document;
result.errors=in.errors;
' #txt
Ce0 f48 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f48 callSignature uploadDocument(String,javax.activation.DataHandler,ch.ivy.addon.portalkit.persistence.domain.Server,Long) #txt
Ce0 f48 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f48 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>uploadDocument
(String,DataHandler,Server,Long)</name>
        <nameStyle>47,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f48 1923 43 26 26 14 0 #rect
Ce0 f48 @|StartSubIcon #fIcon
Ce0 f50 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f50 processCall ServiceIntegrators/CaseServiceIntegrator:uploadDocument(String,javax.activation.DataHandler,String,Long,ch.ivy.addon.portalkit.persistence.domain.Server) #txt
Ce0 f50 doCall true #txt
Ce0 f50 requestActionDecl '<java.lang.String documentName,javax.activation.DataHandler documentContent,java.lang.String endpoint,java.lang.Long caseId,ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
Ce0 f50 requestMappingAction 'param.documentName=in.documentName;
param.documentContent=in.documentContent;
param.endpoint=in.endpoint;
param.caseId=in.caseId;
param.server=in.server;
' #txt
Ce0 f50 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f50 responseMappingAction 'out=in;
out.document=result.document;
out.errors=result.errors;
' #txt
Ce0 f50 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>CaseServiceIntegrator</name>
        <nameStyle>21,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f50 1918 300 36 24 20 -2 #rect
Ce0 f50 @|CallSubIcon #fIcon
Ce0 f51 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f51 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>server alive</name>
        <nameStyle>12,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f51 1922 170 28 28 8 -27 #rect
Ce0 f51 @|AlternativeIcon #fIcon
Ce0 f53 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f53 actionTable 'out=in;
' #txt
Ce0 f53 actionCode 'import ch.ivy.ws.addon.WsException;

for(WsException error : in.errors){
	error.server = in.server.name;
}' #txt
Ce0 f53 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f53 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>utils</name>
        <nameStyle>5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f53 1918 364 36 24 20 -2 #rect
Ce0 f53 @|StepIcon #fIcon
Ce0 f54 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f54 actionTable 'out=in;
' #txt
Ce0 f54 actionCode 'import ch.ivy.addon.portalkit.service.PortalConnectorDetector;
import ch.ivy.addon.portalkit.enums.WebServiceEndPoint;

PortalConnectorDetector detector = new PortalConnectorDetector();
in.endpoint = detector.getPortalConnectorURLOf(in.server) + WebServiceEndPoint.CASE.toString();' #txt
Ce0 f54 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f54 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get actual endpoint</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f54 1918 236 36 24 20 -2 #rect
Ce0 f54 @|StepIcon #fIcon
Ce0 f55 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f55 processCall MultiPortal/IsAliveService:getApplicationList(ch.ivy.addon.portalkit.persistence.domain.Server) #txt
Ce0 f55 doCall true #txt
Ce0 f55 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
Ce0 f55 requestMappingAction 'param.server=in.server;
' #txt
Ce0 f55 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f55 responseMappingAction 'out=in;
out.applications=result.apps;
out.errors=result.errors;
out.isServerAlive=result.isServerAlive;
' #txt
Ce0 f55 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>IsAliveService</name>
        <nameStyle>14,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f55 1918 108 36 24 20 -2 #rect
Ce0 f55 @|CallSubIcon #fIcon
Ce0 f56 expr in #txt
Ce0 f56 outCond in.isServerAlive #txt
Ce0 f56 1936 198 1936 236 #arcP
Ce0 f57 expr out #txt
Ce0 f57 1936 132 1936 170 #arcP
Ce0 f58 expr out #txt
Ce0 f58 1936 69 1936 108 #arcP
Ce0 f59 expr out #txt
Ce0 f59 1936 324 1936 364 #arcP
Ce0 f61 expr out #txt
Ce0 f61 1936 260 1936 300 #arcP
Ce0 f62 expr in #txt
Ce0 f62 1950 184 1954 376 #arcP
Ce0 f62 1 2087 184 #addKink
Ce0 f62 2 2087 376 #addKink
Ce0 f62 1 0.501953125 0 0 #arcLabel
Ce0 f63 inParamDecl '<ch.ivy.addon.portalkit.persistence.domain.Server server,java.lang.Long documentId,java.lang.Long caseId> param;' #txt
Ce0 f63 inParamTable 'out.caseId=param.caseId;
out.documentId=param.documentId;
out.server=param.server;
' #txt
Ce0 f63 outParamDecl '<javax.activation.DataHandler documentContent,List<ch.ivy.ws.addon.WsException> errors> result;
' #txt
Ce0 f63 outParamTable 'result.documentContent=in.documentContent;
result.errors=in.errors;
' #txt
Ce0 f63 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f63 callSignature downloadDocument(ch.ivy.addon.portalkit.persistence.domain.Server,Long,Long) #txt
Ce0 f63 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f63 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>downloadDocument
(Server,Long,Long)</name>
        <nameStyle>35,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f63 2163 43 26 26 14 0 #rect
Ce0 f63 @|StartSubIcon #fIcon
Ce0 f64 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f64 actionTable 'out=in;
' #txt
Ce0 f64 actionCode 'import ch.ivy.addon.portalkit.service.PortalConnectorDetector;
import ch.ivy.addon.portalkit.enums.WebServiceEndPoint;

PortalConnectorDetector detector = new PortalConnectorDetector();
in.endpoint = detector.getPortalConnectorURLOf(in.server) + WebServiceEndPoint.CASE.toString();' #txt
Ce0 f64 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f64 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get actual endpoint</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f64 2158 236 36 24 20 -2 #rect
Ce0 f64 @|StepIcon #fIcon
Ce0 f66 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f66 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>server alive</name>
        <nameStyle>12,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f66 2162 170 28 28 8 -27 #rect
Ce0 f66 @|AlternativeIcon #fIcon
Ce0 f67 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f67 actionTable 'out=in;
' #txt
Ce0 f67 actionCode 'import ch.ivy.ws.addon.WsException;

for(WsException error : in.errors){
	error.server = in.server.name;
}' #txt
Ce0 f67 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f67 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>utils</name>
        <nameStyle>5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f67 2158 364 36 24 20 -2 #rect
Ce0 f67 @|StepIcon #fIcon
Ce0 f68 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f68 processCall ServiceIntegrators/CaseServiceIntegrator:downloadDocument(String,Long,Long,ch.ivy.addon.portalkit.persistence.domain.Server) #txt
Ce0 f68 doCall true #txt
Ce0 f68 requestActionDecl '<java.lang.String endpoint,java.lang.Long documentId,java.lang.Long caseId,ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
Ce0 f68 requestMappingAction 'param.endpoint=in.endpoint;
param.documentId=in.documentId;
param.caseId=in.caseId;
param.server=in.server;
' #txt
Ce0 f68 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f68 responseMappingAction 'out=in;
out.documentContent=result.documentContent;
out.errors=result.errors;
' #txt
Ce0 f68 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>CaseServiceIntegrator</name>
        <nameStyle>21,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f68 2158 300 36 24 20 -2 #rect
Ce0 f68 @|CallSubIcon #fIcon
Ce0 f69 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f69 processCall MultiPortal/IsAliveService:getApplicationList(ch.ivy.addon.portalkit.persistence.domain.Server) #txt
Ce0 f69 doCall true #txt
Ce0 f69 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
Ce0 f69 requestMappingAction 'param.server=in.server;
' #txt
Ce0 f69 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f69 responseMappingAction 'out=in;
out.applications=result.apps;
out.errors=result.errors;
out.isServerAlive=result.isServerAlive;
' #txt
Ce0 f69 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>IsAliveService</name>
        <nameStyle>14,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f69 2158 108 36 24 20 -2 #rect
Ce0 f69 @|CallSubIcon #fIcon
Ce0 f70 expr in #txt
Ce0 f70 outCond in.isServerAlive #txt
Ce0 f70 2176 198 2176 236 #arcP
Ce0 f71 expr out #txt
Ce0 f71 2176 132 2176 170 #arcP
Ce0 f72 expr out #txt
Ce0 f72 2176 69 2176 108 #arcP
Ce0 f73 expr out #txt
Ce0 f73 2176 324 2176 364 #arcP
Ce0 f76 expr out #txt
Ce0 f76 2176 260 2176 300 #arcP
Ce0 f78 expr in #txt
Ce0 f78 2190 184 2194 376 #arcP
Ce0 f78 1 2318 184 #addKink
Ce0 f78 2 2318 376 #addKink
Ce0 f78 1 0.501953125 0 0 #arcLabel
Ce0 f148 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f148 1482 554 28 28 14 0 #rect
Ce0 f148 @|AlternativeIcon #fIcon
Ce0 f80 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f80 1483 643 26 26 14 0 #rect
Ce0 f80 @|EndSubIcon #fIcon
Ce0 f144 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f144 processCall 'Functional Processes/ErrorHandler:handle(List<ch.ivy.ws.addon.WsException>)' #txt
Ce0 f144 doCall true #txt
Ce0 f144 requestActionDecl '<java.util.List<ch.ivy.ws.addon.WsException> exceptions> param;
' #txt
Ce0 f144 requestMappingAction 'param.exceptions=in.errors;
' #txt
Ce0 f144 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f144 responseMappingAction 'out=in;
' #txt
Ce0 f144 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>handle errors if any</name>
        <nameStyle>20,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f144 1478 596 36 24 20 -2 #rect
Ce0 f144 @|CallSubIcon #fIcon
Ce0 f81 expr out #txt
Ce0 f81 1496 620 1496 643 #arcP
Ce0 f107 expr in #txt
Ce0 f107 1496 582 1496 596 #arcP
Ce0 f83 expr in #txt
Ce0 f83 462 168 1482 568 #arcP
Ce0 f83 1 736 168 #addKink
Ce0 f83 2 736 568 #addKink
Ce0 f83 1 0.4697017091790999 0 0 #arcLabel
Ce0 f16 expr out #txt
Ce0 f16 1288 260 1485 565 #arcP
Ce0 f16 1 1288 512 #addKink
Ce0 f16 1 0.5175178126055271 0 0 #arcLabel
Ce0 f31 expr out #txt
Ce0 f31 1496 212 1496 554 #arcP
Ce0 f31 0 0.788046227337837 0 0 #arcLabel
Ce0 f27 expr out #txt
Ce0 f27 1728 388 1507 565 #arcP
Ce0 f27 1 1728 512 #addKink
Ce0 f27 1 0.3899443733485098 0 0 #arcLabel
Ce0 f1 expr out #txt
Ce0 f1 1936 388 1509 567 #arcP
Ce0 f1 1 1936 520 #addKink
Ce0 f1 1 0.35114049847714135 0 0 #arcLabel
Ce0 f5 inParamDecl '<ch.ivy.addon.portalkit.bo.RemoteCase remoteCase> param;' #txt
Ce0 f5 inParamTable 'out.remoteCase=param.remoteCase;
' #txt
Ce0 f5 outParamDecl '<List<ch.ivy.ws.addon.WsException> errors> result;
' #txt
Ce0 f5 outParamTable 'result.errors=in.errors;
' #txt
Ce0 f5 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f5 callSignature destroyCase(ch.ivy.addon.portalkit.bo.RemoteCase) #txt
Ce0 f5 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f5 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>destroyCase(RemoteCase)</name>
        <nameStyle>23,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f5 2763 43 26 26 14 0 #rect
Ce0 f5 @|StartSubIcon #fIcon
Ce0 f52 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f52 processCall ServiceIntegrators/CaseServiceIntegrator:destroyCase(ch.ivy.addon.portalkit.persistence.domain.Server,String,Long) #txt
Ce0 f52 doCall true #txt
Ce0 f52 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.Server sever,java.lang.String endpoint,java.lang.Long caseId> param;
' #txt
Ce0 f52 requestMappingAction 'param.sever=in.server;
param.endpoint=in.endpoint;
param.caseId=in.remoteCase.getId();
' #txt
Ce0 f52 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f52 responseMappingAction 'out=in;
out.errors=result.errors;
' #txt
Ce0 f52 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>CaseServiceIntegrator</name>
        <nameStyle>21,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f52 2758 156 36 24 20 -2 #rect
Ce0 f52 @|CallSubIcon #fIcon
Ce0 f34 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f34 actionTable 'out=in;
' #txt
Ce0 f34 actionCode 'import ch.ivy.addon.portalkit.service.PortalConnectorDetector;
import ch.ivy.addon.portalkit.enums.WebServiceEndPoint;

PortalConnectorDetector detector = new PortalConnectorDetector();
in.endpoint = detector.getPortalConnectorURLOf(in.remoteCase.server) + WebServiceEndPoint.CASE.toString();' #txt
Ce0 f34 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f34 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get actual endpoint</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f34 2758 108 36 24 19 -2 #rect
Ce0 f34 @|StepIcon #fIcon
Ce0 f88 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f88 actionTable 'out=in;
' #txt
Ce0 f88 actionCode 'import ch.ivy.ws.addon.WsException;

for(WsException error : in.errors){
	error.server = in.server.name;
}' #txt
Ce0 f88 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f88 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>utils</name>
        <nameStyle>5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f88 2758 236 36 24 20 -2 #rect
Ce0 f88 @|StepIcon #fIcon
Ce0 f87 expr out #txt
Ce0 f87 2776 132 2776 156 #arcP
Ce0 f30 expr out #txt
Ce0 f30 2776 260 1510 568 #arcP
Ce0 f30 1 2776 568 #addKink
Ce0 f30 1 0.4305774399179245 0 0 #arcLabel
Ce0 f60 expr out #txt
Ce0 f60 2776 69 2776 108 #arcP
Ce0 f65 expr out #txt
Ce0 f65 2776 180 2776 236 #arcP
Ce0 f75 inParamDecl '<ch.ivy.ws.addon.CaseSearchCriteria caseSearchCriteria> param;' #txt
Ce0 f75 inParamTable 'out.caseSearchCriteria=param.caseSearchCriteria;
' #txt
Ce0 f75 outParamDecl '<List<ch.ivy.ws.addon.WsException> errors,List<ch.ivy.addon.portalkit.bo.RemoteCase> cases> result;
' #txt
Ce0 f75 outParamTable 'result.errors=in.errors;
result.cases=in.cases;
' #txt
Ce0 f75 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f75 callSignature findCasesByCriteria(ch.ivy.ws.addon.CaseSearchCriteria) #txt
Ce0 f75 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f75 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>findCasesByCriteria(CaseSearchCriteria)</name>
        <nameStyle>39,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f75 147 43 26 26 14 0 #rect
Ce0 f75 @|StartSubIcon #fIcon
Ce0 f84 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f84 processCall MultiPortal/IsAliveService:getApplicationList(ch.ivy.addon.portalkit.persistence.domain.Server) #txt
Ce0 f84 doCall true #txt
Ce0 f84 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
Ce0 f84 requestMappingAction 'param.server=in.server;
' #txt
Ce0 f84 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f84 responseMappingAction 'out=in;
out.applications=result.apps;
out.isServerAlive=result.isServerAlive;
out.tempErrors=result.errors;
' #txt
Ce0 f84 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>IsAliveService</name>
        <nameStyle>14,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f84 142 284 36 24 20 -2 #rect
Ce0 f84 @|CallSubIcon #fIcon
Ce0 f85 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f85 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>next server</name>
        <nameStyle>11,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f85 146 154 28 28 22 -21 #rect
Ce0 f85 @|AlternativeIcon #fIcon
Ce0 f86 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f86 actionTable 'out=in;
' #txt
Ce0 f86 actionCode 'import ch.ivy.ws.addon.WsException;
for(int i = 0 ; i < in.tempErrors.size() ; i++){
	WsException w = in.tempErrors.get(i) as WsException;
	w.server = in.server.name;
	in.tempErrors.set(i,w);
	}
in.errors.addAll(in.tempErrors);

in.apps.clear();' #txt
Ce0 f86 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f86 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>utils</name>
        <nameStyle>5,7
</nameStyle>
        <desc>add server name for exceptions

clear apps list</desc>
    </language>
</elementInfo>
' #txt
Ce0 f86 262 220 36 24 20 -2 #rect
Ce0 f86 @|StepIcon #fIcon
Ce0 f89 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f89 actionTable 'out=in;
' #txt
Ce0 f89 actionCode 'import ch.ivy.addon.portalkit.persistence.domain.Server;

in.server = in.listIterator.next() as Server;' #txt
Ce0 f89 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f89 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get server</name>
        <nameStyle>10,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f89 142 220 36 24 20 -2 #rect
Ce0 f89 @|StepIcon #fIcon
Ce0 f90 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f90 actionTable 'out=in;
' #txt
Ce0 f90 actionCode 'import ch.ivy.addon.portalkit.service.ServerService;

ServerService serverService = new ServerService();
in.listIterator = serverService.findActiveServers().listIterator();' #txt
Ce0 f90 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f90 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get all servers</name>
        <nameStyle>15,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f90 142 100 36 24 20 -2 #rect
Ce0 f90 @|StepIcon #fIcon
Ce0 f91 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f91 actionTable 'out=in;
' #txt
Ce0 f91 actionCode 'import ch.ivy.addon.portalkit.service.PortalConnectorDetector;
import ch.ivy.addon.portalkit.enums.WebServiceEndPoint;
import ch.ivy.ws.addon.IvyApplication;

for (IvyApplication app : in.applications) {
	in.apps.add(app.name);
}

PortalConnectorDetector detector = new PortalConnectorDetector();
in.endpoint = detector.getPortalConnectorURLOf(in.server) + WebServiceEndPoint.CASE.toString();' #txt
Ce0 f91 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f91 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get Allive Apps
ws endpoint</name>
        <nameStyle>27,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f91 142 396 36 24 21 -18 #rect
Ce0 f91 @|StepIcon #fIcon
Ce0 f92 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f92 actionTable 'out=in;
' #txt
Ce0 f92 actionCode 'import ch.ivy.addon.portalkit.mapper.RemoteCaseMapper;

in.cases.clear();
if (in.tempErrors.size() == 0) {
	in.cases = RemoteCaseMapper.mapCases(in.ivyCases, in.server);
}

' #txt
Ce0 f92 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f92 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>add cases</name>
        <nameStyle>9,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f92 142 508 36 24 20 -2 #rect
Ce0 f92 @|StepIcon #fIcon
Ce0 f94 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f94 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>server alive</name>
        <nameStyle>12,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f94 146 346 28 28 11 -29 #rect
Ce0 f94 @|AlternativeIcon #fIcon
Ce0 f95 expr in #txt
Ce0 f95 outCond in.isServerAlive #txt
Ce0 f95 160 374 160 396 #arcP
Ce0 f96 expr out #txt
Ce0 f96 178 520 280 244 #arcP
Ce0 f96 1 280 520 #addKink
Ce0 f96 1 0.2616721854748305 0 0 #arcLabel
Ce0 f97 expr in #txt
Ce0 f97 174 360 280 244 #arcP
Ce0 f97 1 280 360 #addKink
Ce0 f97 1 0.5115178601655154 0 0 #arcLabel
Ce0 f98 expr out #txt
Ce0 f98 280 220 174 168 #arcP
Ce0 f98 1 280 168 #addKink
Ce0 f98 1 0.31135433052386374 0 0 #arcLabel
Ce0 f101 expr out #txt
Ce0 f101 160 124 160 154 #arcP
Ce0 f102 expr out #txt
Ce0 f102 160 244 160 284 #arcP
Ce0 f103 expr in #txt
Ce0 f103 outCond in.listIterator.hasNext() #txt
Ce0 f103 160 182 160 220 #arcP
Ce0 f104 expr out #txt
Ce0 f104 160 308 160 346 #arcP
Ce0 f105 expr out #txt
Ce0 f105 160 69 160 100 #arcP
Ce0 f106 expr in #txt
Ce0 f106 146 168 1482 568 #arcP
Ce0 f106 1 64 168 #addKink
Ce0 f106 2 64 568 #addKink
Ce0 f106 2 0.3004010224905991 0 0 #arcLabel
Ce0 f93 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f93 processCall ServiceIntegrators/CaseServiceIntegrator:findCasesByCriteria(String,ch.ivy.addon.portalkit.persistence.domain.Server,ch.ivy.ws.addon.CaseSearchCriteria) #txt
Ce0 f93 doCall true #txt
Ce0 f93 requestActionDecl '<java.lang.String endpoint,ch.ivy.addon.portalkit.persistence.domain.Server server,ch.ivy.ws.addon.CaseSearchCriteria caseSearchCriteria> param;
' #txt
Ce0 f93 requestMappingAction 'param.endpoint=in.endpoint;
param.server=in.server;
param.caseSearchCriteria=in.caseSearchCriteria;
param.caseSearchCriteria.involvedApplications=in.apps;
' #txt
Ce0 f93 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f93 responseMappingAction 'out=in;
out.ivyCases=result.cases;
out.tempErrors=result.errors;
' #txt
Ce0 f93 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>CaseServiceIntegrator</name>
        <nameStyle>21,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f93 142 452 36 24 20 -2 #rect
Ce0 f93 @|CallSubIcon #fIcon
Ce0 f100 expr out #txt
Ce0 f100 160 420 160 452 #arcP
Ce0 f100 0 0.4643737380072319 0 0 #arcLabel
Ce0 f109 expr out #txt
Ce0 f109 160 476 160 508 #arcP
Ce0 f99 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f99 processCall ServiceIntegrators/CaseServiceIntegrator:removeDocument(String,Long,Long,ch.ivy.addon.portalkit.persistence.domain.Server) #txt
Ce0 f99 doCall true #txt
Ce0 f99 requestActionDecl '<java.lang.String endpoint,java.lang.Long documentId,java.lang.Long caseId,ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
Ce0 f99 requestMappingAction 'param.endpoint=in.endpoint;
param.documentId=in.documentId;
param.caseId=in.caseId;
param.server=in.server;
' #txt
Ce0 f99 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f99 responseMappingAction 'out=in;
out.errors=result.errors;
' #txt
Ce0 f99 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>CaseServiceIntegrator</name>
        <nameStyle>21,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f99 2406 300 36 24 20 -2 #rect
Ce0 f99 @|CallSubIcon #fIcon
Ce0 f108 inParamDecl '<ch.ivy.addon.portalkit.persistence.domain.Server server,java.lang.Long documentId,java.lang.Long caseId> param;' #txt
Ce0 f108 inParamTable 'out.caseId=param.caseId;
out.documentId=param.documentId;
out.server=param.server;
' #txt
Ce0 f108 outParamDecl '<List<ch.ivy.ws.addon.WsException> errors> result;
' #txt
Ce0 f108 outParamTable 'result.errors=in.errors;
' #txt
Ce0 f108 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f108 callSignature deleteDocument(ch.ivy.addon.portalkit.persistence.domain.Server,Long,Long) #txt
Ce0 f108 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f108 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>deleteDocument(Server,Long,Long)</name>
    </language>
</elementInfo>
' #txt
Ce0 f108 2411 43 26 26 14 0 #rect
Ce0 f108 @|StartSubIcon #fIcon
Ce0 f110 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f110 actionTable 'out=in;
' #txt
Ce0 f110 actionCode 'import ch.ivy.ws.addon.WsException;

for(WsException error : in.errors){
	error.server = in.server.name;
}' #txt
Ce0 f110 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f110 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>utils</name>
        <nameStyle>5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f110 2406 364 36 24 20 -2 #rect
Ce0 f110 @|StepIcon #fIcon
Ce0 f111 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f111 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>server alive</name>
        <nameStyle>12,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f111 2410 170 28 28 8 -27 #rect
Ce0 f111 @|AlternativeIcon #fIcon
Ce0 f112 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f112 actionTable 'out=in;
' #txt
Ce0 f112 actionCode 'import ch.ivy.addon.portalkit.service.PortalConnectorDetector;
import ch.ivy.addon.portalkit.enums.WebServiceEndPoint;

PortalConnectorDetector detector = new PortalConnectorDetector();
in.endpoint = detector.getPortalConnectorURLOf(in.server) + WebServiceEndPoint.CASE.toString();' #txt
Ce0 f112 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f112 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get actual endpoint</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f112 2406 236 36 24 20 -2 #rect
Ce0 f112 @|StepIcon #fIcon
Ce0 f113 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f113 processCall MultiPortal/IsAliveService:getApplicationList(ch.ivy.addon.portalkit.persistence.domain.Server) #txt
Ce0 f113 doCall true #txt
Ce0 f113 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
Ce0 f113 requestMappingAction 'param.server=in.server;
' #txt
Ce0 f113 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f113 responseMappingAction 'out=in;
out.applications=result.apps;
out.errors=result.errors;
out.isServerAlive=result.isServerAlive;
' #txt
Ce0 f113 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>IsAliveService</name>
        <nameStyle>14,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f113 2406 108 36 24 20 -2 #rect
Ce0 f113 @|CallSubIcon #fIcon
Ce0 f114 expr in #txt
Ce0 f114 outCond in.isServerAlive #txt
Ce0 f114 2424 198 2424 236 #arcP
Ce0 f115 expr out #txt
Ce0 f115 2424 132 2424 170 #arcP
Ce0 f116 expr out #txt
Ce0 f116 2424 69 2424 108 #arcP
Ce0 f117 expr out #txt
Ce0 f117 2424 324 2424 364 #arcP
Ce0 f118 expr out #txt
Ce0 f118 2424 260 2424 300 #arcP
Ce0 f119 expr in #txt
Ce0 f119 2438 184 2442 376 #arcP
Ce0 f119 1 2615 184 #addKink
Ce0 f119 2 2615 376 #addKink
Ce0 f119 1 0.501953125 0 0 #arcLabel
Ce0 f32 expr out #txt
Ce0 f32 2176 388 1509 567 #arcP
Ce0 f32 1 2176 536 #addKink
Ce0 f32 1 0.37977708879558797 0 0 #arcLabel
Ce0 f120 expr out #txt
Ce0 f120 2424 388 1510 568 #arcP
Ce0 f120 1 2424 544 #addKink
Ce0 f120 1 0.4121381559080655 0 0 #arcLabel
Ce0 f143 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f143 processCall MultiPortal/IsAliveService:getApplicationList(ch.ivy.addon.portalkit.persistence.domain.Server) #txt
Ce0 f143 doCall true #txt
Ce0 f143 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
Ce0 f143 requestMappingAction 'param.server=in.server;
' #txt
Ce0 f143 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f143 responseMappingAction 'out=in;
out.applications=result.apps;
out.isServerAlive=result.isServerAlive;
out.tempErrors=result.errors;
' #txt
Ce0 f143 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>IsAliveService</name>
        <nameStyle>14,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f143 822 276 36 24 20 -2 #rect
Ce0 f143 @|CallSubIcon #fIcon
Ce0 f145 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f145 actionTable 'out=in;
' #txt
Ce0 f145 actionCode 'import ch.ivy.ws.addon.WsException;
for(int i = 0 ; i < in.tempErrors.size() ; i++){
	WsException w = in.tempErrors.get(i) as WsException;
	w.server = in.server.name;
	in.tempErrors.set(i,w);
	}
in.errors.addAll(in.tempErrors);

in.apps.clear();' #txt
Ce0 f145 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f145 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>utils</name>
        <nameStyle>5,7
</nameStyle>
        <desc>add server name for exceptions

clear apps list</desc>
    </language>
</elementInfo>
' #txt
Ce0 f145 942 212 36 24 20 -2 #rect
Ce0 f145 @|StepIcon #fIcon
Ce0 f146 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f146 actionTable 'out=in;
' #txt
Ce0 f146 actionCode 'import ch.ivy.addon.portalkit.service.ServerService;

ServerService serverService = new ServerService();
in.listIterator = serverService.findActiveServers().listIterator();' #txt
Ce0 f146 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f146 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get all servers</name>
        <nameStyle>15,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f146 822 92 36 24 20 -2 #rect
Ce0 f146 @|StepIcon #fIcon
Ce0 f147 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f147 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>server alive</name>
        <nameStyle>12,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f147 826 338 28 28 11 -29 #rect
Ce0 f147 @|AlternativeIcon #fIcon
Ce0 f149 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f149 actionTable 'out=in;
' #txt
Ce0 f149 actionCode 'import ch.ivy.addon.portalkit.mapper.RemoteCaseMapper;

in.cases.clear();
if (in.tempErrors.size() == 0) {
	in.cases = RemoteCaseMapper.mapCases(in.ivyCases, in.server);
}

' #txt
Ce0 f149 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f149 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>add cases</name>
        <nameStyle>9,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f149 822 500 36 24 20 -2 #rect
Ce0 f149 @|StepIcon #fIcon
Ce0 f150 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f150 processCall ServiceIntegrators/CaseServiceIntegrator:findCasesWithDestroyPermissionByCriteria(ch.ivy.ws.addon.CaseSearchCriteria,String,String,ch.ivy.addon.portalkit.persistence.domain.Server) #txt
Ce0 f150 doCall true #txt
Ce0 f150 requestActionDecl '<ch.ivy.ws.addon.CaseSearchCriteria caseSearchCriteria,java.lang.String username,java.lang.String endpoint,ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
Ce0 f150 requestMappingAction 'param.caseSearchCriteria=in.caseSearchCriteria;
param.caseSearchCriteria.involvedApplications=in.apps;
param.username=in.username;
param.endpoint=in.endpoint;
param.server=in.server;
' #txt
Ce0 f150 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f150 responseMappingAction 'out=in;
out.ivyCases=result.cases;
out.tempErrors=result.errors;
' #txt
Ce0 f150 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>CaseServiceIntegrator</name>
        <nameStyle>21,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f150 822 444 36 24 20 -2 #rect
Ce0 f150 @|CallSubIcon #fIcon
Ce0 f151 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f151 actionTable 'out=in;
' #txt
Ce0 f151 actionCode 'import ch.ivy.addon.portalkit.service.PortalConnectorDetector;
import ch.ivy.addon.portalkit.enums.WebServiceEndPoint;
import ch.ivy.ws.addon.IvyApplication;

for (IvyApplication app : in.applications) {
	in.apps.add(app.name);
}

PortalConnectorDetector detector = new PortalConnectorDetector();
in.endpoint = detector.getPortalConnectorURLOf(in.server) + WebServiceEndPoint.CASE.toString();' #txt
Ce0 f151 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f151 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get Allive Apps
ws endpoint</name>
        <nameStyle>27,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f151 822 388 36 24 21 -18 #rect
Ce0 f151 @|StepIcon #fIcon
Ce0 f152 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f152 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>next server</name>
        <nameStyle>11,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f152 826 146 28 28 22 -21 #rect
Ce0 f152 @|AlternativeIcon #fIcon
Ce0 f153 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f153 actionTable 'out=in;
' #txt
Ce0 f153 actionCode 'import ch.ivy.addon.portalkit.persistence.domain.Server;

in.server = in.listIterator.next() as Server;' #txt
Ce0 f153 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f153 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get server</name>
        <nameStyle>10,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f153 822 212 36 24 20 -2 #rect
Ce0 f153 @|StepIcon #fIcon
Ce0 f155 expr in #txt
Ce0 f155 outCond in.isServerAlive #txt
Ce0 f155 840 366 840 388 #arcP
Ce0 f156 expr out #txt
Ce0 f156 858 512 960 236 #arcP
Ce0 f156 1 960 512 #addKink
Ce0 f156 1 0.2616721854748305 0 0 #arcLabel
Ce0 f157 expr in #txt
Ce0 f157 854 352 960 236 #arcP
Ce0 f157 1 960 352 #addKink
Ce0 f157 1 0.8375099121797951 0 0 #arcLabel
Ce0 f158 expr out #txt
Ce0 f158 960 212 854 160 #arcP
Ce0 f158 1 960 160 #addKink
Ce0 f158 1 0.31135433052386374 0 0 #arcLabel
Ce0 f159 expr out #txt
Ce0 f159 840 116 840 146 #arcP
Ce0 f160 expr out #txt
Ce0 f160 840 236 840 276 #arcP
Ce0 f161 expr in #txt
Ce0 f161 outCond in.listIterator.hasNext() #txt
Ce0 f161 840 174 840 212 #arcP
Ce0 f162 expr out #txt
Ce0 f162 840 300 840 338 #arcP
Ce0 f164 expr out #txt
Ce0 f164 840 412 840 444 #arcP
Ce0 f164 0 0.4643737380072319 0 0 #arcLabel
Ce0 f165 expr out #txt
Ce0 f165 840 468 840 500 #arcP
Ce0 f166 expr in #txt
Ce0 f166 854 160 1482 568 #arcP
Ce0 f166 1 1152 160 #addKink
Ce0 f166 2 1152 568 #addKink
Ce0 f166 2 0.43469876632740134 0 0 #arcLabel
Ce0 f169 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f169 processCall ServiceIntegrators/CaseServiceIntegrator:createNote(String,ch.ivy.addon.portalkit.persistence.domain.Server,Long,String,String) #txt
Ce0 f169 doCall true #txt
Ce0 f169 requestActionDecl '<java.lang.String endpoint,ch.ivy.addon.portalkit.persistence.domain.Server server,java.lang.Long caseId,java.lang.String username,java.lang.String content> param;
' #txt
Ce0 f169 requestMappingAction 'param.endpoint=in.endpoint;
param.server=in.server;
param.caseId=in.caseId;
param.username=in.username;
param.content=in.noteContent;
' #txt
Ce0 f169 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f169 responseMappingAction 'out=in;
out.errors=result.errors;
out.note=result.note;
' #txt
Ce0 f169 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>CaseServiceIntegrator</name>
        <nameStyle>21,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f169 3038 308 36 24 20 -2 #rect
Ce0 f169 @|CallSubIcon #fIcon
Ce0 f170 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f170 actionTable 'out=in;
' #txt
Ce0 f170 actionCode 'import ch.ivy.ws.addon.WsException;

for(WsException error : in.errors){
	error.server = in.server.name;
}' #txt
Ce0 f170 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f170 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>utils</name>
        <nameStyle>5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f170 3038 372 36 24 20 -2 #rect
Ce0 f170 @|StepIcon #fIcon
Ce0 f171 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f171 processCall MultiPortal/IsAliveService:getApplicationList(ch.ivy.addon.portalkit.persistence.domain.Server) #txt
Ce0 f171 doCall true #txt
Ce0 f171 requestActionDecl '<ch.ivy.addon.portalkit.persistence.domain.Server server> param;
' #txt
Ce0 f171 requestMappingAction 'param.server=in.server;
' #txt
Ce0 f171 responseActionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f171 responseMappingAction 'out=in;
out.applications=result.apps;
out.errors=result.errors;
out.isServerAlive=result.isServerAlive;
' #txt
Ce0 f171 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>IsAliveService</name>
        <nameStyle>14,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f171 3038 116 36 24 20 -2 #rect
Ce0 f171 @|CallSubIcon #fIcon
Ce0 f172 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f172 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>server alive</name>
        <nameStyle>12,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f172 3042 178 28 28 8 -27 #rect
Ce0 f172 @|AlternativeIcon #fIcon
Ce0 f173 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f173 actionTable 'out=in;
' #txt
Ce0 f173 actionCode 'import ch.ivy.addon.portalkit.service.PortalConnectorDetector;
import ch.ivy.addon.portalkit.enums.WebServiceEndPoint;

PortalConnectorDetector detector = new PortalConnectorDetector();
in.endpoint = detector.getPortalConnectorURLOf(in.server) + WebServiceEndPoint.CASE.toString();' #txt
Ce0 f173 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f173 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>get actual endpoint</name>
        <nameStyle>19,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f173 3038 244 36 24 20 -2 #rect
Ce0 f173 @|StepIcon #fIcon
Ce0 f174 inParamDecl '<ch.ivy.addon.portalkit.persistence.domain.Server server,java.lang.Long caseId,java.lang.String username,java.lang.String content> param;' #txt
Ce0 f174 inParamTable 'out.caseId=param.caseId;
out.noteContent=param.content;
out.server=param.server;
out.username=param.username;
' #txt
Ce0 f174 outParamDecl '<List<ch.ivy.ws.addon.WsException> errors,ch.ivy.ws.addon.IvyNote note> result;
' #txt
Ce0 f174 outParamTable 'result.errors=in.errors;
result.note=in.note;
' #txt
Ce0 f174 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f174 callSignature createNote(ch.ivy.addon.portalkit.persistence.domain.Server,Long,String,String) #txt
Ce0 f174 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f174 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>createNote
(server, caseId, username, content)</name>
        <nameStyle>46,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Ce0 f174 3043 51 26 26 14 0 #rect
Ce0 f174 @|StartSubIcon #fIcon
Ce0 f175 expr in #txt
Ce0 f175 outCond in.isServerAlive #txt
Ce0 f175 3056 206 3056 244 #arcP
Ce0 f176 expr out #txt
Ce0 f176 3056 140 3056 178 #arcP
Ce0 f177 expr out #txt
Ce0 f177 3056 77 3056 116 #arcP
Ce0 f178 expr out #txt
Ce0 f178 3056 332 3056 372 #arcP
Ce0 f179 expr out #txt
Ce0 f179 3056 268 3056 308 #arcP
Ce0 f180 expr in #txt
Ce0 f180 3070 192 3074 384 #arcP
Ce0 f180 1 3294 192 #addKink
Ce0 f180 2 3294 384 #addKink
Ce0 f180 1 0.501953125 0 0 #arcLabel
Ce0 f181 expr out #txt
Ce0 f181 3056 396 1510 568 #arcP
Ce0 f181 1 3056 584 #addKink
Ce0 f181 1 0.4351014082699338 0 0 #arcLabel
Ce0 f121 inParamDecl '<ch.ivy.ws.addon.CaseSearchCriteria caseSearchCriteria,java.lang.String username> param;' #txt
Ce0 f121 inParamTable 'out.caseSearchCriteria=param.caseSearchCriteria;
out.username=param.username;
' #txt
Ce0 f121 outParamDecl '<List<ch.ivy.ws.addon.WsException> errors,List<ch.ivy.addon.portalkit.bo.RemoteCase> cases> result;
' #txt
Ce0 f121 outParamTable 'result.errors=in.errors;
result.cases=in.cases;
' #txt
Ce0 f121 actionDecl 'ch.ivyteam.wf.processes.CaseServiceData out;
' #txt
Ce0 f121 callSignature findCasesWithDestroyPermissionByCriteria(ch.ivy.ws.addon.CaseSearchCriteria,String) #txt
Ce0 f121 type ch.ivyteam.wf.processes.CaseServiceData #txt
Ce0 f121 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>findCasesWithDestroyPermissionByCriteria(CaseSearchCriteria,String)</name>
    </language>
</elementInfo>
' #txt
Ce0 f121 827 43 26 26 14 0 #rect
Ce0 f121 @|StartSubIcon #fIcon
Ce0 f122 expr out #txt
Ce0 f122 840 69 840 92 #arcP
>Proto Ce0 .type ch.ivyteam.wf.processes.CaseServiceData #txt
>Proto Ce0 .processKind CALLABLE_SUB #txt
>Proto Ce0 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <swimlaneLabel>findAllCases</swimlaneLabel>
        <swimlaneLabel>addtionalProperties</swimlaneLabel>
        <swimlaneLabel>Documents</swimlaneLabel>
        <swimlaneLabel>Destroy Case</swimlaneLabel>
        <swimlaneLabel></swimlaneLabel>
    </language>
    <swimlaneSize>1248</swimlaneSize>
    <swimlaneSize>432</swimlaneSize>
    <swimlaneSize>968</swimlaneSize>
    <swimlaneSize>320</swimlaneSize>
    <swimlaneColor gradient="true">-3342388</swimlaneColor>
    <swimlaneColor gradient="true">-1</swimlaneColor>
    <swimlaneColor gradient="true">-1</swimlaneColor>
    <swimlaneColor gradient="true">-1</swimlaneColor>
    <swimlaneType>LANE</swimlaneType>
    <swimlaneType>LANE</swimlaneType>
    <swimlaneType>LANE</swimlaneType>
    <swimlaneType>LANE</swimlaneType>
    <swimlaneSpaceBefore>0</swimlaneSpaceBefore>
    <swimlaneSpaceBefore>0</swimlaneSpaceBefore>
    <swimlaneSpaceBefore>0</swimlaneSpaceBefore>
    <swimlaneSpaceBefore>0</swimlaneSpaceBefore>
</elementInfo>
' #txt
>Proto Ce0 0 0 32 24 18 0 #rect
>Proto Ce0 @|BIcon #fIcon
Ce0 f7 out f8 tail #connect
Ce0 f8 head f13 mainIn #connect
Ce0 f14 mainOut f22 tail #connect
Ce0 f22 head f21 mainIn #connect
Ce0 f7 out f12 tail #connect
Ce0 f12 head f21 mainIn #connect
Ce0 f21 mainOut f17 tail #connect
Ce0 f17 head f4 in #connect
Ce0 f33 mainOut f36 tail #connect
Ce0 f36 head f35 mainIn #connect
Ce0 f24 mainOut f41 tail #connect
Ce0 f41 head f40 mainIn #connect
Ce0 f13 mainOut f19 tail #connect
Ce0 f19 head f9 mainIn #connect
Ce0 f9 mainOut f11 tail #connect
Ce0 f11 head f14 mainIn #connect
Ce0 f10 mainOut f20 tail #connect
Ce0 f20 head f44 mainIn #connect
Ce0 f40 mainOut f28 tail #connect
Ce0 f28 head f10 mainIn #connect
Ce0 f35 mainOut f26 tail #connect
Ce0 f26 head f25 mainIn #connect
Ce0 f0 mainOut f23 tail #connect
Ce0 f23 head f74 mainIn #connect
Ce0 f74 mainOut f29 tail #connect
Ce0 f29 head f4 in #connect
Ce0 f79 mainOut f82 tail #connect
Ce0 f82 head f77 mainIn #connect
Ce0 f4 out f2 tail #connect
Ce0 f2 head f79 mainIn #connect
Ce0 f77 mainOut f18 tail #connect
Ce0 f18 head f7 in #connect
Ce0 f6 out f42 tail #connect
Ce0 f42 head f15 mainIn #connect
Ce0 f39 mainOut f43 tail #connect
Ce0 f43 head f6 in #connect
Ce0 f3 mainOut f45 tail #connect
Ce0 f45 head f39 mainIn #connect
Ce0 f37 mainOut f46 tail #connect
Ce0 f46 head f38 mainIn #connect
Ce0 f15 mainOut f47 tail #connect
Ce0 f47 head f37 mainIn #connect
Ce0 f6 out f49 tail #connect
Ce0 f49 head f38 mainIn #connect
Ce0 f51 out f56 tail #connect
Ce0 f56 head f54 mainIn #connect
Ce0 f55 mainOut f57 tail #connect
Ce0 f57 head f51 in #connect
Ce0 f48 mainOut f58 tail #connect
Ce0 f58 head f55 mainIn #connect
Ce0 f50 mainOut f59 tail #connect
Ce0 f59 head f53 mainIn #connect
Ce0 f54 mainOut f61 tail #connect
Ce0 f61 head f50 mainIn #connect
Ce0 f51 out f62 tail #connect
Ce0 f62 head f53 mainIn #connect
Ce0 f66 out f70 tail #connect
Ce0 f70 head f64 mainIn #connect
Ce0 f69 mainOut f71 tail #connect
Ce0 f71 head f66 in #connect
Ce0 f63 mainOut f72 tail #connect
Ce0 f72 head f69 mainIn #connect
Ce0 f68 mainOut f73 tail #connect
Ce0 f73 head f67 mainIn #connect
Ce0 f64 mainOut f76 tail #connect
Ce0 f76 head f68 mainIn #connect
Ce0 f66 out f78 tail #connect
Ce0 f78 head f67 mainIn #connect
Ce0 f144 mainOut f81 tail #connect
Ce0 f81 head f80 mainIn #connect
Ce0 f148 out f107 tail #connect
Ce0 f107 head f144 mainIn #connect
Ce0 f4 out f83 tail #connect
Ce0 f83 head f148 in #connect
Ce0 f44 mainOut f16 tail #connect
Ce0 f16 head f148 in #connect
Ce0 f25 mainOut f31 tail #connect
Ce0 f31 head f148 in #connect
Ce0 f38 mainOut f27 tail #connect
Ce0 f27 head f148 in #connect
Ce0 f53 mainOut f1 tail #connect
Ce0 f1 head f148 in #connect
Ce0 f34 mainOut f87 tail #connect
Ce0 f87 head f52 mainIn #connect
Ce0 f88 mainOut f30 tail #connect
Ce0 f30 head f148 in #connect
Ce0 f5 mainOut f60 tail #connect
Ce0 f60 head f34 mainIn #connect
Ce0 f52 mainOut f65 tail #connect
Ce0 f65 head f88 mainIn #connect
Ce0 f94 out f95 tail #connect
Ce0 f95 head f91 mainIn #connect
Ce0 f92 mainOut f96 tail #connect
Ce0 f96 head f86 mainIn #connect
Ce0 f94 out f97 tail #connect
Ce0 f97 head f86 mainIn #connect
Ce0 f86 mainOut f98 tail #connect
Ce0 f98 head f85 in #connect
Ce0 f90 mainOut f101 tail #connect
Ce0 f101 head f85 in #connect
Ce0 f89 mainOut f102 tail #connect
Ce0 f102 head f84 mainIn #connect
Ce0 f85 out f103 tail #connect
Ce0 f103 head f89 mainIn #connect
Ce0 f84 mainOut f104 tail #connect
Ce0 f104 head f94 in #connect
Ce0 f75 mainOut f105 tail #connect
Ce0 f105 head f90 mainIn #connect
Ce0 f85 out f106 tail #connect
Ce0 f106 head f148 in #connect
Ce0 f91 mainOut f100 tail #connect
Ce0 f100 head f93 mainIn #connect
Ce0 f93 mainOut f109 tail #connect
Ce0 f109 head f92 mainIn #connect
Ce0 f111 out f114 tail #connect
Ce0 f114 head f112 mainIn #connect
Ce0 f113 mainOut f115 tail #connect
Ce0 f115 head f111 in #connect
Ce0 f108 mainOut f116 tail #connect
Ce0 f116 head f113 mainIn #connect
Ce0 f99 mainOut f117 tail #connect
Ce0 f117 head f110 mainIn #connect
Ce0 f112 mainOut f118 tail #connect
Ce0 f118 head f99 mainIn #connect
Ce0 f111 out f119 tail #connect
Ce0 f119 head f110 mainIn #connect
Ce0 f67 mainOut f32 tail #connect
Ce0 f32 head f148 in #connect
Ce0 f110 mainOut f120 tail #connect
Ce0 f120 head f148 in #connect
Ce0 f147 out f155 tail #connect
Ce0 f155 head f151 mainIn #connect
Ce0 f149 mainOut f156 tail #connect
Ce0 f156 head f145 mainIn #connect
Ce0 f147 out f157 tail #connect
Ce0 f157 head f145 mainIn #connect
Ce0 f145 mainOut f158 tail #connect
Ce0 f158 head f152 in #connect
Ce0 f146 mainOut f159 tail #connect
Ce0 f159 head f152 in #connect
Ce0 f153 mainOut f160 tail #connect
Ce0 f160 head f143 mainIn #connect
Ce0 f152 out f161 tail #connect
Ce0 f161 head f153 mainIn #connect
Ce0 f143 mainOut f162 tail #connect
Ce0 f162 head f147 in #connect
Ce0 f151 mainOut f164 tail #connect
Ce0 f164 head f150 mainIn #connect
Ce0 f150 mainOut f165 tail #connect
Ce0 f165 head f149 mainIn #connect
Ce0 f152 out f166 tail #connect
Ce0 f166 head f148 in #connect
Ce0 f172 out f175 tail #connect
Ce0 f175 head f173 mainIn #connect
Ce0 f171 mainOut f176 tail #connect
Ce0 f176 head f172 in #connect
Ce0 f174 mainOut f177 tail #connect
Ce0 f177 head f171 mainIn #connect
Ce0 f169 mainOut f178 tail #connect
Ce0 f178 head f170 mainIn #connect
Ce0 f173 mainOut f179 tail #connect
Ce0 f179 head f169 mainIn #connect
Ce0 f172 out f180 tail #connect
Ce0 f180 head f170 mainIn #connect
Ce0 f170 mainOut f181 tail #connect
Ce0 f181 head f148 in #connect
Ce0 f121 mainOut f122 tail #connect
Ce0 f122 head f146 mainIn #connect
