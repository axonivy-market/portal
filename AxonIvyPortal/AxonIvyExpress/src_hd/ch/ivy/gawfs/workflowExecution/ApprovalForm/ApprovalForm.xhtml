<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions" xmlns:pm="http://primefaces.org/mobile">
<h:body>

  <ui:composition template="/layouts/TaskTemplate.xhtml">
    <ui:param name="caseId" value="#{ivy.case.id}" />
    <ui:param name="task" value="#{ivy.task}" />
    <ui:param name="steps" value="#{data.steps}" />
    <ui:param name="actualStepIndex" value="#{data.actualStepIndex}" />
    <ui:param name="isNotRequiredLogin" value="false" />
    <ui:param name="isShowStartAdhocButton" value="#{not data.isAdhocProcess}" />

    <ui:define name="title"></ui:define>
    <ui:define name="taskForm">

      <h:form id="form">
        <ic:ch.ivy.gawfs.component.FinishedUserTasksForm id="finished-tasks-component" finishedTasks="#{data.finishedTasks}" />

        <div class="approval-comment-container">
          <h:panelGroup styleClass="ui-g-12 card">
            <h:outputText value="#{ivy.cms.co('/Dialogs/WorkflowExecution/ApprovalForm/CommentLabel')}" styleClass="review-content-title ui-g-12 u-no-padding-left" />

            <p:inputTextarea id="comment" styleClass="approval-comment" value="#{data.comment}" rows="4" />
          </h:panelGroup>
        </div>

        <h:panelGrid columns="2" styleClass="case-view-footer Wid100 u-no-border">
          <h:panelGroup>
            <p:commandButton id="cancel-btn" value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/cancel')}" immediate="true" update="form"
              actionListener="#{logic.cancel}" styleClass="portal-cancel-button" icon="fa fa-times" />
          </h:panelGroup>
          <h:panelGroup layout="block" styleClass="TexAlRight">
            <p:commandButton id="approve-btn" value="#{ivy.cms.co('/Dialogs/WorkflowExecution/ApprovalForm/Approve')}" update="form"
              icon="fa fa-check" actionListener="#{logic.closeApprove}" />
            <p:spacer width="5" />
            <p:commandButton id="refuse-btn" value="#{ivy.cms.co('/Dialogs/WorkflowExecution/ApprovalForm/Reject')}" update="form" icon="fa fa-times"
              actionListener="#{logic.closeDeny}" styleClass="portal-cancel-button" />
          </h:panelGroup>
        </h:panelGrid>
      </h:form>

    </ui:define>

    <ui:define name="css">
      <h:outputStylesheet library="css" name="portal_express.css" />
    </ui:define>
  </ui:composition>
</h:body>
</html>