<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:ic="http://ivyteam.ch/jsf/component"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:body>
	<p:fieldset id="createTabsField" styleClass="createTabsFieldset" toggleable="true"
		legend="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/FieldSetFormelements')}">

		<p:tabView effect="" id="createTabs"
			activeIndex="#{data.activeTab}" dynamic="false">

		<p:ajax event="tabChange" resetValues="true" global="false" update="createTabs" />

			<!-- INPUT FIELD TAB -->
			<p:tab title="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/InputField')}" id="createInputFieldTab">

				<f:facet name="title">
					<h:outputText styleClass="form-definition-item-icon" value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/InputField')}"/>
					<p:graphicImage library="ivy-cms"
							name="/Layouts/Icons/InputFieldText" width="70" styleClass="form-definition-item-icon"/>
				</f:facet>
				<p:messages id="messagesInputFieldLabel" showDetail="false"
					autoUpdate="true" closable="true" for="InputFieldLabel" />

				<div id="createInputFieldPanelGrid" class="ui-fluid">
					<div class="ui-g">
						<div class="ui-g-12 ui-md-6 ui-lg-2">
							<p:outputLabel value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/ElementLabel')}:" for="InputFieldLabel" />
						</div>
						<div class="ui-g-12 ui-md-6 ui-lg-3">
							<p:inputText id="InputFieldLabel" required="true"
								value="#{data.createInputFieldTab.label}" styleClass="" maxlength="#{ivy.cms.co('/Dialogs/general/MaxLabelLenght')}" requiredMessage="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/ElementLabel')}: #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}"/>
						</div>
						<div class="ui-g-12 ui-md-6 ui-lg-1" />
						<div class="ui-g-12 ui-md-6 ui-lg-2">
							<p:outputLabel value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/InputType')}:" for="InputFieldType" styleClass="margin-left-20px" />
						</div>
					
						<div class="ui-g-12 ui-md-6 ui-lg-3">
							<p:selectOneMenu id="InputFieldType" value="#{data.createInputFieldTab.type}" styleClass=""
								requiredMessage="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/InputType')} #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}">
								<f:selectItems value="#{formDefinitionBean.inputFormElementTypes}" var="type" itemLabel="#{type.label}" itemValue="#{type}" />
							</p:selectOneMenu>
						</div>
					</div>
					<div class="ui-g">
						<div class="ui-g-12 ui-md-6 ui-lg-2">

							<p:outputLabel value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}:" for="InputFieldRequired" />
						</div>
						<div class="ui-g-12 ui-md-6 ui-lg-10">
							<p:selectBooleanCheckbox id="InputFieldRequired" styleClass=""
								value="#{data.createInputFieldTab.required}" />
						</div>
					</div>
				</div>
					<p:toolbar styleClass="create-form-toolbar">
						<f:facet name="right">
							<p:commandButton 
								id="add-input-text-btn"
								value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/CreateField')}"
								actionListener="#{logic.createInputField()}" styleClass="buttonDelegate"
								icon="fa fa-arrow-down" resetValues="true"
								update="form:availableFormelements form:createTabs"
								process="form:createTabs:createInputFieldTab" />
						</f:facet>
					</p:toolbar>
				
			</p:tab>

			<!-- INPUT TEXT AREA TAB -->
			<p:tab title="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/InputArea')}" id="createInputAreaTab">
				<p:messages id="messagesInputAreaLabel" showDetail="false"
					autoUpdate="true" closable="true" for="InputAreaLabel" />

				<f:facet name="title">
					<h:outputText styleClass="form-definition-item-icon" value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/InputArea')}"/>
					<p:graphicImage library="ivy-cms"
							name="/Layouts/Icons/InputTextArea" width="70" styleClass="form-definition-item-icon"/>
				</f:facet>
				<div id="createInputAreaPanelGrid" class="ui-fluid">
					<div class="ui-g">
						<div class="ui-g-12 ui-md-6 ui-lg-2">
							<p:outputLabel
								value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/ElementLabel')}:"
								for="InputAreaLabel" />
						</div>
						<div class="ui-g-12 ui-md-6 ui-lg-3">
							<p:inputText id="InputAreaLabel" required="true"
								requiredMessage="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/ElementLabel')}: #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}"
								value="#{data.createInputAreaTab.label}"
								styleClass=""
								maxlength="#{ivy.cms.co('/Dialogs/general/MaxLabelLenght')}" />
						</div>
						<div class="ui-g-12 ui-md-6 ui-lg-1" />
						<div class="ui-g-12 ui-md-6 ui-lg-2">
							<p:outputLabel
								value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/NumberOfRows')}:"
								for="InputAreaNoRows" styleClass="" />
						</div>
						<div class="ui-g-12 ui-md-6 ui-lg-1">
							<p:spinner id="InputAreaNoRows"
								value="#{data.createInputAreaTab.intSetting}" min="0" max="10" />
						</div>
					</div>
					<div class="ui-g">
						<div class="ui-g-12 ui-md-6 ui-lg-2">
							<p:outputLabel
								value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}:"
								for="InputAreaRequired" />
						</div>
						<div class="ui-g-12 ui-md-6 ui-lg-10">
							<p:selectBooleanCheckbox id="InputAreaRequired"
								styleClass=""
								value="#{data.createInputAreaTab.required}" />
						</div>
					</div>
				</div>
					<p:toolbar styleClass="create-form-toolbar">
						<f:facet name="right">
							<p:commandButton id="add-text-area-btn"
								value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/CreateField')}"
								styleClass="buttonDelegate"
								actionListener="#{logic.createInputTextArea}"
								icon="fa fa-arrow-down" resetValues="true"
								update="form:availableFormelements form:createTabs"
								process="form:createTabs:createInputAreaTab" />
						</f:facet>
					</p:toolbar>
			</p:tab>

			<!-- CHECKBOX TAB -->
			<p:tab title="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/InputCheckbox')}" id="createManyCheckboxTab">

				<p:messages id="messagesManyCheckboxLabel" showDetail="false"
					autoUpdate="true" closable="true" />
					
				<f:facet name="title">
					<h:outputText styleClass="form-definition-item-icon" value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/InputCheckbox')}"/>
					<p:graphicImage library="ivy-cms"
							name="/Layouts/Icons/ManyCheckbox" width="70" styleClass="form-definition-item-icon"/>
				</f:facet>

				<p:panelGrid id="createManyCheckboxGrid" styleClass="createManyCheckboxGridTable Wid100">
					<p:row styleClass="create-input-field-panel-grid-row">
						<p:column styleClass="create-input-field-panel-grid-column">
							<p:panelGrid styleClass="no-border Wid100">
								<p:row>
									<p:column styleClass="no-border">
										<p:outputLabel value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/DataProvider')}:" for="DataProvider" />
									</p:column>
									<p:column styleClass="no-border">
										<p:selectOneMenu id="DataProvider" converter="pojoConverter"
											value="#{data.selectedDataProvider}" styleClass="form-element-label-input">
											<f:selectItems value="#{data.dataProviders}" var="provider" itemLabel="#{provider.name}" itemValue="#{provider}" />
											<p:ajax update="value-checkbox-label value-checkbox-container" />
										</p:selectOneMenu>
									</p:column>
								</p:row>
								<p:row>
									<p:column styleClass="no-border">
										<p:outputLabel value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/ElementLabel')}:" for="ManyCheckboxLabel" />
									</p:column>
									<p:column styleClass="no-border">
										<p:inputText id="ManyCheckboxLabel" required="true" requiredMessage="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/ElementLabel')}: #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}"
											value="#{data.createManyCheckboxTab.label}"
											styleClass="form-element-label-input" maxlength="#{ivy.cms.co('/Dialogs/general/MaxLabelLenght')}"/>
									</p:column>
								</p:row>
							</p:panelGrid>
						</p:column>
						<p:column styleClass="form-definition-option-box-fields">
							<h:panelGroup id="value-checkbox-label">
								<p:outputLabel rendered="#{data.selectedDataProvider.name eq ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/NoDataProvider')}" value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/CheckboxFields')}:" />
							</h:panelGroup>
						</p:column>
							
						<p:column styleClass="form-definition-option-container">
							<h:panelGroup id="value-checkbox-container">
								<p:dataTable id="ManyCheckboxOptions" var="option" rendered="#{data.selectedDataProvider.name eq ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/NoDataProvider')}"
									value="#{data.createManyCheckboxTab.options}"
									styleClass="hide-column-names no-border NoPadding"
									emptyMessage="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/NoCheckboxFieldYet')}">
	
									<p:column styleClass="vertical-align-middle">
	
										<p:inputText value="#{option.value}" styleClass="Wid70" required="true" requiredMessage="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/InputCheckbox')}: #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}"
											placeholder="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/InputCheckbox')}" maxlength="#{ivy.cms.co('/Dialogs/general/maxOptionsLength')}"/>
	
										<p:spacer width="14" height="16" />
										<p:commandButton icon="fa fa-trash-o fa-2x" title="" styleClass="buttonDelegate placement-form-element-remove-btn"													
											actionListener="#{data.createManyCheckboxTab.deleteOption(option)}"
											process="form:createTabs:ManyCheckboxOptions"
											update="form:createTabs:ManyCheckboxOptions"
											immediate="true">
	
										</p:commandButton>
									</p:column>
									
									<f:facet name="footer" >
										<p:commandButton
											id="add-checkbox-option-btn"
											value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/AddCheckboxField')}" styleClass="buttonDelegate"
											icon="fa fa-plus"
											actionListener="#{data.createManyCheckboxTab.addOption()}"
											update="form:createTabs:ManyCheckboxOptions"
											process="form:createTabs:ManyCheckboxOptions" />
									</f:facet>
								</p:dataTable>
							</h:panelGroup>
						</p:column>
					</p:row>

					<p:row>
						<p:column colspan="3" styleClass="no-border">
						</p:column>
					</p:row>

				</p:panelGrid>
				<p:toolbar styleClass="create-form-toolbar">
					<f:facet name="right">
						<p:commandButton id="add-checkbox-btn"
							value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/CreateField')}"
							actionListener="#{logic.createManyCheckbox}"
							styleClass="buttonDelegate" icon="fa fa-arrow-down"
							resetValues="true"
							update="form:availableFormelements form:createTabs form:createTabs:ManyCheckboxOptions"
							process="form:createTabs:createManyCheckboxTab form:createTabs:ManyCheckboxOptions" />

					</f:facet>
				</p:toolbar>

			</p:tab>

			<!-- RADIO BUTTON TAB -->
			<p:tab title="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/InputOptions')}" id="createOneRadioTab">

				<p:messages id="messagesOneRadioLabel" showDetail="false"
					autoUpdate="true" closable="true" />
					
				<f:facet name="title">
					<h:outputText styleClass="form-definition-item-icon" value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/InputOptions')}"/>
					<p:graphicImage library="ivy-cms"
							name="/Layouts/Icons/OneRadio" width="70" styleClass="form-definition-item-icon"/>
				</f:facet>

				<div id="createOneRadioGrid" class="ui-g alignLabelTop">
					<div class="ui-g-12 ui-md-6 ui-lg-1">

						<p:outputLabel styleClass="marginTop6"
							value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/ElementLabel')}:"
							for="OneRadioLabel" />
					</div>
					<div class="ui-g-12 ui-md-6 ui-lg-3">

						<p:inputText id="OneRadioLabel" required="true"
							requiredMessage="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/ElementLabel')}  #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}"
							value="#{data.createOneRadioTab.label}"
							styleClass=""
							maxlength="#{ivy.cms.co('/Dialogs/general/MaxLabelLenght')}" />
					</div>
					<div class="ui-g-12 ui-md-6 ui-lg-2"/>
					<div class="ui-g-12 ui-md-6 ui-lg-2">

						<p:outputLabel styleClass="marginTop6"
							value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/OptionboxFields')}:" />

					</div>
					<div class="ui-g-12 ui-md-6 ui-lg-4">


						<p:dataTable id="OneRadioOptions" var="option"
							value="#{data.createOneRadioTab.options}"
							emptyMessage="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/NoOptionboxFieldsYet')}"
							styleClass="hide-column-names no-border NoPadding">

							<p:column>

								<p:inputText value="#{option.value}" styleClass="Wid70"
									requiredMessage="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/InputOptions')}: #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}"
									placeholder="Option" required="true"
									maxlength="#{ivy.cms.co('/Dialogs/general/maxOptionsLength')}" />

								<p:spacer width="14" height="16" />
								<p:commandButton icon="fa fa-trash-o" title=""
									styleClass="buttonDelegate placement-form-element-remove-btn"
									actionListener="#{data.createOneRadioTab.deleteOption(option)}"
									process="form:createTabs:OneRadioOptions"
									update="form:createTabs:OneRadioOptions" immediate="true">
								</p:commandButton>

							</p:column>
							<f:facet name="footer">
								<p:commandButton id="add-radio-option-btn"
									value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/AddOptionboxField')}"
									styleClass="buttonDelegate" icon="fa fa-plus"
									actionListener="#{data.createOneRadioTab.addOption()}"
									update="form:createTabs:OneRadioOptions"
									process="form:createTabs:OneRadioOptions" />
							</f:facet>
						</p:dataTable>
					</div>
					
				</div>
				<p:toolbar styleClass="create-form-toolbar">
					<f:facet name="right">
						<p:commandButton id="add-radio-btn"
							value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/CreateField')}"
							actionListener="#{logic.createOneRadio}"
							styleClass="buttonDelegate" icon="fa fa-arrow-down"
							resetValues="true"
							update="form:availableFormelements form:createTabs"
							process="form:createTabs:createOneRadioTab" />
					</f:facet>
				</p:toolbar>


			</p:tab>

			<!-- FILE UPLOAD TAB -->
			<p:tab title="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/InputFileUpload')}" id="createFileUploadTab">
				<p:messages id="messagesFileUploadLabel" showDetail="false"
					autoUpdate="true" closable="true" for="FileUploadLabel" />
					
				<f:facet name="title">
					<h:outputText styleClass="form-definition-item-icon" value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/InputFileUpload')}"/>
					<p:graphicImage library="ivy-cms"
							name="/Layouts/Icons/FileUpload" width="70" styleClass="form-definition-item-icon"/>
				</f:facet>
				<div class="ui-g alignLabelTop ui-fluid" id="createFileUploadPanelGrid">
						<div class="ui-g-12 ui-md-6 ui-lg-1">
							<p:outputLabel styleClass="marginTop6"
								value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/ElementLabel')}:"
								for="FileUploadLabel" />
						</div>
						<div class="ui-g-12 ui-md-6 ui-lg-3">
							<p:inputText id="FileUploadLabel" required="true"
								requiredMessage="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/ElementLabel')}: #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}"
								value="#{data.createFileUploadTab.label}"
								styleClass=""
								maxlength="#{ivy.cms.co('/Dialogs/general/MaxLabelLenght')}" />
						</div>
						<div class="ui-g-12 ui-md-6 ui-lg-2"></div>
						<div class="ui-g-12 ui-md-6 ui-lg-2">
							<p:outputLabel styleClass="marginTop6"
								value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/AllowedFiletypes')}:"
								for="FileFormats" />
						</div>
						<div class="ui-g-12 ui-md-6 ui-lg-4">
							<p:selectManyCheckbox id="FileFormats" 
								value="#{data.createFileUploadTab.optionsStr}"
								layout="pageDirection" disabled="true">
								<f:selectItems value="#{data.createFileUploadTab.options}"
									var="format" itemLabel="#{format.value}"
									itemValue="#{format.value}" />
							</p:selectManyCheckbox>
						</div>
				</div>
					<div class="ui-g">
						<div class="ui-g-12 ui-md-6 ui-lg-1">
							<p:outputLabel
								value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/NumberOfFiles')}"
								for="FileUploadNoRows" />
						</div>
						<div class="ui-g-12 ui-md-6 ui-lg-1">
							<p:spinner id="FileUploadNoRows"
								value="#{data.createFileUploadTab.intSetting}" min="0" max="10" />
						</div>
						<div class="ui-g-12 ui-md-6 ui-lg-10"></div>
					</div>
					<p:toolbar styleClass="create-form-toolbar">
						<f:facet name="right">
							<p:commandButton id="add-upload-file-btn"
								value="#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/CreateField')}"
								actionListener="#{logic.createFileUpload}"
								styleClass="buttonDelegate" icon="fa fa-arrow-down"
								resetValues="true"
								update="form:availableFormelements form:createTabs"
								process="form:createTabs:createFileUploadTab" />

						</f:facet>
					</p:toolbar></p:tab>

		</p:tabView>
	</p:fieldset>
</h:body>
</html>