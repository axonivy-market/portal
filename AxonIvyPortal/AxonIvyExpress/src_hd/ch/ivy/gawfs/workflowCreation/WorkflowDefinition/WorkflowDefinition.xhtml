<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions">
<h:body>
  <ui:composition template="/layouts/TaskTemplate.xhtml">
    <ui:param name="caseId" value="#{ivy.case.id}" />
    <ui:param name="task" value="#{ivy.task}" />
    <ui:param name="steps" value="#{data.data.steps}" />
    <ui:param name="actualStepIndex" value="1" />
    <ui:param name="isShowStartAdhocButton" value="false" />
    <ui:param name="isNotRequiredLogin" value="false" />
    <ui:param name="processChainShape" value="LINE" />

    <ui:define name="title">#{ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/PageTitle')} #{ivy.case.name}</ui:define>

    <ui:define name="errorsZone">
      <p:messages id="error-messages" showDetail="false" closable="true" />
    </ui:define>

    <ui:define name="content">
      <h:form id="form" styleClass="express-work-flow">

        <p:fieldset id="process-setting-fieldset" legend="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/Processdetails')}"
          toggleable="true" styleClass="MarTop5 express-fieldset fieldset-no-border">

          <h:panelGroup styleClass="ui-g-12 card u-padding-0">
            <h:panelGroup id="process-setting-grid" styleClass="process-property-container u-no-padding-top">
              <div class="ui-fluid">
                <div class="ui-g alignLabelTop">
                  <div class="ui-g-12 u-padding-0">
                    <div class="ui-g-1 ui-lg-1 ui-md-hidden ui-sm-hidden" />

                    <!-- PROCESS NAME -->
                    <h:panelGroup layout="block" styleClass="ui-g-5 ui-lg-5 ui-md-6 ui-sm-12 MarTop20">
                      <div class="md-inputfield">
                        <p:inputText id="process-name" value="#{data.data.processName}" required="true" maxlength="50"
                          disabled="#{data.data.isAdhocProcess}" styleClass="express-workflow-input"
                          requiredMessage="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/processwidget/processName')} #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}">
                          <p:ajax event="blur" partialSubmit="true" process="@this" global="false" immediate="true" />
                        </p:inputText>
                        <p:outputLabel value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/processwidget/processName')}" for="process-name" />
                      </div>
                    </h:panelGroup>

                    <!-- PROCESS DESCRIPTION -->
                    <h:panelGroup layout="block" styleClass="ui-g-5 ui-lg-5 ui-md-6 ui-sm-12 MarTop20">
                      <div class="md-inputfield">
                        <p:inputText id="process-description" value="#{data.data.processDescription}" maxlength="60"
                          styleClass="express-workflow-input"
                          requiredMessage="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/Processdescription')} #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}">
                          <p:ajax event="blur" partialSubmit="true" process="@this" global="false" />
                        </p:inputText>
                        <p:outputLabel value="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/Processdescription')}"
                          for="process-description" styleClass="express-title-header" />
                      </div>
                    </h:panelGroup>
                  </div>

                  <div class="ui-g-12 u-padding-0 MarTop10">
                    <div class="ui-g-1 ui-lg-1 ui-md-hidden ui-sm-hidden" />

                    <!-- PROCESS TYPE -->
                    <div class="ui-g-5 ui-lg-5 ui-md-6 ui-sm-12 u-no-padding-left">
                      <div class="ui-g-12 u-no-padding-bottom">
                        <h:outputText value="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/Processtype')}"
                          styleClass="express-title-header" />
                      </div>
                      <div class="ui-g-12 u-no-padding-top u-no-padding-left">
                        <h:panelGroup id="process-type-group" class="md-inputfiled ui-g-12">
                          <p:outputLabel value="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/ProcesstypeAdHoc')}" styleClass="#{data.isRepeatable ? '':'switch-active'}" />
                          <p:inputSwitch id="process-type" styleClass="express-input-switch-selection"
                            disabled="#{not empty data.data.processID or data.data.isAdhocProcess}" value="#{data.isRepeatable}"
                            requiredMessage="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/Processtype')} #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}">
                            <p:ajax listener="#{logic.onSwitchProcessType}" update="process-type-group process-type express-button-container process-owner-container defined-tasks-list-container" />
                          </p:inputSwitch>
                          <p:outputLabel value="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/ProcesstypeRepeating')}" styleClass="#{data.isRepeatable ? 'switch-active':''}" />
                        </h:panelGroup>
                      </div>
                    </div>

                    <div class="ui-g-5 ui-lg-5 ui-md-6 ui-sm-12 u-no-padding-left">
                      <!-- UI SETTING -->
                      <div class="ui-g-12 u-no-padding-bottom">
                        <h:outputText value="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/UserInterface/UserInterface')}"
                          styleClass="express-title-header" />
                      </div>
                      <div class="ui-g-12 u-no-padding-top u-no-padding-left">
                        <h:panelGroup id="user-interface-type-group" class="md-inputfiled ui-g-12">
                          <p:outputLabel value="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/UserInterface/CreateOwn')}"
                            styleClass="#{data.data.isUseDefaultUI ? '':'switch-active'}" />
                          <p:inputSwitch id="user-interface-type" styleClass="express-input-switch-selection"
                            disabled="#{not empty data.data.processID or data.data.isAdhocProcess}" value="#{data.data.isUseDefaultUI}"
                            requiredMessage="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/UserInterface/UserInterface')} #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}"
                            onchange="PF('delete-all-defined-tasks-warning').show();">
                            <p:ajax update="user-interface-type-group user-interface-type" global="false" />
                          </p:inputSwitch>
                          <p:outputLabel value="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/UserInterface/UseDefault')}"
                            styleClass="#{data.data.isUseDefaultUI ? 'switch-active':''}">
                            <p:commandLink onclick="PF('default-template-dialog').show();">
                              <i class="show-default-ui-icon fa fa-info-circle" />
                            </p:commandLink>
                          </p:outputLabel>
                        </h:panelGroup>
                      </div>
                    </div>
                  </div>

                  <div class="ui-g-12 u-padding-0">
                    <div class="ui-g-1 ui-lg-1 ui-md-hidden ui-sm-hidden" />

                    <!-- PROCESS OWNER -->
                    <h:panelGroup id="process-owner-container" styleClass="ui-g-5 ui-lg-5 ui-md-6 ui-sm-12 u-no-padding-top u-no-padding-left">
                      <h:panelGroup id="process-owner-content" layout="block" styleClass="ui-g" rendered="#{data.isDisplayProcessOwner}">
                        <div class="ui-g-12 u-no-padding-bottom">
                          <p:outputLabel value="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/ProcessOwner')}"
                            for="process-owner-responsible" styleClass="express-title-header task-responsible-label" />
                        </div>
                        <div class="ui-g-12">
                          <h:panelGroup id="process-owner-block" layout="block" styleClass="express-process-owner">
                            <h:inputHidden id="process-owner-responsible" value="#{data.data.processCoOwnersDisplayName}" required="true"
                              requiredMessage="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/ProcessOwner')} #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}" />
                            <p:commandLink id="process-owner-link" immediate="true" styleClass="task-responsible-link"
                              value="#{not empty data.data.processCoOwnersDisplayName ? data.data.processCoOwnersDisplayName : ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/NoSelection')}"
                              actionListener="#{logic.initProcessStartResponsibles}" oncomplete="PF('choose-responsible-dialog').show();"
                              process="@this" update="assignee-selection-form:assignee-selection-panel" global="false" />
                          </h:panelGroup>
                        </div>
                      </h:panelGroup>
                    </h:panelGroup>
                  </div>
                </div>
              </div>
            </h:panelGroup>
          </h:panelGroup>
        </p:fieldset>

        <h:panelGroup id="defined-tasks-list-container">
          <ui:repeat id="defined-tasks-list" value="#{data.data.definedTasks}" var="gtask" varStatus="status">
            <p:fieldset id="process-flow-field" toggleable="true" styleClass="express-fieldset fieldset-no-border"
              legend="#{ivy.cms.co('/Dialogs/workflowCreation/processStep')} #{gtask.position}">
              <h:panelGroup styleClass="ui-g-12 card u-padding-0">

                <h:panelGroup id="task-panel-container" styleClass="u-no-padding-top" layout="block">

                  <!-- FOR SELF CREATE TEMPLATE -->
                  <h:panelGroup id="dynamic-task-panel-grid" styleClass="dynamic-task-panel-grid u-no-padding-top" layout="block"
                    rendered="#{!data.data.isUseDefaultUI}">
                    <div class="ui-fluid">
                      <div class="ui-g">

                        <h:panelGroup rendered="#{gtask.taskType ne 'EMAIL'}" styleClass="ui-g-12 MarTop20 u-padding-0">
                          <div class="ui-g-1 ui-lg-1 ui-md-hidden ui-sm-hidden" />

                          <!-- TASK NAME -->
                          <h:panelGroup layout="block" styleClass="ui-g-5 ui-lg-5 ui-md-6" rendered="#{gtask.taskType ne 'EMAIL'}">
                            <div class="md-inputfield">
                              <p:inputText id="task-name" value="#{gtask.subject}" maxlength="30" required="true" styleClass="express-workflow-input"
                                requiredMessage="#{ivy.cms.co('/Dialogs/agileBPM/define_WF/TaskSubject')} #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}">
                                <p:ajax event="blur" partialSubmit="true" process="@this" global="false" />
                              </p:inputText>
                              <p:outputLabel id="task-name-label" for="task-name" value="#{ivy.cms.co('/Dialogs/agileBPM/define_WF/TaskSubject')}" />
                            </div>
                          </h:panelGroup>

                          <!-- TASK DESCRIPTION -->
                          <h:panelGroup layout="block" styleClass="ui-g-5 ui-lg-5 ui-md-6" rendered="#{gtask.taskType ne 'EMAIL'}">
                            <div class="md-inputfield">
                              <p:inputText id="task-description" value="#{gtask.description}" styleClass="express-workflow-input"
                                requiredMessage="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/AllTasks/taskDescription')} #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}">
                                <p:ajax event="blur" partialSubmit="true" process="@this" global="false" />
                              </p:inputText>
                              <p:outputLabel id="task-description-label" for="task-description"
                                value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/AllTasks/taskDescription')}" />
                            </div>
                          </h:panelGroup>

                        </h:panelGroup>

                        <h:panelGroup styleClass="ui-g-12 u-padding-0 MarTop10">
                          <div class="ui-g-1 ui-lg-1 ui-md-hidden ui-sm-hidden" />
                          <!-- TASK TYPE -->
                          <div class="ui-g-5 ui-lg-5 ui-md-6 u-padding-0">
                            <div class="ui-g-12 u-no-padding-bottom">
                              <p:outputLabel id="task-type-label" for="task-type"
                                value="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/TaskType')}" styleClass="express-title-header" />
                            </div>
                            <div class="ui-g-12 u-no-padding-top">
                              <p:selectOneMenu id="task-type" value="#{gtask.taskType}" disabled="#{data.data.isUseDefaultUI}"
                                styleClass="express-workflow-input"
                                requiredMessage="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/TaskType')} #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}">
                                <f:selectItems
                                  value="#{status.index == 0 ? workflowDefinitionBean.taskTypesForFirstWorkflowTask : workflowDefinitionBean.getTaskTypes(data.data.definedTasks, status.index)}"
                                  var="taskType" itemLabel="#{taskType.label}" itemValue="#{taskType}" />
                                <p:ajax event="change" update="process-flow-field" />
                              </p:selectOneMenu>
                            </div>
                          </div>

                          <div class="ui-g-5 ui-lg-5 ui-md-6 u-padding-0">
                            <!--  RESPONSIBLE -->
                            <h:panelGroup layout="block" styleClass="ui-g-12 u-no-padding-bottom" rendered="#{gtask.taskType ne 'EMAIL'}">
                              <p:outputLabel for="task-responsible"
                                value="#{data.data.processType == 'REPEAT' and gtask.position eq 1? ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/AbleToStart'):ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/taskList/defaultColumns/ACTIVATOR')}:"
                                styleClass="express-title-header task-responsible-label" />
                            </h:panelGroup>
                            <h:panelGroup layout="block" id="task-responsible-input-container" styleClass="ui-g-12"
                              rendered="#{gtask.taskType ne 'EMAIL'}">
                              <h:inputHidden id="task-responsible" value="#{gtask.responsibleDisplayName}" required="true"
                                requiredMessage="#{data.data.processType == 'REPEAT' and gtask.position eq 1 ? ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/AbleToStart'):ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/taskList/defaultColumns/ACTIVATOR')} #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}" />
                              <p:commandLink id="task-responsible-link" immediate="true" styleClass="task-responsible-link"
                                value="#{not empty gtask.responsibleDisplayName ? gtask.responsibleDisplayName : ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/NoSelection')}"
                                actionListener="#{logic.initAssginement(gtask)}" oncomplete="PF('choose-responsible-dialog').show();"
                                update="assignee-selection-form:assignee-selection-panel" global="false" />
                            </h:panelGroup>
                          </div>
                        </h:panelGroup>

                        <h:panelGroup styleClass="ui-g-12 u-padding-0" rendered="#{gtask.position gt 1}">
                          <div class="ui-g-1 ui-lg-1 ui-md-hidden ui-sm-hidden" />

                          <!-- NUMBER OF VALID DAYS -->
                          <div class="ui-g-5 ui-lg-5 ui-md-6 u-padding-0">
                            <h:panelGroup layout="block" styleClass="ui-g-12" rendered="#{gtask.taskType ne 'EMAIL'}">
                              <p:outputLabel id="valid-days-label" for="valid-days" rendered="#{gtask.position gt 1}"
                                value="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/DueTimeInDays')}:" />
                              <p:tooltip for="valid-days-label" id="valid-days-label-tooltip"
                                value="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/UntilDaysTooltip')}" />
                            </h:panelGroup>
                            <h:panelGroup layout="block" styleClass="ui-g-12" rendered="#{gtask.taskType ne 'EMAIL'}">
                              <p:spinner id="valid-days" value="#{gtask.untilDays}" min="1" rendered="#{gtask.position gt 1}"
                                styleClass="express-workflow-input" />
                              <p:tooltip for="valid-days" id="valid-days-tooltip"
                                value="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/UntilDaysTooltip')}" />
                            </h:panelGroup>
                          </div>
                        </h:panelGroup>
                      </div>
                    </div>
                  </h:panelGroup>

                  <!-- FOR DEFAULT UI TEMPLATE -->
                  <h:panelGroup id="default-dynamic-task-panel-grid" styleClass="dynamic-task-panel-grid default-dynamic-task-panel-grid "
                    layout="block" rendered="#{data.data.isUseDefaultUI}">
                    <div class="ui-fluid">
                      <div class="ui-g">
                        <div class="ui-g-1 ui-lg-1 ui-md-hidden ui-sm-hidden" />

                        <h:panelGroup styleClass="ui-g-5 ui-lg-5 ui-md-6 MarTop20">
                          <!-- TASK NAME -->
                          <div class="md-inputfield">
                            <p:inputText id="default-task-name" value="#{gtask.subject}" maxlength="30" required="true"
                              requiredMessage="#{ivy.cms.co('/Labels/Task')} #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}"
                              styleClass="express-workflow-input">
                              <p:ajax event="blur" partialSubmit="true" process="@this" global="false" />
                            </p:inputText>
                            <p:outputLabel id="default-task-name-label" for="default-task-name"
                              value="#{ivy.cms.co('/Dialogs/agileBPM/define_WF/TaskSubject')}" />
                          </div>
                        </h:panelGroup>

                        <h:panelGroup styleClass="ui-g-5 ui-lg-5 ui-md-6 u-no-padding-left u-no-padding-top">
                          <!-- RESPONSIBLE -->
                          <div class="ui-g-12 u-no-padding-bottom">
                            <p:outputLabel rendered="#{gtask.position >= 1}" for="default-task-responsible"
                              value="#{data.data.processType == 'REPEAT' and gtask.position eq 1? ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/AbleToStart'):ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/taskList/defaultColumns/ACTIVATOR')}:" />
                          </div>
                          <h:panelGroup layout="block" id="default-task-responsible-input-container" styleClass="ui-g-12">
                            <h:inputHidden id="default-task-responsible" value="#{gtask.responsibleDisplayName}" required="true"
                              requiredMessage="#{data.data.processType == 'REPEAT' and gtask.position eq 1 ? ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/AbleToStart'):ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/taskList/defaultColumns/ACTIVATOR')} #{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}" />
                            <p:commandLink id="default-task-responsible-link" immediate="true" styleClass="task-responsible-link"
                              value="#{not empty gtask.responsibleDisplayName ? gtask.responsibleDisplayName : ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/NoSelection')}"
                              actionListener="#{logic.initAssginement(gtask)}" oncomplete="PF('choose-responsible-dialog').show();"
                              update="assignee-selection-form:assignee-selection-panel" global="false" />
                          </h:panelGroup>
                        </h:panelGroup>

                        <div class="ui-g-1 ui-lg-1 ui-md-hidden ui-sm-hidden" />
                        <div class="ui-g-1 ui-lg-1 ui-md-hidden ui-sm-hidden" />

                        <h:panelGroup rendered="#{gtask.position gt 1}" styleClass="ui-g-5 ui-lg-5 ui-md-6 u-padding-0" layout="block">
                          <!-- NUMBER OF VALID DAYS -->
                          <div class="ui-g-12 u-no-padding-top">
                            <p:outputLabel id="default-valid-days-label" for="default-valid-days" rendered="#{gtask.position gt 1}"
                              value="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/DueTimeInDays')}:" />
                            <p:tooltip for="default-valid-days-label" id="default-valid-days-label-tooltip"
                              value="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/UntilDaysTooltip')}" />
                          </div>
                          <div class="ui-g-12 u-no-padding-top">
                            <p:spinner id="default-valid-days" value="#{gtask.untilDays}" min="1" rendered="#{gtask.position gt 1}"
                              styleClass="express-workflow-input" />
                            <p:tooltip for="valid-days" id="default-valid-days-tooltip"
                              value="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/UntilDaysTooltip')}" />
                          </div>
                        </h:panelGroup>

                      </div>
                    </div>
                  </h:panelGroup>
                </h:panelGroup>

                <p:panelGrid id="dynamic-task-action-container-#{gtask.position}" styleClass="dynamic-task-action-container"
                  rendered="#{data.data.definedTasks.size() == gtask.position}">
                  <p:row>
                    <p:column styleClass="dynamic-task-left-action">
                      <p:commandButton id="add-step-button" icon="fa fa-plus" immediate="true"
                        value="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/AddProcessStep')}" actionListener="#{logic.addProcessStep}"
                        process="form" update="#{p:component('defined-tasks-list-container')} error-messages">
                      </p:commandButton>
                    </p:column>

                    <p:column styleClass="dynamic-task-right-action">
                      <p:commandButton id="remove-step-button" icon="fa fa-minus" immediate="true" rendered="#{data.data.definedTasks.size()>1}"
                        value="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/DeleteProcessStep')}"
                        actionListener="#{logic.deleteProcessStep}" process="form" update="#{p:component('defined-tasks-list-container')} error-messages">
                      </p:commandButton>
                    </p:column>
                  </p:row>
                </p:panelGrid>
              </h:panelGroup>
            </p:fieldset>
          </ui:repeat>
        </h:panelGroup>

        <p:outputPanel styleClass="TexAlRight">
          <h:panelGroup id="express-button-container">
            <p:commandButton id="save" actionListener="#{logic.close}" update="form error-messages"
              icon="fa #{data.data.isUseDefaultUI ? 'fa-check' : 'fa-arrow-right'}"
              value="#{data.data.isUseDefaultUI ? (data.data.processType eq 'AD_HOC' ? ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/ExecuteWorkflow') :
               ivy.cms.co('/Dialogs/workflowCreation/FormDefinition/SaveWorkflow')) : ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/next')}">
              <ui:param name="save-workflow" value="true" />
            </p:commandButton>
            <p:spacer width="5" />

            <p:commandButton id="cancel-workflow-button" actionListener="#{logic.cancel}" styleClass="portal-cancel-button" immediate="true"
              value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/cancel')}" icon="fa fa-times" />
          </h:panelGroup>
        </p:outputPanel>

      </h:form>

      <p:dialog id="choose-responsible-dialog" styleClass="choose-responsible-dialog"
        header="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/ChooseAssignee/AddUserOrRole')}" widgetVar="choose-responsible-dialog"
        modal="true" appendTo="@(body)" width="600" resizable="false">
        <p:ajax event="close" listener="#{logic.closeDialog}" global="false" immediate="true" />
        <ui:include src="ChooseAssignee.xhtml" />
      </p:dialog>

      <p:dialog id="default-template-dialog" styleClass="default-template-dialog"
        header="#{ivy.cms.co('/Dialogs/workflowCreation/DefaultTemplateDialogHeader')}" widgetVar="default-template-dialog" modal="true"
        appendTo="@(body)" width="700" resizable="false">
        <ui:include src="DefaultTemplate.xhtml" />

        <h:panelGroup layout="block" styleClass="u-dialog-footer ui-dialog-footer">
          <p:commandButton type="button" id="close-default-templat-dialog-button" value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/close')}"
            onclick="PF('default-template-dialog').hide();" />
        </h:panelGroup>
      </p:dialog>

      <p:confirmDialog id="delete-all-defined-tasks-warning" widgetVar="delete-all-defined-tasks-warning"
        message="#{ivy.cms.co('/Dialogs/workflowCreation/WorkflowDefinition/UserInterface/ChangeSettingWarning')}" appendTo="@(body)"
        header="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/warning')}" severity="alert" closable="false">
        <p:commandButton id="delete-all-defined-tasks-warning-ok" value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/yes')}"
          resetValues="true" actionListener="#{logic.changeUISetting(true)}" oncomplete="PF('delete-all-defined-tasks-warning').hide()"
          update="#{p:component('defined-tasks-list-container')} #{p:component('express-button-container')} #{p:component('process-chain-component-id')}" global="false" />
        <p:commandButton id="delete-all-defined-tasks-warning-cancel" styleClass="portal-cancel-button"
          value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/no')}" actionListener="#{logic.changeUISetting(false)}"
          oncomplete="PF('delete-all-defined-tasks-warning').hide()" update="form" global="false" />
      </p:confirmDialog>
    </ui:define>

    <ui:define name="css">
      <h:outputStylesheet library="css" name="portal_express.css" />
    </ui:define>
  </ui:composition>
</h:body>
</html>
