<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:ic="http://ivyteam.ch/jsf/component"
	xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions">
<body>
  <ui:composition>  
    <!--  Exception Handler for any other Exception -->
    <c:set var="defaultNotificationMessage"
      value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/defaultNotificationMessage')}" />
    <p:ajaxExceptionHandler id="portal-ajax-exception-handler" update="exception-dialog:exception-dialog"
      onexception="portal.notifyError('#{defaultNotificationMessage}', '#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/more')}');" />
    <ic:ch.ivy.addon.portalkit.component.ExceptionDialog id="exception-dialog" widgetVar="exception-dialog"
      pfException="#{pfExceptionHandler}" />

    <h:form prependId="false">
      <p:remoteCommand id="portal-on-show-more-exception-cmd" name="onShowMoreExceptionDialog"
        update="exception-dialog:exception-dialog" oncomplete="PF('exception-dialog').show();" process="@this" global="false" partialSubmit="true"/>
    </h:form>
  </ui:composition>
</body>
</html>