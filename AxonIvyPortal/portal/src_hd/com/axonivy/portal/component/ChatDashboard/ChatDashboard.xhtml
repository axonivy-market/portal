<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component"
  xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions">
<h:body>
  <ui:composition
    template="/layouts/includes/ChatDashboardTemplate.xhtml">
    <ui:param name="managedBean" value="#{assistantModificationBean}" />

    <ui:define name="assistantManagementSection">
      <h:panelGroup id="tools-panel" layout="block" styleClass="ui-g tools-panel">
        <div class="ui-g-12 tool-header-text">
          <h:outputText value="#{assistantModificationBean.addTool ? 'Add tool' : 'Tools'}" />
          <p:commandButton id="add-tool-button" value="Add" icon="si si-add" styleClass="Fright"
            rendered="#{!assistantModificationBean.addTool}" process="@(this)" global="false"
            update="tools-panel" actionListener="#{assistantModificationBean.onAddTool()}">
          </p:commandButton>
          <p:commandLink id="close-link" value="Back" styleClass="Fright"
            rendered="#{assistantModificationBean.addTool}"
            update="tools-panel" global="false" actionListener="#{assistantModificationBean.onBack()}" />
        </div>
        <h:panelGroup id="add-tool-list-panel" layout="block"
          rendered="#{assistantModificationBean.addTool}"
          styleClass="tool-list-panel">
          <ic:com.axonivy.portal.component.ToolList id="add-tool-panel" isAddTool="#{assistantModificationBean.addTool}"
            toolList="#{assistantModificationBean.availableTools}"
            managedBean="#{assistantModificationBean}"
            componentToUpdate="#{p:resolveFirstComponentWithId('tools-panel', view).clientId}" />
        </h:panelGroup>
        <h:panelGroup id="tool-list-panel" layout="block"
          rendered="#{!assistantModificationBean.addTool}">
          <ic:com.axonivy.portal.component.ToolList id="assistant-tool-panel"
            isAddTool="#{assistantModificationBean.addTool}"
            toolList="#{assistantModificationBean.assistant.toolkit}"
            managedBean="#{assistantModificationBean}"
            componentToUpdate="#{p:resolveFirstComponentWithId('tools-panel', view).clientId}" />
        </h:panelGroup>
      </h:panelGroup>
    </ui:define>

    <ui:define name="welcomeSection">
      <div class="welcome-container">
        <p>#{ivy.cms.co('/Dialogs/com/axonivy/portal/component/ChatDashboard/WelcomeHeaderText')}</p>
        <p>#{ivy.cms.co('/Dialogs/com/axonivy/portal/component/ChatDashboard/WelcomeText')}</p>
      </div>

      <div class="candidate-question-container ui-g">
        <ui:repeat var="question"
          value="#{chatDashboardBean.candidateQuestions}">
          <div class="candidate-question-block js-candidate-question-block">
            <div class="candidate-question ui-g-4">
              <div class="candidate-question-header">
                <span class="si #{question.icon}" /> <span>#{question.headerText}</span>
              </div>
              <div>
                <p class="js-candidate-question">#{question.question}</p>
              </div>
            </div>
          </div>
        </ui:repeat>
      </div>
    </ui:define>
  </ui:composition>
</h:body>

</html>
