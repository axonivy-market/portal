<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
  xmlns:cc="http://xmlns.jcp.org/jsf/composite" xmlns:jsf="http://xmlns.jcp.org/jsf"
  xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

<cc:interface componentType="IvyComponent">
</cc:interface>

<cc:implementation>
  <h:form id="forgot-password-form" styleClass="login-form">
    <div class="login-wrapper">
      <div class="login-panel ui-fluid">
        <div class="login-panel-header" id="logo">
          <p:graphicImage name="#{themeBean.themeMode eq 'dark' ? 'logo_light': 'logo'}" library="ivy-branding"
            alt="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/loginLogo')}" />
        </div>
        <p:focus for="email" />
        <h4>#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/forgotPassword/passwordReset')}</h4>

        <p:messages id="forgot-password-message" showIcon="false"/>
        <p:inputText id="email" value="#{data.email}" required="true"
          requiredMessage="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/requiredFieldMessage')}"
          placeholder="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/forgotPassword/EmailAddress')}">
          <f:validator validatorId="emailValidator" />
        </p:inputText>

        <p:commandButton id="send-command" widgetVar="send-command-client" actionListener="#{logic.send}"
          value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/common/send')}"
          icon="#{visibilityBean.generateButtonIcon('si si-send-email')}" onclick="PF('send-command-client').disable()"
          oncomplete="PF('send-command-client').enable();Portal.changeLogoByThemeMode('#{themeBean.themeMode}');"
          process="forgot-password-form" update="forgot-password-form" />

        <div class="forgot-link text-right">
          <p:link id="forgot-password-link" href="#{passwordResetBean.getHomePageURL()}">
            <i class="si si-move-back u-mar-right-5" />
            <h:outputText value="#{ivy.cms.co('/ch.ivy.addon.portalkit.ui.jsf/forgotPassword/goToLogin')}" />
          </p:link>
        </div>
      </div>
      <h:panelGroup layout="block" class="login-footer" rendered="#{visibilityBean.showLoginFooter}">
        <h4>#{ivy.cms.co('/Labels/Login/CompanyName')}</h4>
        <h6>#{ivy.cms.co('/Labels/Login/Copyright')}</h6>
      </h:panelGroup>
    </div>
  </h:form>
</cc:implementation>
</html>