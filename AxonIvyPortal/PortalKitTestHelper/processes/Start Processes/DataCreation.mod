[Ivy]
153CACC26D0D4C3D 3.20 #module
>Proto >Proto Collection #zClass
Dt0 DataCreation Big #zClass
Dt0 B #cInfo
Dt0 #process
Dt0 @TextInP .resExport .resExport #zField
Dt0 @TextInP .type .type #zField
Dt0 @TextInP .processKind .processKind #zField
Dt0 @AnnotationInP-0n ai ai #zField
Dt0 @MessageFlowInP-0n messageIn messageIn #zField
Dt0 @MessageFlowOutP-0n messageOut messageOut #zField
Dt0 @TextInP .xml .xml #zField
Dt0 @TextInP .responsibility .responsibility #zField
Dt0 @StartRequest f0 '' #zField
Dt0 @EndTask f1 '' #zField
Dt0 @EndTask f5 '' #zField
Dt0 @EndTask f6 '' #zField
Dt0 @GridStep f23 '' #zField
Dt0 @StartRequest f25 '' #zField
Dt0 @Trigger f28 '' #zField
Dt0 @GridStep f30 '' #zField
Dt0 @Alternative f32 '' #zField
Dt0 @PushWFArc f33 '' #zField
Dt0 @PushWFArc f29 '' #zField
Dt0 @EndTask f34 '' #zField
Dt0 @PushWFArc f35 '' #zField
Dt0 @RichDialog f27 '' #zField
Dt0 @PushWFArc f2 '' #zField
Dt0 @GridStep f41 '' #zField
Dt0 @PushWFArc f42 '' #zField
Dt0 @PushWFArc f26 '' #zField
Dt0 @PushWFArc f43 '' #zField
Dt0 @RichDialog f24 '' #zField
Dt0 @PushWFArc f37 '' #zField
Dt0 @PushWFArc f31 '' #zField
Dt0 @TaskSwitch f3 '' #zField
Dt0 @TkArc f4 '' #zField
Dt0 @PushWFArc f7 '' #zField
Dt0 @PushWFArc f8 '' #zField
Dt0 @PushWFArc f9 '' #zField
Dt0 @StartRequest f10 '' #zField
Dt0 @EndTask f11 '' #zField
Dt0 @RichDialog f13 '' #zField
Dt0 @PushWFArc f14 '' #zField
Dt0 @PushWFArc f12 '' #zField
Dt0 @StartRequest f15 '' #zField
Dt0 @GridStep f16 '' #zField
Dt0 @EndTask f17 '' #zField
Dt0 @PushWFArc f18 '' #zField
Dt0 @PushWFArc f19 '' #zField
Dt0 @StartRequest f20 '' #zField
Dt0 @EndTask f21 '' #zField
Dt0 @GridStep f22 '' #zField
Dt0 @PushWFArc f36 '' #zField
Dt0 @PushWFArc f38 '' #zField
Dt0 @StartRequest f48 '' #zField
Dt0 @RichDialog f55 '' #zField
Dt0 @PushWFArc f56 '' #zField
Dt0 @Alternative f59 '' #zField
Dt0 @GridStep f60 '' #zField
Dt0 @GridStep f61 '' #zField
Dt0 @EndTask f62 '' #zField
Dt0 @Alternative f63 '' #zField
Dt0 @PushWFArc f64 '' #zField
Dt0 @PushWFArc f65 '' #zField
Dt0 @PushWFArc f66 '' #zField
Dt0 @PushWFArc f67 '' #zField
Dt0 @PushWFArc f68 '' #zField
Dt0 @PushWFArc f57 '' #zField
Dt0 @GridStep f39 '' #zField
Dt0 @TaskSwitchSimple f40 '' #zField
Dt0 @EndTask f44 '' #zField
Dt0 @GridStep f45 '' #zField
Dt0 @StartRequest f46 '' #zField
Dt0 @PushWFArc f47 '' #zField
Dt0 @TkArc f49 '' #zField
Dt0 @PushWFArc f50 '' #zField
Dt0 @PushWFArc f51 '' #zField
Dt0 @StartRequest f52 '' #zField
Dt0 @RichDialog f53 '' #zField
Dt0 @PushWFArc f54 '' #zField
Dt0 @GridStep f58 '' #zField
Dt0 @PushWFArc f69 '' #zField
Dt0 @Alternative f70 '' #zField
Dt0 @PushWFArc f71 '' #zField
Dt0 @Trigger f72 '' #zField
Dt0 @PushWFArc f73 '' #zField
Dt0 @EndTask f74 '' #zField
Dt0 @PushWFArc f75 '' #zField
Dt0 @GridStep f76 '' #zField
Dt0 @PushWFArc f77 '' #zField
Dt0 @PushWFArc f78 '' #zField
>Proto Dt0 Dt0 DataCreation #zField
Dt0 f0 outLink createTasks.ivp #txt
Dt0 f0 type portalKit_test.DataCreationData #txt
Dt0 f0 inParamDecl '<java.lang.String taskStructureInfo> param;' #txt
Dt0 f0 inParamTable 'out.taskStructureInfo=param.taskStructureInfo;
' #txt
Dt0 f0 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f0 guid 153CACC26E436D14 #txt
Dt0 f0 requestEnabled false #txt
Dt0 f0 triggerEnabled true #txt
Dt0 f0 callSignature createTasks(String) #txt
Dt0 f0 persist false #txt
Dt0 f0 taskData 'TaskTriggered.ROL=SYSTEM
TaskTriggered.EXTYPE=0
TaskTriggered.EXPRI=2
TaskTriggered.TYPE=0
TaskTriggered.PRI=2
TaskTriggered.EXROL=Everybody' #txt
Dt0 f0 showInStartList 1 #txt
Dt0 f0 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>createTasks(String)</name>
        <nameStyle>19,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Dt0 f0 @C|.responsibility Everybody #txt
Dt0 f0 35 323 26 26 14 0 #rect
Dt0 f0 @|StartRequestIcon #fIcon
Dt0 f1 type portalKit_test.DataCreationData #txt
Dt0 f1 467 203 26 26 14 0 #rect
Dt0 f1 @|EndIcon #fIcon
Dt0 f5 type portalKit_test.DataCreationData #txt
Dt0 f5 467 243 26 26 14 0 #rect
Dt0 f5 @|EndIcon #fIcon
Dt0 f6 type portalKit_test.DataCreationData #txt
Dt0 f6 467 275 26 26 14 0 #rect
Dt0 f6 @|EndIcon #fIcon
Dt0 f23 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f23 actionTable 'out=in;
' #txt
Dt0 f23 actionCode 'import org.apache.commons.lang3.StringUtils;
in.caseName = in.taskStructureInfo + "_" + ivy.case.getId();
in.caseStructureInfo = StringUtils.replace(in.taskStructureInfo,StringUtils.SPACE,"_");' #txt
Dt0 f23 type portalKit_test.DataCreationData #txt
Dt0 f23 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>set case name</name>
        <nameStyle>13,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Dt0 f23 182 324 36 24 -33 -36 #rect
Dt0 f23 @|StepIcon #fIcon
Dt0 f25 outLink createTestDataWithCategory.ivp #txt
Dt0 f25 type portalKit_test.DataCreationData #txt
Dt0 f25 inParamDecl '<> param;' #txt
Dt0 f25 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f25 guid 153CAEDE745C4D37 #txt
Dt0 f25 requestEnabled true #txt
Dt0 f25 triggerEnabled false #txt
Dt0 f25 callSignature createTestDataWithCategory() #txt
Dt0 f25 persist false #txt
Dt0 f25 startName 'Create test data with category' #txt
Dt0 f25 taskData 'TaskTriggered.ROL=Everybody
TaskTriggered.EXTYPE=0
TaskTriggered.EXPRI=2
TaskTriggered.TYPE=0
TaskTriggered.PRI=2
TaskTriggered.EXROL=Everybody' #txt
Dt0 f25 caseData businessCase.attach=false #txt
Dt0 f25 showInStartList 1 #txt
Dt0 f25 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>createTestDataWithCategory.ivp</name>
    </language>
</elementInfo>
' #txt
Dt0 f25 @C|.responsibility Everybody #txt
Dt0 f25 35 83 26 26 -39 20 #rect
Dt0 f25 @|StartRequestIcon #fIcon
Dt0 f28 type portalKit_test.DataCreationData #txt
Dt0 f28 processCall 'Start Processes/DataCreation:createTasks(String)' #txt
Dt0 f28 doCall true #txt
Dt0 f28 requestActionDecl '<java.lang.String taskStructureInfo> param;
' #txt
Dt0 f28 requestMappingAction 'param.taskStructureInfo=in.handler.getNextTaskStructureInfo();
' #txt
Dt0 f28 responseActionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f28 responseMappingAction 'out=in;
' #txt
Dt0 f28 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>DataCreation</name>
        <nameStyle>12,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Dt0 f28 622 84 36 24 20 -2 #rect
Dt0 f28 @|TriggerIcon #fIcon
Dt0 f30 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f30 actionTable 'out=in;
' #txt
Dt0 f30 actionCode 'import ch.ivy.addon.portalkit.test.util.DataCreationHandler;
in.handler = new DataCreationHandler(in.numOfCats, in.numOfSubCats, in.numOfCasesPerSubCat);
' #txt
Dt0 f30 type portalKit_test.DataCreationData #txt
Dt0 f30 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>init handler</name>
        <nameStyle>12,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Dt0 f30 334 84 36 24 -29 -36 #rect
Dt0 f30 @|StepIcon #fIcon
Dt0 f32 type portalKit_test.DataCreationData #txt
Dt0 f32 402 82 28 28 14 0 #rect
Dt0 f32 @|AlternativeIcon #fIcon
Dt0 f33 expr out #txt
Dt0 f33 370 96 402 96 #arcP
Dt0 f29 expr in #txt
Dt0 f29 outCond in.handler.createMoreTasks() #txt
Dt0 f29 430 96 622 96 #arcP
Dt0 f34 type portalKit_test.DataCreationData #txt
Dt0 f34 691 139 26 26 14 0 #rect
Dt0 f34 @|EndIcon #fIcon
Dt0 f35 expr in #txt
Dt0 f35 416 110 691 152 #arcP
Dt0 f35 1 416 152 #addKink
Dt0 f35 1 0.4965635738831616 0 0 #arcLabel
Dt0 f27 targetWindow NEW #txt
Dt0 f27 targetDisplay TOP #txt
Dt0 f27 richDialogId ch.ivy.addon.portalkit.test.DefaultDialog #txt
Dt0 f27 startMethod start() #txt
Dt0 f27 type portalKit_test.DataCreationData #txt
Dt0 f27 requestActionDecl '<> param;' #txt
Dt0 f27 responseActionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f27 responseMappingAction 'out=in;
' #txt
Dt0 f27 isAsynch false #txt
Dt0 f27 isInnerRd false #txt
Dt0 f27 userContext '* ' #txt
Dt0 f27 382 252 36 24 20 -2 #rect
Dt0 f27 @|RichDialogIcon #fIcon
Dt0 f2 expr out #txt
Dt0 f2 418 253 468 222 #arcP
Dt0 f41 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f41 actionTable 'out=in;
' #txt
Dt0 f41 actionCode Thread.sleep(10); #txt
Dt0 f41 type portalKit_test.DataCreationData #txt
Dt0 f41 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Sleep a bit before
triggering new process</name>
        <nameStyle>41,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Dt0 f41 446 36 36 24 28 -17 #rect
Dt0 f41 @|StepIcon #fIcon
Dt0 f42 expr out #txt
Dt0 f42 640 84 482 48 #arcP
Dt0 f42 1 640 48 #addKink
Dt0 f42 1 0.48487282617628363 0 0 #arcLabel
Dt0 f26 expr out #txt
Dt0 f26 446 48 416 82 #arcP
Dt0 f26 1 416 48 #addKink
Dt0 f26 1 0.48487282617628363 0 0 #arcLabel
Dt0 f43 expr out #txt
Dt0 f43 61 336 182 336 #arcP
Dt0 f24 targetWindow NEW:card: #txt
Dt0 f24 targetDisplay TOP #txt
Dt0 f24 richDialogId ch.ivy.addon.portalkit.test.DataCreation #txt
Dt0 f24 startMethod start() #txt
Dt0 f24 type portalKit_test.DataCreationData #txt
Dt0 f24 requestActionDecl '<> param;' #txt
Dt0 f24 responseActionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f24 responseMappingAction 'out=in;
out.numOfCasesPerSubCat=result.numOfCasesPerSubCat;
out.numOfCats=result.numOfCats;
out.numOfSubCats=result.numOfSubCats;
' #txt
Dt0 f24 windowConfiguration '* ' #txt
Dt0 f24 isAsynch false #txt
Dt0 f24 isInnerRd false #txt
Dt0 f24 userContext '* ' #txt
Dt0 f24 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>input number of tasks</name>
        <nameStyle>21,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Dt0 f24 246 84 36 24 -70 -34 #rect
Dt0 f24 @|RichDialogIcon #fIcon
Dt0 f37 expr out #txt
Dt0 f37 61 96 246 96 #arcP
Dt0 f31 expr out #txt
Dt0 f31 282 96 334 96 #arcP
Dt0 f3 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f3 actionTable 'out=in1;
' #txt
Dt0 f3 outTypes "portalKit_test.DataCreationData","portalKit_test.DataCreationData","portalKit_test.DataCreationData" #txt
Dt0 f3 outLinks "TaskA.ivp","TaskB.ivp","TaskC.ivp" #txt
Dt0 f3 caseData 'case.name=<%\=in1.caseName%>
case.category=<%\=in1.caseStructureInfo%>' #txt
Dt0 f3 taskData 'TaskA.CATEGORY=<%\=in1.taskStructureInfo%>
TaskA.EXPRI=2
TaskA.EXROL=Everybody
TaskA.EXTYPE=0
TaskA.NAM=<%\=in1.caseName%>_A
TaskA.PRI=3
TaskA.ROL=AXONIVY_PORTAL_ADMIN
TaskA.SKIP_TASK_LIST=false
TaskA.TYPE=0
TaskB.CATEGORY=<%\=in1.taskStructureInfo%>
TaskB.EXPRI=2
TaskB.EXROL=Everybody
TaskB.EXTYPE=0
TaskB.NAM=<%\=in1.caseName%>_B
TaskB.PRI=2
TaskB.ROL=AXONIVY_PORTAL_ADMIN
TaskB.SKIP_TASK_LIST=false
TaskB.TYPE=0
TaskC.CATEGORY=<%\=in1.taskStructureInfo%>
TaskC.EXPRI=2
TaskC.EXROL=Everybody
TaskC.EXTYPE=0
TaskC.NAM=<%\=in1.caseName%>_C
TaskC.PRI=1
TaskC.ROL=AXONIVY_PORTAL_ADMIN
TaskC.SKIP_TASK_LIST=false
TaskC.TYPE=0' #txt
Dt0 f3 type portalKit_test.DataCreationData #txt
Dt0 f3 template "" #txt
Dt0 f3 274 322 28 28 14 0 #rect
Dt0 f3 @|TaskSwitchIcon #fIcon
Dt0 f4 expr out #txt
Dt0 f4 type portalKit_test.DataCreationData #txt
Dt0 f4 var in1 #txt
Dt0 f4 218 336 274 336 #arcP
Dt0 f7 expr data #txt
Dt0 f7 outCond ivp=="TaskA.ivp" #txt
Dt0 f7 297 331 382 276 #arcP
Dt0 f8 expr data #txt
Dt0 f8 outCond ivp=="TaskB.ivp" #txt
Dt0 f8 298 332 467 261 #arcP
Dt0 f9 expr data #txt
Dt0 f9 outCond ivp=="TaskC.ivp" #txt
Dt0 f9 299 333 467 291 #arcP
Dt0 f10 outLink destroyTask.ivp #txt
Dt0 f10 type portalKit_test.DataCreationData #txt
Dt0 f10 inParamDecl '<> param;' #txt
Dt0 f10 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f10 guid 1559AE1CBC310259 #txt
Dt0 f10 requestEnabled true #txt
Dt0 f10 triggerEnabled false #txt
Dt0 f10 callSignature destroyTask() #txt
Dt0 f10 persist false #txt
Dt0 f10 taskData 'TaskTriggered.ROL=Everybody
TaskTriggered.EXTYPE=0
TaskTriggered.EXPRI=2
TaskTriggered.TYPE=0
TaskTriggered.PRI=2
TaskTriggered.EXROL=Everybody' #txt
Dt0 f10 showInStartList 1 #txt
Dt0 f10 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>DestroyTask</name>
        <nameStyle>11,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Dt0 f10 @C|.responsibility Everybody #txt
Dt0 f10 35 467 26 26 14 0 #rect
Dt0 f10 @|StartRequestIcon #fIcon
Dt0 f11 type portalKit_test.DataCreationData #txt
Dt0 f11 307 467 26 26 14 0 #rect
Dt0 f11 @|EndIcon #fIcon
Dt0 f13 targetWindow NEW:card: #txt
Dt0 f13 targetDisplay TOP #txt
Dt0 f13 richDialogId ch.ivy.addon.portalkit.showroom.multiapp.tasks.DestroyTaskPage #txt
Dt0 f13 startMethod start() #txt
Dt0 f13 type portalKit_test.DataCreationData #txt
Dt0 f13 requestActionDecl '<> param;' #txt
Dt0 f13 responseActionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f13 responseMappingAction 'out=in;
' #txt
Dt0 f13 windowConfiguration '* ' #txt
Dt0 f13 isAsynch false #txt
Dt0 f13 isInnerRd false #txt
Dt0 f13 userContext '* ' #txt
Dt0 f13 174 468 36 24 20 -2 #rect
Dt0 f13 @|RichDialogIcon #fIcon
Dt0 f14 expr out #txt
Dt0 f14 61 480 174 480 #arcP
Dt0 f12 expr out #txt
Dt0 f12 210 480 307 480 #arcP
Dt0 f15 outLink createTestUser.ivp #txt
Dt0 f15 type portalKit_test.DataCreationData #txt
Dt0 f15 inParamDecl '<> param;' #txt
Dt0 f15 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f15 guid 1608D2E8AE8B452C #txt
Dt0 f15 requestEnabled true #txt
Dt0 f15 triggerEnabled false #txt
Dt0 f15 callSignature createTestUser() #txt
Dt0 f15 persist false #txt
Dt0 f15 startName 'Create test user' #txt
Dt0 f15 taskData 'TaskTriggered.ROL=Everybody
TaskTriggered.EXTYPE=0
TaskTriggered.EXPRI=2
TaskTriggered.TYPE=0
TaskTriggered.PRI=2
TaskTriggered.EXROL=Everybody' #txt
Dt0 f15 caseData businessCase.attach=true #txt
Dt0 f15 showInStartList 1 #txt
Dt0 f15 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>createTestUser.ivp</name>
        <nameStyle>18,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Dt0 f15 @C|.responsibility Everybody #txt
Dt0 f15 81 561 30 30 -51 17 #rect
Dt0 f15 @|StartRequestIcon #fIcon
Dt0 f16 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f16 actionTable 'out=in;
' #txt
Dt0 f16 actionCode 'import java.util.Locale;
if (ivy.wf.getSecurityContext().findUser("test_change_password_user") != null) {
	ivy.wf.getSecurityContext().deleteUser("test_change_password_user");
}
ivy.wf.getSecurityContext().createUser("test_change_password_user", "Elton", "123", Locale.ENGLISH, "", "");' #txt
Dt0 f16 security system #txt
Dt0 f16 type portalKit_test.DataCreationData #txt
Dt0 f16 152 554 112 44 0 -8 #rect
Dt0 f16 @|StepIcon #fIcon
Dt0 f17 type portalKit_test.DataCreationData #txt
Dt0 f17 321 561 30 30 0 15 #rect
Dt0 f17 @|EndIcon #fIcon
Dt0 f18 expr out #txt
Dt0 f18 264 576 321 576 #arcP
Dt0 f19 expr out #txt
Dt0 f19 111 576 152 576 #arcP
Dt0 f20 outLink createRelatedTasksTestUser.ivp #txt
Dt0 f20 type portalKit_test.DataCreationData #txt
Dt0 f20 inParamDecl '<> param;' #txt
Dt0 f20 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f20 guid 16178D3DE23E3373 #txt
Dt0 f20 requestEnabled true #txt
Dt0 f20 triggerEnabled false #txt
Dt0 f20 callSignature createRelatedTasksTestUser() #txt
Dt0 f20 persist false #txt
Dt0 f20 taskData 'TaskTriggered.ROL=Everybody
TaskTriggered.EXTYPE=0
TaskTriggered.EXPRI=2
TaskTriggered.TYPE=0
TaskTriggered.PRI=2
TaskTriggered.EXROL=Everybody' #txt
Dt0 f20 caseData businessCase.attach=true #txt
Dt0 f20 showInStartList 1 #txt
Dt0 f20 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>createRelatedTasksTestUser.ivp</name>
    </language>
</elementInfo>
' #txt
Dt0 f20 @C|.responsibility Everybody #txt
Dt0 f20 65 721 30 30 -75 23 #rect
Dt0 f20 @|StartRequestIcon #fIcon
Dt0 f21 type portalKit_test.DataCreationData #txt
Dt0 f21 337 721 30 30 0 15 #rect
Dt0 f21 @|EndIcon #fIcon
Dt0 f22 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f22 actionTable 'out=in;
' #txt
Dt0 f22 actionCode 'if (ivy.wf.getSecurityContext().findUser("test_related_tasks_user") != null) {
	ivy.wf.getSecurityContext().deleteUser("test_related_tasks_user");
}
ivy.wf.getSecurityContext().createUser("test_related_tasks_user", "Related Tasks User", "+d3m0++", java.util.Locale.ENGLISH, "", "");' #txt
Dt0 f22 security system #txt
Dt0 f22 type portalKit_test.DataCreationData #txt
Dt0 f22 168 714 112 44 0 -8 #rect
Dt0 f22 @|StepIcon #fIcon
Dt0 f36 expr out #txt
Dt0 f36 95 736 168 736 #arcP
Dt0 f38 expr out #txt
Dt0 f38 280 736 337 736 #arcP
Dt0 f48 outLink createTestUsers.ivp #txt
Dt0 f48 type portalKit_test.DataCreationData #txt
Dt0 f48 inParamDecl '<> param;' #txt
Dt0 f48 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f48 guid 167A72E7CF4DFE97 #txt
Dt0 f48 requestEnabled true #txt
Dt0 f48 triggerEnabled false #txt
Dt0 f48 callSignature createTestUsers() #txt
Dt0 f48 persist false #txt
Dt0 f48 startName 'Create multiple test users' #txt
Dt0 f48 startDescription 'Create multiple test users' #txt
Dt0 f48 taskData 'TaskTriggered.ROL=Everybody
TaskTriggered.EXTYPE=0
TaskTriggered.EXPRI=2
TaskTriggered.TYPE=0
TaskTriggered.PRI=2
TaskTriggered.EXROL=Everybody' #txt
Dt0 f48 caseData businessCase.attach=true #txt
Dt0 f48 showInStartList 1 #txt
Dt0 f48 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>createTestUsers.ivp</name>
        <nameStyle>19,5,7
</nameStyle>
        <desc>create multiple test users</desc>
    </language>
</elementInfo>
' #txt
Dt0 f48 @C|.responsibility Everybody #txt
Dt0 f48 593 369 30 30 -55 17 #rect
Dt0 f48 @|StartRequestIcon #fIcon
Dt0 f55 targetWindow NEW #txt
Dt0 f55 targetDisplay TOP #txt
Dt0 f55 richDialogId ch.ivy.addon.portalkit.test.CreateMultipleTestUsers #txt
Dt0 f55 startMethod start() #txt
Dt0 f55 type portalKit_test.DataCreationData #txt
Dt0 f55 requestActionDecl '<> param;' #txt
Dt0 f55 responseActionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f55 responseMappingAction 'out=in;
out.numerOfUsers=result.numberOfUsers;
' #txt
Dt0 f55 isAsynch false #txt
Dt0 f55 isInnerRd false #txt
Dt0 f55 userContext '* ' #txt
Dt0 f55 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Input number of user</name>
        <nameStyle>20,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Dt0 f55 720 362 128 44 -57 -8 #rect
Dt0 f55 @|RichDialogIcon #fIcon
Dt0 f56 expr out #txt
Dt0 f56 623 384 720 384 #arcP
Dt0 f59 type portalKit_test.DataCreationData #txt
Dt0 f59 1080 368 32 32 0 16 #rect
Dt0 f59 @|AlternativeIcon #fIcon
Dt0 f60 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f60 actionTable 'out=in;
' #txt
Dt0 f60 actionCode 'import ch.ivyteam.ivy.security.IUser;
List<IUser> users = ivy.request.getApplication().getSecurityContext().getUsers();
in.numberOfUsersInApplication = users.size();
in.counter = 1;' #txt
Dt0 f60 security system #txt
Dt0 f60 type portalKit_test.DataCreationData #txt
Dt0 f60 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Count total user 
in application</name>
        <nameStyle>32,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Dt0 f60 904 362 128 44 -42 -16 #rect
Dt0 f60 @|StepIcon #fIcon
Dt0 f61 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f61 actionTable 'out=in;
' #txt
Dt0 f61 actionCode 'import java.util.Locale;
Integer userIndex =  in.numberOfUsersInApplication + in.counter;
String username = "testuser_" + userIndex;

if (ivy.wf.getSecurityContext().findUser(username) != null) {
	ivy.wf.getSecurityContext().deleteUser(username);
}
ivy.wf.getSecurityContext().createUser(username, username, "+d3m0++", Locale.ENGLISH, "", "");
in.counter++;' #txt
Dt0 f61 security system #txt
Dt0 f61 type portalKit_test.DataCreationData #txt
Dt0 f61 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Create test user</name>
        <nameStyle>16,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Dt0 f61 1160 362 112 44 -44 -8 #rect
Dt0 f61 @|StepIcon #fIcon
Dt0 f62 type portalKit_test.DataCreationData #txt
Dt0 f62 1329 433 30 30 0 15 #rect
Dt0 f62 @|EndIcon #fIcon
Dt0 f63 type portalKit_test.DataCreationData #txt
Dt0 f63 1328 368 32 32 0 16 #rect
Dt0 f63 @|AlternativeIcon #fIcon
Dt0 f64 expr in #txt
Dt0 f64 1096 400 1329 448 #arcP
Dt0 f64 1 1096 448 #addKink
Dt0 f64 1 0.3661788073886111 0 0 #arcLabel
Dt0 f65 expr in #txt
Dt0 f65 1344 368 1096 368 #arcP
Dt0 f65 1 1344 296 #addKink
Dt0 f65 2 1096 296 #addKink
Dt0 f65 1 0.5 0 0 #arcLabel
Dt0 f66 expr out #txt
Dt0 f66 1272 384 1328 384 #arcP
Dt0 f67 expr out #txt
Dt0 f67 1032 384 1080 384 #arcP
Dt0 f68 expr in #txt
Dt0 f68 outCond 'in.counter <= in.numerOfUsers' #txt
Dt0 f68 1112 384 1160 384 #arcP
Dt0 f57 expr out #txt
Dt0 f57 848 384 904 384 #arcP
Dt0 f39 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f39 actionTable 'out=in;
' #txt
Dt0 f39 actionCode 'import ch.ivy.addon.portalkit.util.CaseUtils;
import ch.ivy.addon.portalkit.util.TaskUtils;
TaskUtils.setHidePropertyToHideInPortal(ivy.task);
CaseUtils.setHidePropertyToHideInPortal(ivy.case);' #txt
Dt0 f39 security system #txt
Dt0 f39 type portalKit_test.DataCreationData #txt
Dt0 f39 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Hide 2nd task</name>
        <nameStyle>13,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Dt0 f39 922 554 112 44 -38 -8 #rect
Dt0 f39 @|StepIcon #fIcon
Dt0 f40 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f40 actionTable 'out=in1;
' #txt
Dt0 f40 outTypes "portalKit_test.DataCreationData" #txt
Dt0 f40 outLinks "TaskA.ivp" #txt
Dt0 f40 caseData 'case.name=Case contains hidden task' #txt
Dt0 f40 taskData 'TaskA.DESC=Task, which has the HIDE additional property, won''t be displayed in Portal
TaskA.EXPRI=2
TaskA.EXROL=Everybody
TaskA.EXTYPE=0
TaskA.NAM=Second Hidden Task
TaskA.PRI=2
TaskA.ROL=SYSTEM
TaskA.SKIP_TASK_LIST=true
TaskA.TYPE=0' #txt
Dt0 f40 type portalKit_test.DataCreationData #txt
Dt0 f40 template "" #txt
Dt0 f40 841 561 30 30 0 16 #rect
Dt0 f40 @|TaskSwitchSimpleIcon #fIcon
Dt0 f44 type portalKit_test.DataCreationData #txt
Dt0 f44 1073 561 30 30 0 15 #rect
Dt0 f44 @|EndIcon #fIcon
Dt0 f45 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f45 actionTable 'out=in;
' #txt
Dt0 f45 actionCode 'import ch.ivy.addon.portalkit.util.TaskUtils;
TaskUtils.setHidePropertyToHideInPortal(ivy.task);' #txt
Dt0 f45 security system #txt
Dt0 f45 type portalKit_test.DataCreationData #txt
Dt0 f45 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Hide 1st task</name>
        <nameStyle>13,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Dt0 f45 680 554 112 44 -36 -8 #rect
Dt0 f45 @|StepIcon #fIcon
Dt0 f46 outLink createHiddenTaskAndCase.ivp #txt
Dt0 f46 type portalKit_test.DataCreationData #txt
Dt0 f46 inParamDecl '<> param;' #txt
Dt0 f46 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f46 guid 167BAEEB324DF265 #txt
Dt0 f46 requestEnabled true #txt
Dt0 f46 triggerEnabled true #txt
Dt0 f46 callSignature createHiddenTaskAndCase() #txt
Dt0 f46 persist false #txt
Dt0 f46 startName 'Process contains hidden task and cases' #txt
Dt0 f46 startDescription 'Task and Case, which has the HIDE additional property, won''t be displayed in Portal' #txt
Dt0 f46 taskData 'TaskTriggered.ROL=SYSTEM
TaskTriggered.EXTYPE=0
TaskTriggered.EXPRI=2
TaskTriggered.TYPE=0
TaskTriggered.PRI=2
TaskTriggered.EXROL=Everybody
TaskTriggered.NAM=First hidden Task
TaskTriggered.DESC=Task, which has the HIDE additional property, won''t be displayed in Portal' #txt
Dt0 f46 caseData businessCase.attach=true #txt
Dt0 f46 showInStartList 0 #txt
Dt0 f46 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>createHiddenTaskAndCase()</name>
        <nameStyle>25,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Dt0 f46 @C|.responsibility Everybody #txt
Dt0 f46 601 561 30 30 -91 22 #rect
Dt0 f46 @|StartRequestIcon #fIcon
Dt0 f47 expr out #txt
Dt0 f47 1034 576 1073 576 #arcP
Dt0 f49 expr out #txt
Dt0 f49 type portalKit_test.DataCreationData #txt
Dt0 f49 var in1 #txt
Dt0 f49 792 576 841 576 #arcP
Dt0 f50 expr out #txt
Dt0 f50 631 576 680 576 #arcP
Dt0 f51 expr data #txt
Dt0 f51 outCond ivp=="TaskA.ivp" #txt
Dt0 f51 871 576 922 576 #arcP
Dt0 f52 outLink createHiddenTasksAndCases.ivp #txt
Dt0 f52 type portalKit_test.DataCreationData #txt
Dt0 f52 inParamDecl '<> param;' #txt
Dt0 f52 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f52 guid 167BB2EBF5276070 #txt
Dt0 f52 requestEnabled true #txt
Dt0 f52 triggerEnabled false #txt
Dt0 f52 callSignature createHiddenTasksAndCases() #txt
Dt0 f52 persist false #txt
Dt0 f52 startName 'Process to create hidden tasks and cases' #txt
Dt0 f52 startDescription 'Process to create hidden tasks and cases' #txt
Dt0 f52 taskData 'TaskTriggered.ROL=Everybody
TaskTriggered.EXTYPE=0
TaskTriggered.EXPRI=2
TaskTriggered.TYPE=0
TaskTriggered.PRI=2
TaskTriggered.EXROL=Everybody' #txt
Dt0 f52 caseData businessCase.attach=true #txt
Dt0 f52 showInStartList 1 #txt
Dt0 f52 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>createHiddenTasksAndCases.ivp</name>
        <nameStyle>29,5,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Dt0 f52 @C|.responsibility Everybody #txt
Dt0 f52 897 81 30 30 -92 17 #rect
Dt0 f52 @|StartRequestIcon #fIcon
Dt0 f53 targetWindow NEW #txt
Dt0 f53 targetDisplay TOP #txt
Dt0 f53 richDialogId ch.ivy.addon.portalkit.test.CreateHiddenTasksAndCases #txt
Dt0 f53 startMethod start() #txt
Dt0 f53 type portalKit_test.DataCreationData #txt
Dt0 f53 requestActionDecl '<> param;' #txt
Dt0 f53 responseActionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f53 responseMappingAction 'out=in;
out.numberOfCases=result.numberOfCases;
' #txt
Dt0 f53 isAsynch false #txt
Dt0 f53 isInnerRd false #txt
Dt0 f53 userContext '* ' #txt
Dt0 f53 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>Input number of cases</name>
        <nameStyle>21,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Dt0 f53 1024 74 128 44 -61 -8 #rect
Dt0 f53 @|RichDialogIcon #fIcon
Dt0 f54 expr out #txt
Dt0 f54 927 96 1024 96 #arcP
Dt0 f58 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f58 actionTable 'out=in;
' #txt
Dt0 f58 actionCode 'in.counter = 1;' #txt
Dt0 f58 type portalKit_test.DataCreationData #txt
Dt0 f58 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>init counter</name>
        <nameStyle>12,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Dt0 f58 1192 74 112 44 -30 -8 #rect
Dt0 f58 @|StepIcon #fIcon
Dt0 f69 expr out #txt
Dt0 f69 1152 96 1192 96 #arcP
Dt0 f70 type portalKit_test.DataCreationData #txt
Dt0 f70 1360 80 32 32 0 16 #rect
Dt0 f70 @|AlternativeIcon #fIcon
Dt0 f71 expr out #txt
Dt0 f71 1304 96 1360 96 #arcP
Dt0 f72 type portalKit_test.DataCreationData #txt
Dt0 f72 processCall 'Start Processes/DataCreation:createHiddenTaskAndCase()' #txt
Dt0 f72 doCall true #txt
Dt0 f72 requestActionDecl '<> param;
' #txt
Dt0 f72 responseActionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f72 responseMappingAction 'out=in;
' #txt
Dt0 f72 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>DataCreation</name>
    </language>
</elementInfo>
' #txt
Dt0 f72 1432 74 112 44 -36 -8 #rect
Dt0 f72 @|TriggerIcon #fIcon
Dt0 f73 expr in #txt
Dt0 f73 outCond 'in.counter <= in.numberOfCases' #txt
Dt0 f73 1392 96 1432 96 #arcP
Dt0 f74 type portalKit_test.DataCreationData #txt
Dt0 f74 1361 177 30 30 0 15 #rect
Dt0 f74 @|EndIcon #fIcon
Dt0 f75 expr in #txt
Dt0 f75 1376 112 1376 177 #arcP
Dt0 f76 actionDecl 'portalKit_test.DataCreationData out;
' #txt
Dt0 f76 actionTable 'out=in;
' #txt
Dt0 f76 actionCode in.counter++; #txt
Dt0 f76 type portalKit_test.DataCreationData #txt
Dt0 f76 @C|.xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language>
        <name>increate counter</name>
        <nameStyle>16,7
</nameStyle>
    </language>
</elementInfo>
' #txt
Dt0 f76 1576 74 112 44 -44 -8 #rect
Dt0 f76 @|StepIcon #fIcon
Dt0 f77 expr out #txt
Dt0 f77 1544 96 1576 96 #arcP
Dt0 f78 expr out #txt
Dt0 f78 1632 74 1376 80 #arcP
Dt0 f78 1 1632 24 #addKink
Dt0 f78 2 1376 24 #addKink
Dt0 f78 1 0.51171875 0 0 #arcLabel
>Proto Dt0 .type portalKit_test.DataCreationData #txt
>Proto Dt0 .processKind NORMAL #txt
>Proto Dt0 .xml '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<elementInfo>
    <language/>
</elementInfo>
' #txt
>Proto Dt0 0 0 32 24 18 0 #rect
>Proto Dt0 @|BIcon #fIcon
Dt0 f30 mainOut f33 tail #connect
Dt0 f33 head f32 in #connect
Dt0 f32 out f29 tail #connect
Dt0 f29 head f28 mainIn #connect
Dt0 f32 out f35 tail #connect
Dt0 f35 head f34 mainIn #connect
Dt0 f27 mainOut f2 tail #connect
Dt0 f2 head f1 mainIn #connect
Dt0 f28 mainOut f42 tail #connect
Dt0 f42 head f41 mainIn #connect
Dt0 f41 mainOut f26 tail #connect
Dt0 f26 head f32 in #connect
Dt0 f0 mainOut f43 tail #connect
Dt0 f43 head f23 mainIn #connect
Dt0 f25 mainOut f37 tail #connect
Dt0 f37 head f24 mainIn #connect
Dt0 f24 mainOut f31 tail #connect
Dt0 f31 head f30 mainIn #connect
Dt0 f23 mainOut f4 tail #connect
Dt0 f4 head f3 in #connect
Dt0 f3 out f7 tail #connect
Dt0 f7 head f27 mainIn #connect
Dt0 f3 out f8 tail #connect
Dt0 f8 head f5 mainIn #connect
Dt0 f3 out f9 tail #connect
Dt0 f9 head f6 mainIn #connect
Dt0 f10 mainOut f14 tail #connect
Dt0 f14 head f13 mainIn #connect
Dt0 f13 mainOut f12 tail #connect
Dt0 f12 head f11 mainIn #connect
Dt0 f16 mainOut f18 tail #connect
Dt0 f18 head f17 mainIn #connect
Dt0 f15 mainOut f19 tail #connect
Dt0 f19 head f16 mainIn #connect
Dt0 f20 mainOut f36 tail #connect
Dt0 f36 head f22 mainIn #connect
Dt0 f22 mainOut f38 tail #connect
Dt0 f38 head f21 mainIn #connect
Dt0 f48 mainOut f56 tail #connect
Dt0 f56 head f55 mainIn #connect
Dt0 f59 out f68 tail #connect
Dt0 f68 head f61 mainIn #connect
Dt0 f60 mainOut f67 tail #connect
Dt0 f67 head f59 in #connect
Dt0 f61 mainOut f66 tail #connect
Dt0 f66 head f63 in #connect
Dt0 f63 out f65 tail #connect
Dt0 f65 head f59 in #connect
Dt0 f59 out f64 tail #connect
Dt0 f64 head f62 mainIn #connect
Dt0 f55 mainOut f57 tail #connect
Dt0 f57 head f60 mainIn #connect
Dt0 f46 mainOut f50 tail #connect
Dt0 f50 head f45 mainIn #connect
Dt0 f45 mainOut f49 tail #connect
Dt0 f49 head f40 in #connect
Dt0 f40 out f51 tail #connect
Dt0 f51 head f39 mainIn #connect
Dt0 f39 mainOut f47 tail #connect
Dt0 f47 head f44 mainIn #connect
Dt0 f52 mainOut f54 tail #connect
Dt0 f54 head f53 mainIn #connect
Dt0 f53 mainOut f69 tail #connect
Dt0 f69 head f58 mainIn #connect
Dt0 f58 mainOut f71 tail #connect
Dt0 f71 head f70 in #connect
Dt0 f70 out f73 tail #connect
Dt0 f73 head f72 mainIn #connect
Dt0 f70 out f75 tail #connect
Dt0 f75 head f74 mainIn #connect
Dt0 f72 mainOut f77 tail #connect
Dt0 f77 head f76 mainIn #connect
Dt0 f76 mainOut f78 tail #connect
Dt0 f78 head f70 in #connect
