{
  "$schema" : "https://json-schema.axonivy.com/process/13.1.2/process.json",
  "id" : "14DE09882B540AD5",
  "config" : {
    "data" : "portalKit_test.GrantPermissionsData"
  },
  "elements" : [ {
      "id" : "f0",
      "type" : "RequestStart",
      "name" : "grantAllPermissionsToCurrentUser.ivp",
      "config" : {
        "signature" : "grantAllPermissionsToCurrentUser",
        "request" : {
          "name" : "Grant all permissions to current user in Designer"
        }
      },
      "visual" : {
        "at" : { "x" : 80, "y" : 96 },
        "labelOffset" : { "x" : 53, "y" : -16 }
      },
      "connect" : [
        { "id" : "f4", "to" : "f3" }
      ]
    }, {
      "id" : "f1",
      "type" : "TaskEnd",
      "visual" : {
        "at" : { "x" : 80, "y" : 352 }
      }
    }, {
      "id" : "f3",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "import ch.ivy.addon.portalkit.test.util.SecurityUtils;",
            "",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.TASK_WRITE_EXPIRY_TIMESTAMP, ivy.session.getSessionUser());"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 80, "y" : 224 }
      },
      "connect" : [
        { "id" : "f2", "to" : "f1" }
      ]
    }, {
      "id" : "f10",
      "type" : "RequestStart",
      "name" : "updatePermissionsOfTestUsers.ivp",
      "config" : {
        "signature" : "updatePermissionsOfTestUsers",
        "request" : {
          "description" : "updatePermissionsOfDefaultUsersAsPreconditionToRunTests"
        }
      },
      "visual" : {
        "at" : { "x" : 408, "y" : 96 },
        "labelOffset" : { "x" : 28, "y" : -11 }
      },
      "connect" : [
        { "id" : "f15", "to" : "f14" }
      ]
    }, {
      "id" : "f14",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivy.addon.portalkit.test.util.SecurityUtils;",
            "",
            "SecurityUtils.updatePermissionsOfTestUsers();"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 408, "y" : 193 }
      },
      "connect" : [
        { "id" : "f12", "to" : "f11" }
      ]
    }, {
      "id" : "f11",
      "type" : "TaskEnd",
      "visual" : {
        "at" : { "x" : 408, "y" : 352 }
      }
    }, {
      "id" : "f5",
      "type" : "RequestStart",
      "name" : "grantTaskReadAllPermissionsToCurrentUser.ivp",
      "config" : {
        "signature" : "grantTaskReadAllPermissionsToCurrentUser",
        "request" : {
          "name" : "Grant TASK_READ_ALL to current user in Designer"
        }
      },
      "visual" : {
        "at" : { "x" : 79, "y" : 464 },
        "labelOffset" : { "x" : 81, "y" : -13 }
      },
      "connect" : [
        { "id" : "f8", "to" : "f6" }
      ]
    }, {
      "id" : "f6",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "import ch.ivy.addon.portalkit.test.util.SecurityUtils;",
            "",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.TASK_READ_ALL, ivy.session.getSessionUser());"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 168, "y" : 464 }
      },
      "connect" : [
        { "id" : "f9", "to" : "f7", "via" : [ { "x" : 408, "y" : 464 } ] }
      ]
    }, {
      "id" : "f13",
      "type" : "RequestStart",
      "name" : "grantCaseReadAllPermissionsToCurrentUser.ivp",
      "config" : {
        "signature" : "grantCaseReadAllPermissionsToCurrentUser",
        "request" : {
          "name" : "Grant CASE_READ_ALL permissions to current user in Designer"
        }
      },
      "visual" : {
        "at" : { "x" : 79, "y" : 527 },
        "labelOffset" : { "x" : 82, "y" : -11 }
      },
      "connect" : [
        { "id" : "f19", "to" : "f17" }
      ]
    }, {
      "id" : "f17",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.IPermission;",
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.CASE_READ_ALL, ivy.session.getSessionUser());"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 175, "y" : 527 }
      },
      "connect" : [
        { "id" : "f16", "to" : "f7" }
      ]
    }, {
      "id" : "f20",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.IPermission;",
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.TASK_READ_OWN_CASE_TASKS, ivy.session.getSessionUser());"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 175, "y" : 594 }
      },
      "connect" : [
        { "id" : "f18", "to" : "f7", "via" : [ { "x" : 408, "y" : 594 } ] }
      ]
    }, {
      "id" : "f21",
      "type" : "RequestStart",
      "name" : "grantTaskReadOwnCaseTaskPermissionsToCurrentUser.ivp",
      "config" : {
        "signature" : "grantTaskReadOwnCaseTaskPermissionsToCurrentUser",
        "request" : {
          "name" : "Grant TASK_READ_OWN_CASE_TASKS permissions to current user in Designer"
        }
      },
      "visual" : {
        "at" : { "x" : 79, "y" : 594 },
        "labelOffset" : { "x" : 107, "y" : -13 }
      },
      "connect" : [
        { "id" : "f24", "to" : "f20" }
      ]
    }, {
      "id" : "f7",
      "type" : "TaskEnd",
      "visual" : {
        "at" : { "x" : 408, "y" : 528 }
      }
    }, {
      "id" : "f22",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.IPermission;",
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "",
            "ISecurityContext.current().securityDescriptor().denyPermission(IPermission.TASK_READ_OWN_CASE_TASKS, ivy.session.getSessionUser());",
            "ISecurityContext.current().securityDescriptor().denyPermission(IPermission.TASK_READ_ALL, ivy.session.getSessionUser());",
            "ISecurityContext.current().securityDescriptor().denyPermission(IPermission.CASE_READ_ALL, ivy.session.getSessionUser());"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 176, "y" : 653 }
      },
      "connect" : [
        { "id" : "f26", "to" : "f7", "via" : [ { "x" : 408, "y" : 653 } ] }
      ]
    }, {
      "id" : "f23",
      "type" : "RequestStart",
      "name" : "denyReadAllPermissionFromCurrentUser.ivp",
      "config" : {
        "signature" : "denyReadAllPermissionFromCurrentUser",
        "request" : {
          "name" : "deny ReadAll permissions to current user in Designer"
        }
      },
      "visual" : {
        "at" : { "x" : 80, "y" : 653 },
        "labelOffset" : { "x" : 62, "y" : -13 }
      },
      "connect" : [
        { "id" : "f25", "to" : "f22" }
      ]
    }, {
      "id" : "f27",
      "type" : "RequestStart",
      "name" : "grantDocumentOfInvolvedCaseWritePemission.ivp",
      "config" : {
        "signature" : "grantDocumentOfInvolvedCaseWritePemission"
      },
      "visual" : {
        "at" : { "x" : 80, "y" : 704 },
        "labelOffset" : { "x" : 84, "y" : 40 }
      },
      "connect" : [
        { "id" : "f32", "to" : "f31" }
      ]
    }, {
      "id" : "f28",
      "type" : "RequestStart",
      "name" : "denyDocumentOfInvolvedCaseWritePemission.ivp",
      "config" : {
        "signature" : "denyDocumentOfInvolvedCaseWritePemission"
      },
      "visual" : {
        "at" : { "x" : 80, "y" : 768 },
        "labelOffset" : { "x" : 85 }
      },
      "connect" : [
        { "id" : "f34", "to" : "f33" }
      ]
    }, {
      "id" : "f31",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.IPermission;",
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.DOCUMENT_WRITE, ivy.session.getSessionUser());",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.DOCUMENT_OF_INVOLVED_CASE_WRITE, ivy.session.getSessionUser());"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 176, "y" : 704 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f29", "to" : "f7", "via" : [ { "x" : 408, "y" : 704 } ] }
      ]
    }, {
      "id" : "f33",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.IPermission;",
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "",
            "ISecurityContext.current().securityDescriptor().denyPermission(IPermission.DOCUMENT_WRITE, ivy.session.getSessionUser());",
            "ISecurityContext.current().securityDescriptor().denyPermission(IPermission.DOCUMENT_OF_INVOLVED_CASE_WRITE, ivy.session.getSessionUser());"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 176, "y" : 768 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f30", "to" : "f7", "via" : [ { "x" : 408, "y" : 768 } ] }
      ]
    }, {
      "id" : "f35",
      "type" : "RequestStart",
      "name" : "grantOnlyDelegateOwnTasksPermission.ivp",
      "config" : {
        "signature" : "grantOnlyDelegateOwnTasksPermission"
      },
      "visual" : {
        "at" : { "x" : 64, "y" : 848 },
        "labelOffset" : { "x" : 97, "y" : 37 }
      },
      "connect" : [
        { "id" : "f38", "to" : "f37" }
      ]
    }, {
      "id" : "f37",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import ch.ivyteam.ivy.application.IApplication;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "",
            "IPermission delegateOwnTaskPermission = IPermissionRepository.instance().findByName(PortalPermission.TASK_WRITE_ACTIVATOR_OWN_TASKS.getValue());",
            "if(#delegateOwnTaskPermission is initialized) {",
            "",
            "  ISecurityContext.current().securityDescriptor().grantPermission(delegateOwnTaskPermission, ivy.session.getSessionUser());",
            "}",
            "",
            "ISecurityContext.current().securityDescriptor().denyPermission(IPermission.TASK_WRITE_ACTIVATOR, ivy.session.getSessionUser());"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 176, "y" : 848 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f36", "to" : "f7", "via" : [ { "x" : 408, "y" : 848 } ] }
      ]
    }, {
      "id" : "f39",
      "type" : "RequestStart",
      "name" : "undoOnlyDelegateOwnTasksPermission.ivp",
      "config" : {
        "signature" : "undoOnlyDelegateOwnTasksPermission"
      },
      "visual" : {
        "at" : { "x" : 56, "y" : 944 },
        "size" : { "width" : 32, "height" : 32 },
        "labelOffset" : { "x" : 88, "y" : 45 }
      },
      "connect" : [
        { "id" : "f42", "to" : "f41" }
      ]
    }, {
      "id" : "f41",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import ch.ivyteam.ivy.application.IApplication;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "",
            "IPermission delegateOwnTaskPermission = IPermissionRepository.instance().findByName(PortalPermission.TASK_WRITE_ACTIVATOR_OWN_TASKS.getValue());",
            "if(#delegateOwnTaskPermission is initialized) {",
            "  ISecurityContext.current().securityDescriptor().denyPermission(delegateOwnTaskPermission, ivy.session.getSessionUser());",
            "}",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.TASK_WRITE_ACTIVATOR, ivy.session.getSessionUser());"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 176, "y" : 944 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f40", "to" : "f7", "via" : [ { "x" : 408, "y" : 944 } ] }
      ]
    }, {
      "id" : "f43",
      "type" : "RequestStart",
      "name" : "denyPortalPermission.ivp",
      "config" : {
        "signature" : "denyPortalPermission"
      },
      "visual" : {
        "at" : { "x" : 48, "y" : 1040 },
        "labelOffset" : { "x" : 45, "y" : 41 }
      },
      "connect" : [
        { "id" : "f44", "to" : "f45" }
      ]
    }, {
      "id" : "f47",
      "type" : "RequestStart",
      "name" : "grantPortalPermission.ivp",
      "config" : {
        "signature" : "grantPortalPermission"
      },
      "visual" : {
        "at" : { "x" : 48, "y" : 1136 },
        "labelOffset" : { "x" : 55, "y" : 50 }
      },
      "connect" : [
        { "id" : "f48", "to" : "f49" }
      ]
    }, {
      "id" : "f49",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "    IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.SHOW_CASE_DETAILS.getValue());",
            "    if (Objects.nonNull(iPermission)){",
            "      ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "    }",
            "    ",
            "    iPermission = IPermissionRepository.instance().findByName(PortalPermission.SHOW_ALL_TASKS_OF_CASE.getValue());",
            "    if (Objects.nonNull(iPermission)){",
            "      ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "    }",
            "    ",
            "    iPermission = IPermissionRepository.instance().findByName(PortalPermission.TASK_CASE_ADD_NOTE.getValue());",
            "    if (Objects.nonNull(iPermission)){",
            "      ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "    }",
            "    ",
            "    iPermission = IPermissionRepository.instance().findByName(PortalPermission.TASK_CASE_SHOW_MORE_NOTE.getValue());",
            "    if (Objects.nonNull(iPermission)){",
            "      ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "    }",
            "    ",
            "    iPermission = IPermissionRepository.instance().findByName(PortalPermission.TASK_DISPLAY_RESET_ACTION.getValue());",
            "    if (Objects.nonNull(iPermission)){",
            "      ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "    }",
            "    ",
            "    iPermission = IPermissionRepository.instance().findByName(PortalPermission.TASK_DISPLAY_RESERVE_ACTION.getValue());",
            "    if (Objects.nonNull(iPermission)){",
            "      ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "    }",
            "    ",
            "    iPermission = IPermissionRepository.instance().findByName(PortalPermission.TASK_DISPLAY_DELEGATE_ACTION.getValue());",
            "    if (Objects.nonNull(iPermission)){",
            "      ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "    }",
            "    ",
            "    iPermission = IPermissionRepository.instance().findByName(PortalPermission.TASK_DISPLAY_ADDITIONAL_OPTIONS.getValue());",
            "    if (Objects.nonNull(iPermission)){",
            "      ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "    }"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 200, "y" : 1136 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f50", "to" : "f7", "via" : [ { "x" : 408, "y" : 1136 } ] }
      ]
    }, {
      "id" : "f60",
      "type" : "RequestStart",
      "name" : "denySpecificPortalPermission.ivp",
      "config" : {
        "signature" : "denySpecificPortalPermission",
        "input" : {
          "params" : [
            { "name" : "portalPermission", "type" : "String", "desc" : "" }
          ],
          "map" : {
            "out.portalPermission" : "param.portalPermission"
          }
        },
        "request" : {
          "isVisibleOnStartList" : false
        }
      },
      "visual" : {
        "at" : { "x" : 48, "y" : 1232 },
        "labelOffset" : { "x" : 73, "y" : 38 }
      },
      "connect" : [
        { "id" : "f64", "to" : "f63" }
      ]
    }, {
      "id" : "f63",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(in.portalPermission);",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 200, "y" : 1232 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f66", "to" : "f7", "via" : [ { "x" : 408, "y" : 1232 } ] }
      ]
    }, {
      "id" : "f62",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(in.portalPermission);",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 200, "y" : 1296 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f67", "to" : "f7", "via" : [ { "x" : 408, "y" : 1296 } ] }
      ]
    }, {
      "id" : "f45",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import ch.ivyteam.ivy.application.IApplication;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "    IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.SHOW_CASE_DETAILS.getValue());",
            "    if (Objects.nonNull(iPermission)){",
            "      ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "    }",
            "    ",
            "    iPermission = IPermissionRepository.instance().findByName(PortalPermission.SHOW_ALL_TASKS_OF_CASE.getValue());",
            "    if (Objects.nonNull(iPermission)){",
            "      ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "    }",
            "    ",
            "    iPermission = IPermissionRepository.instance().findByName(PortalPermission.TASK_CASE_ADD_NOTE.getValue());",
            "    if (Objects.nonNull(iPermission)){",
            "      ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "    }",
            "    ",
            "    iPermission = IPermissionRepository.instance().findByName(PortalPermission.TASK_CASE_SHOW_MORE_NOTE.getValue());",
            "    if (Objects.nonNull(iPermission)){",
            "      ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "    }",
            "    ",
            "    iPermission = IPermissionRepository.instance().findByName(PortalPermission.TASK_DISPLAY_RESET_ACTION.getValue());",
            "    if (Objects.nonNull(iPermission)){",
            "      ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "    }",
            "    ",
            "    iPermission = IPermissionRepository.instance().findByName(PortalPermission.TASK_DISPLAY_RESERVE_ACTION.getValue());",
            "    if (Objects.nonNull(iPermission)){",
            "      ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "    }",
            "    ",
            "    iPermission = IPermissionRepository.instance().findByName(PortalPermission.TASK_DISPLAY_DELEGATE_ACTION.getValue());",
            "    if (Objects.nonNull(iPermission)){",
            "      ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "    }",
            "    ",
            "    iPermission = IPermissionRepository.instance().findByName(PortalPermission.TASK_DISPLAY_ADDITIONAL_OPTIONS.getValue());",
            "    if (Objects.nonNull(iPermission)){",
            "      ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "    }"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 200, "y" : 1040 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f46", "to" : "f7", "via" : [ { "x" : 408, "y" : 1040 } ] }
      ]
    }, {
      "id" : "f61",
      "type" : "RequestStart",
      "name" : "grantSpecificPortalPermission.ivp",
      "config" : {
        "signature" : "grantSpecificPortalPermission",
        "input" : {
          "params" : [
            { "name" : "portalPermission", "type" : "String", "desc" : "" }
          ],
          "map" : {
            "out.portalPermission" : "param.portalPermission"
          }
        },
        "request" : {
          "isVisibleOnStartList" : false
        }
      },
      "visual" : {
        "at" : { "x" : 48, "y" : 1296 },
        "labelOffset" : { "x" : 77, "y" : 40 }
      },
      "connect" : [
        { "id" : "f65", "to" : "f62" }
      ]
    }, {
      "id" : "f51",
      "type" : "RequestStart",
      "name" : "denyAccessFullListPermissions.ivp",
      "config" : {
        "signature" : "denyAccessFullListPermissions"
      },
      "visual" : {
        "at" : { "x" : 48, "y" : 1360 },
        "labelOffset" : { "x" : 82, "y" : 41 }
      },
      "connect" : [
        { "id" : "f58", "to" : "f57" }
      ]
    }, {
      "id" : "f52",
      "type" : "RequestStart",
      "name" : "grantAccessFullListPermissions.ivp",
      "config" : {
        "signature" : "grantAccessFullListPermissions"
      },
      "visual" : {
        "at" : { "x" : 48, "y" : 1424 },
        "labelOffset" : { "x" : 82, "y" : 38 }
      },
      "connect" : [
        { "id" : "f55", "to" : "f54" }
      ]
    }, {
      "id" : "f57",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.ACCESS_FULL_PROCESS_LIST.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "}",
            "    ",
            "iPermission = IPermissionRepository.instance().findByName(PortalPermission.ACCESS_FULL_TASK_LIST.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "}",
            "",
            "iPermission = IPermissionRepository.instance().findByName(PortalPermission.ACCESS_FULL_CASE_LIST.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 200, "y" : 1360 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f59", "to" : "f7", "via" : [ { "x" : 408, "y" : 1360 } ] }
      ]
    }, {
      "id" : "f54",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.ACCESS_FULL_PROCESS_LIST.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "}",
            "    ",
            "iPermission = IPermissionRepository.instance().findByName(PortalPermission.ACCESS_FULL_TASK_LIST.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "}",
            "    ",
            "iPermission = IPermissionRepository.instance().findByName(PortalPermission.ACCESS_FULL_CASE_LIST.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 200, "y" : 1424 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f56", "to" : "f7", "via" : [ { "x" : 408, "y" : 1424 } ] }
      ]
    }, {
      "id" : "f68",
      "type" : "RequestStart",
      "name" : "denySpecificPermission.ivp",
      "config" : {
        "signature" : "denySpecificPermission",
        "input" : {
          "params" : [
            { "name" : "portalPermission", "type" : "String", "desc" : "" }
          ],
          "map" : {
            "out.portalPermission" : "param.portalPermission"
          }
        }
      },
      "visual" : {
        "at" : { "x" : 48, "y" : 1488 },
        "labelOffset" : { "x" : 57, "y" : 38 }
      },
      "connect" : [
        { "id" : "f77", "to" : "f76" }
      ]
    }, {
      "id" : "f69",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(in.portalPermission);",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 304, "y" : 1488 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f74", "to" : "f7", "via" : [ { "x" : 408, "y" : 1488 } ] }
      ]
    }, {
      "id" : "f70",
      "type" : "RequestStart",
      "name" : "grantSpecificPermission.ivp",
      "config" : {
        "signature" : "grantSpecificPermission",
        "input" : {
          "params" : [
            { "name" : "portalPermission", "type" : "String", "desc" : "" }
          ],
          "map" : {
            "out.portalPermission" : "param.portalPermission"
          }
        }
      },
      "visual" : {
        "at" : { "x" : 48, "y" : 1552 },
        "labelOffset" : { "x" : 61, "y" : 40 }
      },
      "connect" : [
        { "id" : "f79", "to" : "f78" }
      ]
    }, {
      "id" : "f71",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import ch.ivyteam.ivy.application.IApplication;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(in.portalPermission);",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 304, "y" : 1552 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f75", "to" : "f7", "via" : [ { "x" : 408, "y" : 1552 } ] }
      ]
    }, {
      "id" : "f76",
      "type" : "DialogCall",
      "name" : "Deny permission HTML",
      "config" : {
        "dialog" : "ch.ivy.addon.portalkit.test.GrantOrDenySpecificPermission:start(Boolean)",
        "call" : {
          "map" : {
            "param.isGrantPermission" : "false"
          }
        },
        "output" : {
          "map" : {
            "out" : "in",
            "out.portalPermission" : "result.permission"
          }
        }
      },
      "visual" : {
        "at" : { "x" : 176, "y" : 1488 },
        "size" : { "width" : 144 }
      },
      "connect" : [
        { "id" : "f72", "to" : "f69" }
      ]
    }, {
      "id" : "f78",
      "type" : "DialogCall",
      "name" : "Grant permission HTML",
      "config" : {
        "dialog" : "ch.ivy.addon.portalkit.test.GrantOrDenySpecificPermission:start(Boolean)",
        "call" : {
          "map" : {
            "param.isGrantPermission" : "true"
          }
        },
        "output" : {
          "map" : {
            "out" : "in",
            "out.portalPermission" : "result.permission"
          }
        }
      },
      "visual" : {
        "at" : { "x" : 176, "y" : 1552 },
        "size" : { "width" : 144 }
      },
      "connect" : [
        { "id" : "f73", "to" : "f71" }
      ]
    }, {
      "id" : "f80",
      "type" : "RequestStart",
      "name" : "denyResetTaskReadyForJoin.ivp",
      "config" : {
        "signature" : "denyResetTaskReadyForJoin"
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 464 },
        "labelOffset" : { "x" : 114, "y" : 20 }
      },
      "connect" : [
        { "id" : "f82", "to" : "f81" }
      ]
    }, {
      "id" : "f81",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.TASK_RESET_READY_FOR_JOIN.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "",
            "  ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 464 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f83", "to" : "f7", "via" : [ { "x" : 408, "y" : 464 } ] }
      ]
    }, {
      "id" : "f84",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.TASK_RESET_READY_FOR_JOIN.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 528 },
        "size" : { "width" : 48, "height" : 24 }
      },
      "connect" : [
        { "id" : "f85", "to" : "f7" }
      ]
    }, {
      "id" : "f86",
      "type" : "RequestStart",
      "name" : "grantResetTaskReadyForJoin.ivp",
      "config" : {
        "signature" : "grantResetTaskReadyForJoin"
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 528 },
        "labelOffset" : { "x" : 115, "y" : 20 }
      },
      "connect" : [
        { "id" : "f87", "to" : "f84" }
      ]
    }, {
      "id" : "f88",
      "type" : "RequestStart",
      "name" : "grantDestroyTaskPermission.ivp",
      "config" : {
        "signature" : "grantDestroyTaskPermission"
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 592 },
        "labelOffset" : { "x" : 113, "y" : 20 }
      },
      "connect" : [
        { "id" : "f91", "to" : "f90" }
      ]
    }, {
      "id" : "f90",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.TASK_DESTROY, ivy.session.getSessionUser());"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 592 },
        "size" : { "width" : 56, "height" : 24 }
      },
      "connect" : [
        { "id" : "f89", "to" : "f7", "via" : [ { "x" : 408, "y" : 592 } ] }
      ]
    }, {
      "id" : "f92",
      "type" : "RequestStart",
      "name" : "denyDestroyTaskPermission.ivp",
      "config" : {
        "signature" : "denyDestroyTaskPermission"
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 652 },
        "labelOffset" : { "x" : 112, "y" : 20 }
      },
      "connect" : [
        { "id" : "f95", "to" : "f94" }
      ]
    }, {
      "id" : "f94",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.IPermission;",
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "",
            "ISecurityContext.current().securityDescriptor().denyPermission(IPermission.TASK_DESTROY, ivy.session.getSessionUser());"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 652 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f93", "to" : "f7", "via" : [ { "x" : 408, "y" : 652 } ] }
      ]
    }, {
      "id" : "f96",
      "type" : "RequestStart",
      "name" : "grantReadAbsencesPermission.ivp",
      "config" : {
        "signature" : "grantReadAbsencesPermission"
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 704 },
        "labelOffset" : { "x" : 121, "y" : 20 }
      },
      "connect" : [
        { "id" : "f98", "to" : "f97" }
      ]
    }, {
      "id" : "f97",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.USER_READ_ABSENCES, ivy.session.getSessionUser());",
            "ISecurityContext.current().securityDescriptor().denyPermission(IPermission.USER_CREATE_ABSENCE, ivy.session.getSessionUser());",
            "ISecurityContext.current().securityDescriptor().denyPermission(IPermission.USER_DELETE_ABSENCE, ivy.session.getSessionUser());",
            "",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.USER_DELETE_OWN_ABSENCE, ivy.session.getSessionUser());",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.USER_CREATE_OWN_ABSENCE, ivy.session.getSessionUser());"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 704 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f99", "to" : "f7", "via" : [ { "x" : 408, "y" : 704 } ] }
      ]
    }, {
      "id" : "f100",
      "type" : "RequestStart",
      "name" : "grantReadOwnAbsencesPermission.ivp",
      "config" : {
        "signature" : "grantReadOwnAbsencesPermission"
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 768 },
        "labelOffset" : { "x" : 134, "y" : 20 }
      },
      "connect" : [
        { "id" : "f102", "to" : "f101" }
      ]
    }, {
      "id" : "f101",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.IPermission;",
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.USER_READ_OWN_ABSENCES, ivy.session.getSessionUser());"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 768 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f103", "to" : "f7", "via" : [ { "x" : 408, "y" : 768 } ] }
      ]
    }, {
      "id" : "f108",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.IPermission;",
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.USER_CREATE_ABSENCE, ivy.session.getSessionUser());"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 848 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f111", "to" : "f7", "via" : [ { "x" : 408, "y" : 848 } ] }
      ]
    }, {
      "id" : "f109",
      "type" : "RequestStart",
      "name" : "grantCreateAbsencePermission.ivp",
      "config" : {
        "signature" : "grantCreateAbsencePermission"
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 848 },
        "labelOffset" : { "x" : 121, "y" : 20 }
      },
      "connect" : [
        { "id" : "f110", "to" : "f108" }
      ]
    }, {
      "id" : "f104",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.USER_DELETE_ABSENCE, ivy.session.getSessionUser());"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 920 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f107", "to" : "f7", "via" : [ { "x" : 408, "y" : 920 } ] }
      ]
    }, {
      "id" : "f105",
      "type" : "RequestStart",
      "name" : "grantDeleteAbsencePermission.ivp",
      "config" : {
        "signature" : "grantDeleteAbsencePermission"
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 920 },
        "labelOffset" : { "x" : 121, "y" : 20 }
      },
      "connect" : [
        { "id" : "f106", "to" : "f104" }
      ]
    }, {
      "id" : "f112",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.USER_READ_OWN_ABSENCES, ivy.session.getSessionUser());",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.USER_READ_ABSENCES, ivy.session.getSessionUser());",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.USER_CREATE_SUBSTITUTE, ivy.session.getSessionUser());",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.USER_CREATE_OWN_SUBSTITUTE, ivy.session.getSessionUser());",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.USER_READ_SUBSTITUTES, ivy.session.getSessionUser());"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 992 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f115", "to" : "f7", "via" : [ { "x" : 408, "y" : 992 } ] }
      ]
    }, {
      "id" : "f113",
      "type" : "RequestStart",
      "name" : "grantCreateSubstitutePermission.ivp",
      "config" : {
        "signature" : "grantCreateSubstitutePermission"
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 992 },
        "labelOffset" : { "x" : 125, "y" : 20 }
      },
      "connect" : [
        { "id" : "f114", "to" : "f112" }
      ]
    }, {
      "id" : "f116",
      "type" : "RequestStart",
      "name" : "grantCreateOwnSubstitutePermission.ivp",
      "config" : {
        "signature" : "grantCreateOwnSubstitutePermission"
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 1056 },
        "labelOffset" : { "x" : 137, "y" : 20 }
      },
      "connect" : [
        { "id" : "f118", "to" : "f117" }
      ]
    }, {
      "id" : "f117",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.USER_READ_OWN_ABSENCES, ivy.session.getSessionUser());",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.USER_READ_ABSENCES, ivy.session.getSessionUser());",
            "ISecurityContext.current().securityDescriptor().denyPermission(IPermission.USER_CREATE_SUBSTITUTE, ivy.session.getSessionUser());",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.USER_CREATE_OWN_SUBSTITUTE, ivy.session.getSessionUser());",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.USER_READ_SUBSTITUTES, ivy.session.getSessionUser());"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 1056 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f119", "to" : "f7", "via" : [ { "x" : 408, "y" : 1056 } ] }
      ]
    }, {
      "id" : "f120",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "ISecurityContext.current().securityDescriptor().denyPermission(IPermission.USER_READ_SUBSTITUTES, ivy.session.getSessionUser());",
            "ISecurityContext.current().securityDescriptor().grantPermission(IPermission.USER_READ_OWN_SUBSTITUTES , ivy.session.getSessionUser());"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 1120 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f123", "to" : "f7", "via" : [ { "x" : 408, "y" : 1120 }, { "x" : 408, "y" : 528 } ] }
      ]
    }, {
      "id" : "f121",
      "type" : "RequestStart",
      "name" : "denyReadSubstitutesPermission.ivp",
      "config" : {
        "signature" : "denyReadSubstitutesPermission"
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 1120 },
        "labelOffset" : { "x" : 124, "y" : 20 }
      },
      "connect" : [
        { "id" : "f122", "to" : "f120" }
      ]
    }, {
      "id" : "f124",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.DASHBOARD_WRITE_OWN.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 1184 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f136", "to" : "f7", "via" : [ { "x" : 408, "y" : 1184 } ] }
      ]
    }, {
      "id" : "f125",
      "type" : "RequestStart",
      "name" : "grantDashboardWriteOwnPermission.ivp",
      "config" : {
        "signature" : "grantDashboardWriteOwnPermission"
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 1184 },
        "labelOffset" : { "x" : 136, "y" : 20 }
      },
      "connect" : [
        { "id" : "f126", "to" : "f124" }
      ]
    }, {
      "id" : "f127",
      "type" : "RequestStart",
      "name" : "denyDashboardWriteOwnPermission.ivp",
      "config" : {
        "signature" : "denyDashboardWriteOwnPermission"
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 1248 },
        "labelOffset" : { "x" : 135, "y" : 20 }
      },
      "connect" : [
        { "id" : "f129", "to" : "f128" }
      ]
    }, {
      "id" : "f128",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.DASHBOARD_WRITE_OWN.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 1248 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f137", "to" : "f7", "via" : [ { "x" : 408, "y" : 1248 } ] }
      ]
    }, {
      "id" : "f130",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.DASHBOARD_WRITE_PUBLIC.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 1312 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f138", "to" : "f7", "via" : [ { "x" : 408, "y" : 1312 } ] }
      ]
    }, {
      "id" : "f131",
      "type" : "RequestStart",
      "name" : "grantDashboardWritePublicPermission.ivp",
      "config" : {
        "signature" : "grantDashboardWritePublicPermission"
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 1312 },
        "labelOffset" : { "x" : 141, "y" : 20 }
      },
      "connect" : [
        { "id" : "f132", "to" : "f130" }
      ]
    }, {
      "id" : "f133",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import ch.ivyteam.ivy.application.IApplication;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.DASHBOARD_WRITE_PUBLIC.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 1376 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f139", "to" : "f7", "via" : [ { "x" : 408, "y" : 1376 } ] }
      ]
    }, {
      "id" : "f134",
      "type" : "RequestStart",
      "name" : "denyDashboardWritePublicPermission.ivp",
      "config" : {
        "signature" : "denyDashboardWritePublicPermission"
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 1376 },
        "labelOffset" : { "x" : 140, "y" : 20 }
      },
      "connect" : [
        { "id" : "f135", "to" : "f133" }
      ]
    }, {
      "id" : "f53",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.DASHBOARD_EXPORT_PUBLIC.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 1520 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f152", "to" : "f7", "via" : [ { "x" : 408, "y" : 1520 } ] }
      ]
    }, {
      "id" : "f140",
      "type" : "RequestStart",
      "name" : "denyDashboardExportPublicPermission.ivp",
      "config" : {
        "signature" : "denyDashboardExportPublicPermission"
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 1520 },
        "labelOffset" : { "x" : 145, "y" : 25 }
      },
      "connect" : [
        { "id" : "f141", "to" : "f53" }
      ]
    }, {
      "id" : "f142",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.DASHBOARD_EXPORT_OWN.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 1584 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f153", "to" : "f7", "via" : [ { "x" : 408, "y" : 1584 } ] }
      ]
    }, {
      "id" : "f143",
      "type" : "RequestStart",
      "name" : "grantDashboardExportOwnPermission.ivp",
      "config" : {
        "signature" : "grantDashboardExportOwnPermission"
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 1584 },
        "labelOffset" : { "x" : 145, "y" : 25 }
      },
      "connect" : [
        { "id" : "f144", "to" : "f142" }
      ]
    }, {
      "id" : "f145",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.DASHBOARD_EXPORT_PUBLIC.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 1456 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f151", "to" : "f7", "via" : [ { "x" : 408, "y" : 1456 } ] }
      ]
    }, {
      "id" : "f146",
      "type" : "RequestStart",
      "name" : "grantDashboardExportPublicPermission.ivp",
      "config" : {
        "signature" : "grantDashboardExportPublicPermission"
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 1456 },
        "labelOffset" : { "x" : 145, "y" : 25 }
      },
      "connect" : [
        { "id" : "f147", "to" : "f145" }
      ]
    }, {
      "id" : "f148",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.DASHBOARD_EXPORT_OWN.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 1648 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f154", "to" : "f7", "via" : [ { "x" : 408, "y" : 1648 } ] }
      ]
    }, {
      "id" : "f149",
      "type" : "RequestStart",
      "name" : "denyDashboardExportOwnPermission.ivp",
      "config" : {
        "signature" : "denyDashboardExportOwnPermission"
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 1648 },
        "labelOffset" : { "x" : 145, "y" : 25 }
      },
      "connect" : [
        { "id" : "f150", "to" : "f148" }
      ]
    }, {
      "id" : "f155",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.DASHBOARD_IMPORT_PUBLIC.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 1776 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f168", "to" : "f7", "via" : [ { "x" : 408, "y" : 1776 } ] }
      ]
    }, {
      "id" : "f156",
      "type" : "RequestStart",
      "name" : "denyDashboardImportPublicPermission.ivp",
      "config" : {
        "signature" : "denyDashboardImportPublicPermission",
        "request" : {
          "name" : "Deny Dashboard Import Public Permission"
        }
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 1776 },
        "labelOffset" : { "x" : 145, "y" : 25 }
      },
      "connect" : [
        { "id" : "f165", "to" : "f155" }
      ]
    }, {
      "id" : "f157",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.DASHBOARD_IMPORT_OWN.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 1840 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f169", "to" : "f7", "via" : [ { "x" : 408, "y" : 1840 } ] }
      ]
    }, {
      "id" : "f158",
      "type" : "RequestStart",
      "name" : "grantDashboardImportOwnPermission.ivp",
      "config" : {
        "signature" : "grantDashboardImportOwnPermission",
        "request" : {
          "name" : "Grant Dashboard Import Own Permission"
        }
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 1840 },
        "labelOffset" : { "x" : 145, "y" : 25 }
      },
      "connect" : [
        { "id" : "f166", "to" : "f157" }
      ]
    }, {
      "id" : "f159",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.DASHBOARD_IMPORT_PUBLIC.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 1712 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f167", "to" : "f7", "via" : [ { "x" : 408, "y" : 1712 } ] }
      ]
    }, {
      "id" : "f160",
      "type" : "RequestStart",
      "name" : "grantDashboardImportPublicPermission.ivp",
      "config" : {
        "signature" : "grantDashboardImportPublicPermission",
        "request" : {
          "name" : "Grant Dashboard Import Public Permission"
        }
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 1712 },
        "labelOffset" : { "x" : 145, "y" : 25 }
      },
      "connect" : [
        { "id" : "f164", "to" : "f159" }
      ]
    }, {
      "id" : "f161",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.DASHBOARD_IMPORT_OWN.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 1904 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f170", "to" : "f7", "via" : [ { "x" : 408, "y" : 1904 } ] }
      ]
    }, {
      "id" : "f162",
      "type" : "RequestStart",
      "name" : "denyDashboardImportOwnPermission.ivp",
      "config" : {
        "signature" : "denyDashboardImportOwnPermission",
        "request" : {
          "name" : "Deny Dashboard Import Own Permission"
        }
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 1904 },
        "labelOffset" : { "x" : 145, "y" : 25 }
      },
      "connect" : [
        { "id" : "f163", "to" : "f161" }
      ]
    }, {
      "id" : "f171",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.DASHBOARD_SHARE_LINK.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 1976 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f177", "to" : "f7", "via" : [ { "x" : 408, "y" : 1976 } ] }
      ]
    }, {
      "id" : "f172",
      "type" : "RequestStart",
      "name" : "grantDashboardShareLinkPermission.ivp",
      "config" : {
        "signature" : "grantDashboardShareLinkPermission",
        "request" : {
          "name" : "Grant Share Link Dashboard Permision"
        }
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 1976 },
        "labelOffset" : { "x" : 145, "y" : 25 }
      },
      "connect" : [
        { "id" : "f175", "to" : "f171" }
      ]
    }, {
      "id" : "f173",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.DASHBOARD_SHARE_LINK.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 2040 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f178", "to" : "f7", "via" : [ { "x" : 408, "y" : 2040 } ] }
      ]
    }, {
      "id" : "f174",
      "type" : "RequestStart",
      "name" : "denyDashboardShareLinkPermission.ivp",
      "config" : {
        "signature" : "denyDashboardShareLinkPermission",
        "request" : {
          "name" : "Deny Share Link Dashboard Permision"
        }
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 2040 },
        "labelOffset" : { "x" : 145, "y" : 25 }
      },
      "connect" : [
        { "id" : "f176", "to" : "f173" }
      ]
    }, {
      "id" : "f179",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.CASE_DETAILS_SHARE_LINK.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 2112 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f185", "to" : "f7", "via" : [ { "x" : 408, "y" : 2112 } ] }
      ]
    }, {
      "id" : "f180",
      "type" : "RequestStart",
      "name" : "grantCaseDetailsShareLinkPermission.ivp",
      "config" : {
        "signature" : "grantCaseDetailsShareLinkPermission",
        "request" : {
          "name" : "Grant Share Link Case Details Permision"
        }
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 2112 },
        "labelOffset" : { "x" : 145, "y" : 25 }
      },
      "connect" : [
        { "id" : "f184", "to" : "f179" }
      ]
    }, {
      "id" : "f181",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.CASE_DETAILS_SHARE_LINK.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 688, "y" : 2176 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f186", "to" : "f7", "via" : [ { "x" : 408, "y" : 2176 } ] }
      ]
    }, {
      "id" : "f182",
      "type" : "RequestStart",
      "name" : "denyCaseDetailsShareLinkPermission.ivp",
      "config" : {
        "signature" : "denyCaseDetailsShareLinkPermission",
        "request" : {
          "name" : "Deny Share Link Case Details Permision"
        }
      },
      "visual" : {
        "at" : { "x" : 896, "y" : 2176 },
        "labelOffset" : { "x" : 145, "y" : 25 }
      },
      "connect" : [
        { "id" : "f183", "to" : "f181" }
      ]
    }, {
      "id" : "f187",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.TASK_DETAILS_SHARE_LINK.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 200, "y" : 1624 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f193", "to" : "f7", "via" : [ { "x" : 408, "y" : 1624 } ] }
      ]
    }, {
      "id" : "f188",
      "type" : "RequestStart",
      "name" : "grantTaskDetailsShareLinkPermission.ivp",
      "config" : {
        "signature" : "grantTaskDetailsShareLinkPermission",
        "request" : {
          "name" : "Grant Share Link Task Details Permision"
        }
      },
      "visual" : {
        "at" : { "x" : 48, "y" : 1624 },
        "labelOffset" : { "x" : 145, "y" : 25 }
      },
      "connect" : [
        { "id" : "f192", "to" : "f187" }
      ]
    }, {
      "id" : "f189",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.TASK_DETAILS_SHARE_LINK.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 200, "y" : 1688 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f194", "to" : "f7", "via" : [ { "x" : 408, "y" : 1688 } ] }
      ]
    }, {
      "id" : "f190",
      "type" : "RequestStart",
      "name" : "denyTaskDetailsShareLinkPermission.ivp",
      "config" : {
        "signature" : "denyTaskDetailsShareLinkPermission",
        "request" : {
          "name" : "Deny Share Link Task Details Permision"
        }
      },
      "visual" : {
        "at" : { "x" : 48, "y" : 1688 },
        "labelOffset" : { "x" : 145, "y" : 25 }
      },
      "connect" : [
        { "id" : "f191", "to" : "f189" }
      ]
    }, {
      "id" : "f195",
      "type" : "RequestStart",
      "name" : "grantCaseReadAllOwnRoleInvolvedPermission.ivp",
      "config" : {
        "signature" : "grantCaseReadAllOwnRoleInvolvedPermission",
        "request" : {
          "name" : "Grant Case Read All Own Role Involved Permission"
        }
      },
      "visual" : {
        "at" : { "x" : 48, "y" : 1760 },
        "labelOffset" : { "x" : 145, "y" : 25 }
      },
      "connect" : [
        { "id" : "f197", "to" : "f196" }
      ]
    }, {
      "id" : "f196",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(IPermission.CASE_READ_ALL_OWN_ROLE_INVOLVED.getName());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 200, "y" : 1760 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f201", "to" : "f7", "via" : [ { "x" : 408, "y" : 1760 } ] }
      ]
    }, {
      "id" : "f198",
      "type" : "RequestStart",
      "name" : "denyCaseReadAllOwnRoleInvolvedPermission.ivp",
      "config" : {
        "signature" : "denyCaseReadAllOwnRoleInvolvedPermission",
        "request" : {
          "name" : "Deny Case Read All Own Role Involved Permission"
        }
      },
      "visual" : {
        "at" : { "x" : 48, "y" : 1840 },
        "labelOffset" : { "x" : 145, "y" : 25 }
      },
      "connect" : [
        { "id" : "f200", "to" : "f199" }
      ]
    }, {
      "id" : "f199",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(IPermission.CASE_READ_ALL_OWN_ROLE_INVOLVED.getName());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().denyPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 200, "y" : 1840 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f202", "to" : "f7", "via" : [ { "x" : 408, "y" : 1840 } ] }
      ]
    }, {
      "id" : "f203",
      "type" : "RequestStart",
      "name" : "grantCaseOwnerTaskDelegatePermission.ivp",
      "config" : {
        "signature" : "grantCaseOwnerTaskDelegatePermission",
        "request" : {
          "name" : "Grant CaseOwnerTaskDelegate permission"
        }
      },
      "visual" : {
        "at" : { "x" : 48, "y" : 1928 },
        "labelOffset" : { "x" : 145, "y" : 25 }
      },
      "connect" : [
        { "id" : "f205", "to" : "f204" }
      ]
    }, {
      "id" : "f204",
      "type" : "Script",
      "config" : {
        "output" : {
          "code" : [
            "import ch.ivyteam.ivy.security.ISecurityContext;",
            "import java.util.Objects;",
            "import ch.ivy.addon.portalkit.enums.PortalPermission;",
            "import ch.ivyteam.ivy.security.restricted.permission.IPermissionRepository;",
            "import ch.ivyteam.ivy.security.IPermission;",
            "",
            "IPermission iPermission = IPermissionRepository.instance().findByName(PortalPermission.CASE_OWNER_TASK_DELEGATE.getValue());",
            "if (Objects.nonNull(iPermission)){",
            "  ISecurityContext.current().securityDescriptor().grantPermission(iPermission, ivy.session.getSessionUser());",
            "}"
          ]
        },
        "sudo" : true
      },
      "visual" : {
        "at" : { "x" : 200, "y" : 1928 },
        "size" : { "width" : 40, "height" : 24 }
      },
      "connect" : [
        { "id" : "f206", "to" : "f7", "via" : [ { "x" : 408, "y" : 1928 } ] }
      ]
    } ],
  "layout" : {
    "lanes" : [ {
        "name" : "Request start",
        "size" : 2360
      } ]
  }
}